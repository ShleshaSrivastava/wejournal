"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@tiptap";
exports.ids = ["vendor-chunks/@tiptap"];
exports.modules = {

/***/ "(ssr)/./node_modules/@tiptap/core/dist/index.js":
/*!*************************************************!*\
  !*** ./node_modules/@tiptap/core/dist/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommandManager: () => (/* binding */ CommandManager),\n/* harmony export */   Editor: () => (/* binding */ Editor),\n/* harmony export */   Extension: () => (/* binding */ Extension),\n/* harmony export */   InputRule: () => (/* binding */ InputRule),\n/* harmony export */   Mark: () => (/* binding */ Mark),\n/* harmony export */   Node: () => (/* binding */ Node),\n/* harmony export */   NodePos: () => (/* binding */ NodePos),\n/* harmony export */   NodeView: () => (/* binding */ NodeView),\n/* harmony export */   PasteRule: () => (/* binding */ PasteRule),\n/* harmony export */   Tracker: () => (/* binding */ Tracker),\n/* harmony export */   callOrReturn: () => (/* binding */ callOrReturn),\n/* harmony export */   combineTransactionSteps: () => (/* binding */ combineTransactionSteps),\n/* harmony export */   createChainableState: () => (/* binding */ createChainableState),\n/* harmony export */   createDocument: () => (/* binding */ createDocument),\n/* harmony export */   createNodeFromContent: () => (/* binding */ createNodeFromContent),\n/* harmony export */   createStyleTag: () => (/* binding */ createStyleTag),\n/* harmony export */   defaultBlockAt: () => (/* binding */ defaultBlockAt),\n/* harmony export */   deleteProps: () => (/* binding */ deleteProps),\n/* harmony export */   elementFromString: () => (/* binding */ elementFromString),\n/* harmony export */   escapeForRegEx: () => (/* binding */ escapeForRegEx),\n/* harmony export */   extensions: () => (/* binding */ extensions),\n/* harmony export */   findChildren: () => (/* binding */ findChildren),\n/* harmony export */   findChildrenInRange: () => (/* binding */ findChildrenInRange),\n/* harmony export */   findDuplicates: () => (/* binding */ findDuplicates),\n/* harmony export */   findParentNode: () => (/* binding */ findParentNode),\n/* harmony export */   findParentNodeClosestToPos: () => (/* binding */ findParentNodeClosestToPos),\n/* harmony export */   fromString: () => (/* binding */ fromString),\n/* harmony export */   generateHTML: () => (/* binding */ generateHTML),\n/* harmony export */   generateJSON: () => (/* binding */ generateJSON),\n/* harmony export */   generateText: () => (/* binding */ generateText),\n/* harmony export */   getAttributes: () => (/* binding */ getAttributes),\n/* harmony export */   getAttributesFromExtensions: () => (/* binding */ getAttributesFromExtensions),\n/* harmony export */   getChangedRanges: () => (/* binding */ getChangedRanges),\n/* harmony export */   getDebugJSON: () => (/* binding */ getDebugJSON),\n/* harmony export */   getExtensionField: () => (/* binding */ getExtensionField),\n/* harmony export */   getHTMLFromFragment: () => (/* binding */ getHTMLFromFragment),\n/* harmony export */   getMarkAttributes: () => (/* binding */ getMarkAttributes),\n/* harmony export */   getMarkRange: () => (/* binding */ getMarkRange),\n/* harmony export */   getMarkType: () => (/* binding */ getMarkType),\n/* harmony export */   getMarksBetween: () => (/* binding */ getMarksBetween),\n/* harmony export */   getNodeAtPosition: () => (/* binding */ getNodeAtPosition),\n/* harmony export */   getNodeAttributes: () => (/* binding */ getNodeAttributes),\n/* harmony export */   getNodeType: () => (/* binding */ getNodeType),\n/* harmony export */   getRenderedAttributes: () => (/* binding */ getRenderedAttributes),\n/* harmony export */   getSchema: () => (/* binding */ getSchema),\n/* harmony export */   getSchemaByResolvedExtensions: () => (/* binding */ getSchemaByResolvedExtensions),\n/* harmony export */   getSchemaTypeByName: () => (/* binding */ getSchemaTypeByName),\n/* harmony export */   getSchemaTypeNameByName: () => (/* binding */ getSchemaTypeNameByName),\n/* harmony export */   getSplittedAttributes: () => (/* binding */ getSplittedAttributes),\n/* harmony export */   getText: () => (/* binding */ getText),\n/* harmony export */   getTextBetween: () => (/* binding */ getTextBetween),\n/* harmony export */   getTextContentFromNodes: () => (/* binding */ getTextContentFromNodes),\n/* harmony export */   getTextSerializersFromSchema: () => (/* binding */ getTextSerializersFromSchema),\n/* harmony export */   injectExtensionAttributesToParseRule: () => (/* binding */ injectExtensionAttributesToParseRule),\n/* harmony export */   inputRulesPlugin: () => (/* binding */ inputRulesPlugin),\n/* harmony export */   isActive: () => (/* binding */ isActive),\n/* harmony export */   isAtEndOfNode: () => (/* binding */ isAtEndOfNode),\n/* harmony export */   isAtStartOfNode: () => (/* binding */ isAtStartOfNode),\n/* harmony export */   isEmptyObject: () => (/* binding */ isEmptyObject),\n/* harmony export */   isExtensionRulesEnabled: () => (/* binding */ isExtensionRulesEnabled),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isList: () => (/* binding */ isList),\n/* harmony export */   isMacOS: () => (/* binding */ isMacOS),\n/* harmony export */   isMarkActive: () => (/* binding */ isMarkActive),\n/* harmony export */   isNodeActive: () => (/* binding */ isNodeActive),\n/* harmony export */   isNodeEmpty: () => (/* binding */ isNodeEmpty),\n/* harmony export */   isNodeSelection: () => (/* binding */ isNodeSelection),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isPlainObject: () => (/* binding */ isPlainObject),\n/* harmony export */   isRegExp: () => (/* binding */ isRegExp),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isTextSelection: () => (/* binding */ isTextSelection),\n/* harmony export */   isiOS: () => (/* binding */ isiOS),\n/* harmony export */   markInputRule: () => (/* binding */ markInputRule),\n/* harmony export */   markPasteRule: () => (/* binding */ markPasteRule),\n/* harmony export */   mergeAttributes: () => (/* binding */ mergeAttributes),\n/* harmony export */   mergeDeep: () => (/* binding */ mergeDeep),\n/* harmony export */   minMax: () => (/* binding */ minMax),\n/* harmony export */   nodeInputRule: () => (/* binding */ nodeInputRule),\n/* harmony export */   nodePasteRule: () => (/* binding */ nodePasteRule),\n/* harmony export */   objectIncludes: () => (/* binding */ objectIncludes),\n/* harmony export */   pasteRulesPlugin: () => (/* binding */ pasteRulesPlugin),\n/* harmony export */   posToDOMRect: () => (/* binding */ posToDOMRect),\n/* harmony export */   removeDuplicates: () => (/* binding */ removeDuplicates),\n/* harmony export */   resolveFocusPosition: () => (/* binding */ resolveFocusPosition),\n/* harmony export */   selectionToInsertionEnd: () => (/* binding */ selectionToInsertionEnd),\n/* harmony export */   splitExtensions: () => (/* binding */ splitExtensions),\n/* harmony export */   textInputRule: () => (/* binding */ textInputRule),\n/* harmony export */   textPasteRule: () => (/* binding */ textPasteRule),\n/* harmony export */   textblockTypeInputRule: () => (/* binding */ textblockTypeInputRule),\n/* harmony export */   wrappingInputRule: () => (/* binding */ wrappingInputRule)\n/* harmony export */ });\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n/* harmony import */ var _tiptap_pm_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/pm/view */ \"(ssr)/./node_modules/@tiptap/pm/view/dist/index.js\");\n/* harmony import */ var _tiptap_pm_keymap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/pm/keymap */ \"(ssr)/./node_modules/@tiptap/pm/keymap/dist/index.js\");\n/* harmony import */ var _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/pm/model */ \"(ssr)/./node_modules/@tiptap/pm/model/dist/index.js\");\n/* harmony import */ var _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/pm/transform */ \"(ssr)/./node_modules/@tiptap/pm/transform/dist/index.js\");\n/* harmony import */ var _tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tiptap/pm/commands */ \"(ssr)/./node_modules/@tiptap/pm/commands/dist/index.js\");\n/* harmony import */ var _tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/pm/schema-list */ \"(ssr)/./node_modules/@tiptap/pm/schema-list/dist/index.js\");\n\n\n\n\n\n\n\nfunction createChainableState(config) {\n    const { state, transaction } = config;\n    let { selection } = transaction;\n    let { doc } = transaction;\n    let { storedMarks } = transaction;\n    return {\n        ...state,\n        apply: state.apply.bind(state),\n        applyTransaction: state.applyTransaction.bind(state),\n        plugins: state.plugins,\n        schema: state.schema,\n        reconfigure: state.reconfigure.bind(state),\n        toJSON: state.toJSON.bind(state),\n        get storedMarks () {\n            return storedMarks;\n        },\n        get selection () {\n            return selection;\n        },\n        get doc () {\n            return doc;\n        },\n        get tr () {\n            selection = transaction.selection;\n            doc = transaction.doc;\n            storedMarks = transaction.storedMarks;\n            return transaction;\n        }\n    };\n}\nclass CommandManager {\n    constructor(props){\n        this.editor = props.editor;\n        this.rawCommands = this.editor.extensionManager.commands;\n        this.customState = props.state;\n    }\n    get hasCustomState() {\n        return !!this.customState;\n    }\n    get state() {\n        return this.customState || this.editor.state;\n    }\n    get commands() {\n        const { rawCommands, editor, state } = this;\n        const { view } = editor;\n        const { tr } = state;\n        const props = this.buildProps(tr);\n        return Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n            const method = (...args)=>{\n                const callback = command(...args)(props);\n                if (!tr.getMeta(\"preventDispatch\") && !this.hasCustomState) {\n                    view.dispatch(tr);\n                }\n                return callback;\n            };\n            return [\n                name,\n                method\n            ];\n        }));\n    }\n    get chain() {\n        return ()=>this.createChain();\n    }\n    get can() {\n        return ()=>this.createCan();\n    }\n    createChain(startTr, shouldDispatch = true) {\n        const { rawCommands, editor, state } = this;\n        const { view } = editor;\n        const callbacks = [];\n        const hasStartTransaction = !!startTr;\n        const tr = startTr || state.tr;\n        const run = ()=>{\n            if (!hasStartTransaction && shouldDispatch && !tr.getMeta(\"preventDispatch\") && !this.hasCustomState) {\n                view.dispatch(tr);\n            }\n            return callbacks.every((callback)=>callback === true);\n        };\n        const chain = {\n            ...Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n                const chainedCommand = (...args)=>{\n                    const props = this.buildProps(tr, shouldDispatch);\n                    const callback = command(...args)(props);\n                    callbacks.push(callback);\n                    return chain;\n                };\n                return [\n                    name,\n                    chainedCommand\n                ];\n            })),\n            run\n        };\n        return chain;\n    }\n    createCan(startTr) {\n        const { rawCommands, state } = this;\n        const dispatch = false;\n        const tr = startTr || state.tr;\n        const props = this.buildProps(tr, dispatch);\n        const formattedCommands = Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n            return [\n                name,\n                (...args)=>command(...args)({\n                        ...props,\n                        dispatch: undefined\n                    })\n            ];\n        }));\n        return {\n            ...formattedCommands,\n            chain: ()=>this.createChain(tr, dispatch)\n        };\n    }\n    buildProps(tr, shouldDispatch = true) {\n        const { rawCommands, editor, state } = this;\n        const { view } = editor;\n        const props = {\n            tr,\n            editor,\n            view,\n            state: createChainableState({\n                state,\n                transaction: tr\n            }),\n            dispatch: shouldDispatch ? ()=>undefined : undefined,\n            chain: ()=>this.createChain(tr, shouldDispatch),\n            can: ()=>this.createCan(tr),\n            get commands () {\n                return Object.fromEntries(Object.entries(rawCommands).map(([name, command])=>{\n                    return [\n                        name,\n                        (...args)=>command(...args)(props)\n                    ];\n                }));\n            }\n        };\n        return props;\n    }\n}\nclass EventEmitter {\n    constructor(){\n        this.callbacks = {};\n    }\n    on(event, fn) {\n        if (!this.callbacks[event]) {\n            this.callbacks[event] = [];\n        }\n        this.callbacks[event].push(fn);\n        return this;\n    }\n    emit(event, ...args) {\n        const callbacks = this.callbacks[event];\n        if (callbacks) {\n            callbacks.forEach((callback)=>callback.apply(this, args));\n        }\n        return this;\n    }\n    off(event, fn) {\n        const callbacks = this.callbacks[event];\n        if (callbacks) {\n            if (fn) {\n                this.callbacks[event] = callbacks.filter((callback)=>callback !== fn);\n            } else {\n                delete this.callbacks[event];\n            }\n        }\n        return this;\n    }\n    removeAllListeners() {\n        this.callbacks = {};\n    }\n}\nfunction getExtensionField(extension, field, context) {\n    if (extension.config[field] === undefined && extension.parent) {\n        return getExtensionField(extension.parent, field, context);\n    }\n    if (typeof extension.config[field] === \"function\") {\n        const value = extension.config[field].bind({\n            ...context,\n            parent: extension.parent ? getExtensionField(extension.parent, field, context) : null\n        });\n        return value;\n    }\n    return extension.config[field];\n}\nfunction splitExtensions(extensions) {\n    const baseExtensions = extensions.filter((extension)=>extension.type === \"extension\");\n    const nodeExtensions = extensions.filter((extension)=>extension.type === \"node\");\n    const markExtensions = extensions.filter((extension)=>extension.type === \"mark\");\n    return {\n        baseExtensions,\n        nodeExtensions,\n        markExtensions\n    };\n}\n/**\r\n * Get a list of all extension attributes defined in `addAttribute` and `addGlobalAttribute`.\r\n * @param extensions List of extensions\r\n */ function getAttributesFromExtensions(extensions) {\n    const extensionAttributes = [];\n    const { nodeExtensions, markExtensions } = splitExtensions(extensions);\n    const nodeAndMarkExtensions = [\n        ...nodeExtensions,\n        ...markExtensions\n    ];\n    const defaultAttribute = {\n        default: null,\n        rendered: true,\n        renderHTML: null,\n        parseHTML: null,\n        keepOnSplit: true,\n        isRequired: false\n    };\n    extensions.forEach((extension)=>{\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage\n        };\n        const addGlobalAttributes = getExtensionField(extension, \"addGlobalAttributes\", context);\n        if (!addGlobalAttributes) {\n            return;\n        }\n        // TODO: remove `as GlobalAttributes`\n        const globalAttributes = addGlobalAttributes();\n        globalAttributes.forEach((globalAttribute)=>{\n            globalAttribute.types.forEach((type)=>{\n                Object.entries(globalAttribute.attributes).forEach(([name, attribute])=>{\n                    extensionAttributes.push({\n                        type,\n                        name,\n                        attribute: {\n                            ...defaultAttribute,\n                            ...attribute\n                        }\n                    });\n                });\n            });\n        });\n    });\n    nodeAndMarkExtensions.forEach((extension)=>{\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage\n        };\n        const addAttributes = getExtensionField(extension, \"addAttributes\", context);\n        if (!addAttributes) {\n            return;\n        }\n        // TODO: remove `as Attributes`\n        const attributes = addAttributes();\n        Object.entries(attributes).forEach(([name, attribute])=>{\n            const mergedAttr = {\n                ...defaultAttribute,\n                ...attribute\n            };\n            if (typeof (mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.default) === \"function\") {\n                mergedAttr.default = mergedAttr.default();\n            }\n            if ((mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.isRequired) && (mergedAttr === null || mergedAttr === void 0 ? void 0 : mergedAttr.default) === undefined) {\n                delete mergedAttr.default;\n            }\n            extensionAttributes.push({\n                type: extension.name,\n                name,\n                attribute: mergedAttr\n            });\n        });\n    });\n    return extensionAttributes;\n}\nfunction getNodeType(nameOrType, schema) {\n    if (typeof nameOrType === \"string\") {\n        if (!schema.nodes[nameOrType]) {\n            throw Error(`There is no node type named '${nameOrType}'. Maybe you forgot to add the extension?`);\n        }\n        return schema.nodes[nameOrType];\n    }\n    return nameOrType;\n}\nfunction mergeAttributes(...objects) {\n    return objects.filter((item)=>!!item).reduce((items, item)=>{\n        const mergedAttributes = {\n            ...items\n        };\n        Object.entries(item).forEach(([key, value])=>{\n            const exists = mergedAttributes[key];\n            if (!exists) {\n                mergedAttributes[key] = value;\n                return;\n            }\n            if (key === \"class\") {\n                const valueClasses = value ? value.split(\" \") : [];\n                const existingClasses = mergedAttributes[key] ? mergedAttributes[key].split(\" \") : [];\n                const insertClasses = valueClasses.filter((valueClass)=>!existingClasses.includes(valueClass));\n                mergedAttributes[key] = [\n                    ...existingClasses,\n                    ...insertClasses\n                ].join(\" \");\n            } else if (key === \"style\") {\n                mergedAttributes[key] = [\n                    mergedAttributes[key],\n                    value\n                ].join(\"; \");\n            } else {\n                mergedAttributes[key] = value;\n            }\n        });\n        return mergedAttributes;\n    }, {});\n}\nfunction getRenderedAttributes(nodeOrMark, extensionAttributes) {\n    return extensionAttributes.filter((item)=>item.attribute.rendered).map((item)=>{\n        if (!item.attribute.renderHTML) {\n            return {\n                [item.name]: nodeOrMark.attrs[item.name]\n            };\n        }\n        return item.attribute.renderHTML(nodeOrMark.attrs) || {};\n    }).reduce((attributes, attribute)=>mergeAttributes(attributes, attribute), {});\n}\nfunction isFunction(value) {\n    return typeof value === \"function\";\n}\n/**\r\n * Optionally calls `value` as a function.\r\n * Otherwise it is returned directly.\r\n * @param value Function or any value.\r\n * @param context Optional context to bind to function.\r\n * @param props Optional props to pass to function.\r\n */ function callOrReturn(value, context = undefined, ...props) {\n    if (isFunction(value)) {\n        if (context) {\n            return value.bind(context)(...props);\n        }\n        return value(...props);\n    }\n    return value;\n}\nfunction isEmptyObject(value = {}) {\n    return Object.keys(value).length === 0 && value.constructor === Object;\n}\nfunction fromString(value) {\n    if (typeof value !== \"string\") {\n        return value;\n    }\n    if (value.match(/^[+-]?(?:\\d*\\.)?\\d+$/)) {\n        return Number(value);\n    }\n    if (value === \"true\") {\n        return true;\n    }\n    if (value === \"false\") {\n        return false;\n    }\n    return value;\n}\n/**\r\n * This function merges extension attributes into parserule attributes (`attrs` or `getAttrs`).\r\n * Cancels when `getAttrs` returned `false`.\r\n * @param parseRule ProseMirror ParseRule\r\n * @param extensionAttributes List of attributes to inject\r\n */ function injectExtensionAttributesToParseRule(parseRule, extensionAttributes) {\n    if (parseRule.style) {\n        return parseRule;\n    }\n    return {\n        ...parseRule,\n        getAttrs: (node)=>{\n            const oldAttributes = parseRule.getAttrs ? parseRule.getAttrs(node) : parseRule.attrs;\n            if (oldAttributes === false) {\n                return false;\n            }\n            const newAttributes = extensionAttributes.reduce((items, item)=>{\n                const value = item.attribute.parseHTML ? item.attribute.parseHTML(node) : fromString(node.getAttribute(item.name));\n                if (value === null || value === undefined) {\n                    return items;\n                }\n                return {\n                    ...items,\n                    [item.name]: value\n                };\n            }, {});\n            return {\n                ...oldAttributes,\n                ...newAttributes\n            };\n        }\n    };\n}\nfunction cleanUpSchemaItem(data) {\n    return Object.fromEntries(// @ts-ignore\n    Object.entries(data).filter(([key, value])=>{\n        if (key === \"attrs\" && isEmptyObject(value)) {\n            return false;\n        }\n        return value !== null && value !== undefined;\n    }));\n}\nfunction getSchemaByResolvedExtensions(extensions, editor) {\n    var _a;\n    const allAttributes = getAttributesFromExtensions(extensions);\n    const { nodeExtensions, markExtensions } = splitExtensions(extensions);\n    const topNode = (_a = nodeExtensions.find((extension)=>getExtensionField(extension, \"topNode\"))) === null || _a === void 0 ? void 0 : _a.name;\n    const nodes = Object.fromEntries(nodeExtensions.map((extension)=>{\n        const extensionAttributes = allAttributes.filter((attribute)=>attribute.type === extension.name);\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage,\n            editor\n        };\n        const extraNodeFields = extensions.reduce((fields, e)=>{\n            const extendNodeSchema = getExtensionField(e, \"extendNodeSchema\", context);\n            return {\n                ...fields,\n                ...extendNodeSchema ? extendNodeSchema(extension) : {}\n            };\n        }, {});\n        const schema = cleanUpSchemaItem({\n            ...extraNodeFields,\n            content: callOrReturn(getExtensionField(extension, \"content\", context)),\n            marks: callOrReturn(getExtensionField(extension, \"marks\", context)),\n            group: callOrReturn(getExtensionField(extension, \"group\", context)),\n            inline: callOrReturn(getExtensionField(extension, \"inline\", context)),\n            atom: callOrReturn(getExtensionField(extension, \"atom\", context)),\n            selectable: callOrReturn(getExtensionField(extension, \"selectable\", context)),\n            draggable: callOrReturn(getExtensionField(extension, \"draggable\", context)),\n            code: callOrReturn(getExtensionField(extension, \"code\", context)),\n            defining: callOrReturn(getExtensionField(extension, \"defining\", context)),\n            isolating: callOrReturn(getExtensionField(extension, \"isolating\", context)),\n            attrs: Object.fromEntries(extensionAttributes.map((extensionAttribute)=>{\n                var _a;\n                return [\n                    extensionAttribute.name,\n                    {\n                        default: (_a = extensionAttribute === null || extensionAttribute === void 0 ? void 0 : extensionAttribute.attribute) === null || _a === void 0 ? void 0 : _a.default\n                    }\n                ];\n            }))\n        });\n        const parseHTML = callOrReturn(getExtensionField(extension, \"parseHTML\", context));\n        if (parseHTML) {\n            schema.parseDOM = parseHTML.map((parseRule)=>injectExtensionAttributesToParseRule(parseRule, extensionAttributes));\n        }\n        const renderHTML = getExtensionField(extension, \"renderHTML\", context);\n        if (renderHTML) {\n            schema.toDOM = (node)=>renderHTML({\n                    node,\n                    HTMLAttributes: getRenderedAttributes(node, extensionAttributes)\n                });\n        }\n        const renderText = getExtensionField(extension, \"renderText\", context);\n        if (renderText) {\n            schema.toText = renderText;\n        }\n        return [\n            extension.name,\n            schema\n        ];\n    }));\n    const marks = Object.fromEntries(markExtensions.map((extension)=>{\n        const extensionAttributes = allAttributes.filter((attribute)=>attribute.type === extension.name);\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage,\n            editor\n        };\n        const extraMarkFields = extensions.reduce((fields, e)=>{\n            const extendMarkSchema = getExtensionField(e, \"extendMarkSchema\", context);\n            return {\n                ...fields,\n                ...extendMarkSchema ? extendMarkSchema(extension) : {}\n            };\n        }, {});\n        const schema = cleanUpSchemaItem({\n            ...extraMarkFields,\n            inclusive: callOrReturn(getExtensionField(extension, \"inclusive\", context)),\n            excludes: callOrReturn(getExtensionField(extension, \"excludes\", context)),\n            group: callOrReturn(getExtensionField(extension, \"group\", context)),\n            spanning: callOrReturn(getExtensionField(extension, \"spanning\", context)),\n            code: callOrReturn(getExtensionField(extension, \"code\", context)),\n            attrs: Object.fromEntries(extensionAttributes.map((extensionAttribute)=>{\n                var _a;\n                return [\n                    extensionAttribute.name,\n                    {\n                        default: (_a = extensionAttribute === null || extensionAttribute === void 0 ? void 0 : extensionAttribute.attribute) === null || _a === void 0 ? void 0 : _a.default\n                    }\n                ];\n            }))\n        });\n        const parseHTML = callOrReturn(getExtensionField(extension, \"parseHTML\", context));\n        if (parseHTML) {\n            schema.parseDOM = parseHTML.map((parseRule)=>injectExtensionAttributesToParseRule(parseRule, extensionAttributes));\n        }\n        const renderHTML = getExtensionField(extension, \"renderHTML\", context);\n        if (renderHTML) {\n            schema.toDOM = (mark)=>renderHTML({\n                    mark,\n                    HTMLAttributes: getRenderedAttributes(mark, extensionAttributes)\n                });\n        }\n        return [\n            extension.name,\n            schema\n        ];\n    }));\n    return new _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Schema({\n        topNode,\n        nodes,\n        marks\n    });\n}\nfunction getSchemaTypeByName(name, schema) {\n    return schema.nodes[name] || schema.marks[name] || null;\n}\nfunction isExtensionRulesEnabled(extension, enabled) {\n    if (Array.isArray(enabled)) {\n        return enabled.some((enabledExtension)=>{\n            const name = typeof enabledExtension === \"string\" ? enabledExtension : enabledExtension.name;\n            return name === extension.name;\n        });\n    }\n    return enabled;\n}\nconst getTextContentFromNodes = ($from, maxMatch = 500)=>{\n    let textBefore = \"\";\n    const sliceEndPos = $from.parentOffset;\n    $from.parent.nodesBetween(Math.max(0, sliceEndPos - maxMatch), sliceEndPos, (node, pos, parent, index)=>{\n        var _a, _b;\n        const chunk = ((_b = (_a = node.type.spec).toText) === null || _b === void 0 ? void 0 : _b.call(_a, {\n            node,\n            pos,\n            parent,\n            index\n        })) || node.textContent || \"%leaf%\";\n        textBefore += chunk.slice(0, Math.max(0, sliceEndPos - pos));\n    });\n    return textBefore;\n};\nfunction isRegExp(value) {\n    return Object.prototype.toString.call(value) === \"[object RegExp]\";\n}\nclass InputRule {\n    constructor(config){\n        this.find = config.find;\n        this.handler = config.handler;\n    }\n}\nconst inputRuleMatcherHandler = (text, find)=>{\n    if (isRegExp(find)) {\n        return find.exec(text);\n    }\n    const inputRuleMatch = find(text);\n    if (!inputRuleMatch) {\n        return null;\n    }\n    const result = [\n        inputRuleMatch.text\n    ];\n    result.index = inputRuleMatch.index;\n    result.input = text;\n    result.data = inputRuleMatch.data;\n    if (inputRuleMatch.replaceWith) {\n        if (!inputRuleMatch.text.includes(inputRuleMatch.replaceWith)) {\n            console.warn('[tiptap warn]: \"inputRuleMatch.replaceWith\" must be part of \"inputRuleMatch.text\".');\n        }\n        result.push(inputRuleMatch.replaceWith);\n    }\n    return result;\n};\nfunction run$1(config) {\n    var _a;\n    const { editor, from, to, text, rules, plugin } = config;\n    const { view } = editor;\n    if (view.composing) {\n        return false;\n    }\n    const $from = view.state.doc.resolve(from);\n    if (// check for code node\n    $from.parent.type.spec.code || !!((_a = $from.nodeBefore || $from.nodeAfter) === null || _a === void 0 ? void 0 : _a.marks.find((mark)=>mark.type.spec.code))) {\n        return false;\n    }\n    let matched = false;\n    const textBefore = getTextContentFromNodes($from) + text;\n    rules.forEach((rule)=>{\n        if (matched) {\n            return;\n        }\n        const match = inputRuleMatcherHandler(textBefore, rule.find);\n        if (!match) {\n            return;\n        }\n        const tr = view.state.tr;\n        const state = createChainableState({\n            state: view.state,\n            transaction: tr\n        });\n        const range = {\n            from: from - (match[0].length - text.length),\n            to\n        };\n        const { commands, chain, can } = new CommandManager({\n            editor,\n            state\n        });\n        const handler = rule.handler({\n            state,\n            range,\n            match,\n            commands,\n            chain,\n            can\n        });\n        // stop if there are no changes\n        if (handler === null || !tr.steps.length) {\n            return;\n        }\n        // store transform as meta data\n        // so we can undo input rules within the `undoInputRules` command\n        tr.setMeta(plugin, {\n            transform: tr,\n            from,\n            to,\n            text\n        });\n        view.dispatch(tr);\n        matched = true;\n    });\n    return matched;\n}\n/**\r\n * Create an input rules plugin. When enabled, it will cause text\r\n * input that matches any of the given rules to trigger the rule’s\r\n * action.\r\n */ function inputRulesPlugin(props) {\n    const { editor, rules } = props;\n    const plugin = new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n        state: {\n            init () {\n                return null;\n            },\n            apply (tr, prev) {\n                const stored = tr.getMeta(plugin);\n                if (stored) {\n                    return stored;\n                }\n                return tr.selectionSet || tr.docChanged ? null : prev;\n            }\n        },\n        props: {\n            handleTextInput (view, from, to, text) {\n                return run$1({\n                    editor,\n                    from,\n                    to,\n                    text,\n                    rules,\n                    plugin\n                });\n            },\n            handleDOMEvents: {\n                compositionend: (view)=>{\n                    setTimeout(()=>{\n                        const { $cursor } = view.state.selection;\n                        if ($cursor) {\n                            run$1({\n                                editor,\n                                from: $cursor.pos,\n                                to: $cursor.pos,\n                                text: \"\",\n                                rules,\n                                plugin\n                            });\n                        }\n                    });\n                    return false;\n                }\n            },\n            // add support for input rules to trigger on enter\n            // this is useful for example for code blocks\n            handleKeyDown (view, event) {\n                if (event.key !== \"Enter\") {\n                    return false;\n                }\n                const { $cursor } = view.state.selection;\n                if ($cursor) {\n                    return run$1({\n                        editor,\n                        from: $cursor.pos,\n                        to: $cursor.pos,\n                        text: \"\\n\",\n                        rules,\n                        plugin\n                    });\n                }\n                return false;\n            }\n        },\n        // @ts-ignore\n        isInputRules: true\n    });\n    return plugin;\n}\nfunction isNumber(value) {\n    return typeof value === \"number\";\n}\nclass PasteRule {\n    constructor(config){\n        this.find = config.find;\n        this.handler = config.handler;\n    }\n}\nconst pasteRuleMatcherHandler = (text, find, event)=>{\n    if (isRegExp(find)) {\n        return [\n            ...text.matchAll(find)\n        ];\n    }\n    const matches = find(text, event);\n    if (!matches) {\n        return [];\n    }\n    return matches.map((pasteRuleMatch)=>{\n        const result = [\n            pasteRuleMatch.text\n        ];\n        result.index = pasteRuleMatch.index;\n        result.input = text;\n        result.data = pasteRuleMatch.data;\n        if (pasteRuleMatch.replaceWith) {\n            if (!pasteRuleMatch.text.includes(pasteRuleMatch.replaceWith)) {\n                console.warn('[tiptap warn]: \"pasteRuleMatch.replaceWith\" must be part of \"pasteRuleMatch.text\".');\n            }\n            result.push(pasteRuleMatch.replaceWith);\n        }\n        return result;\n    });\n};\nfunction run(config) {\n    const { editor, state, from, to, rule, pasteEvent, dropEvent } = config;\n    const { commands, chain, can } = new CommandManager({\n        editor,\n        state\n    });\n    const handlers = [];\n    state.doc.nodesBetween(from, to, (node, pos)=>{\n        if (!node.isTextblock || node.type.spec.code) {\n            return;\n        }\n        const resolvedFrom = Math.max(from, pos);\n        const resolvedTo = Math.min(to, pos + node.content.size);\n        const textToMatch = node.textBetween(resolvedFrom - pos, resolvedTo - pos, undefined, \"￼\");\n        const matches = pasteRuleMatcherHandler(textToMatch, rule.find, pasteEvent);\n        matches.forEach((match)=>{\n            if (match.index === undefined) {\n                return;\n            }\n            const start = resolvedFrom + match.index + 1;\n            const end = start + match[0].length;\n            const range = {\n                from: state.tr.mapping.map(start),\n                to: state.tr.mapping.map(end)\n            };\n            const handler = rule.handler({\n                state,\n                range,\n                match,\n                commands,\n                chain,\n                can,\n                pasteEvent,\n                dropEvent\n            });\n            handlers.push(handler);\n        });\n    });\n    const success = handlers.every((handler)=>handler !== null);\n    return success;\n}\n/**\r\n * Create an paste rules plugin. When enabled, it will cause pasted\r\n * text that matches any of the given rules to trigger the rule’s\r\n * action.\r\n */ function pasteRulesPlugin(props) {\n    const { editor, rules } = props;\n    let dragSourceElement = null;\n    let isPastedFromProseMirror = false;\n    let isDroppedFromProseMirror = false;\n    let pasteEvent = new ClipboardEvent(\"paste\");\n    let dropEvent = new DragEvent(\"drop\");\n    const plugins = rules.map((rule)=>{\n        return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n            // we register a global drag handler to track the current drag source element\n            view (view) {\n                const handleDragstart = (event)=>{\n                    var _a;\n                    dragSourceElement = ((_a = view.dom.parentElement) === null || _a === void 0 ? void 0 : _a.contains(event.target)) ? view.dom.parentElement : null;\n                };\n                window.addEventListener(\"dragstart\", handleDragstart);\n                return {\n                    destroy () {\n                        window.removeEventListener(\"dragstart\", handleDragstart);\n                    }\n                };\n            },\n            props: {\n                handleDOMEvents: {\n                    drop: (view, event)=>{\n                        isDroppedFromProseMirror = dragSourceElement === view.dom.parentElement;\n                        dropEvent = event;\n                        return false;\n                    },\n                    paste: (_view, event)=>{\n                        var _a;\n                        const html = (_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData(\"text/html\");\n                        pasteEvent = event;\n                        isPastedFromProseMirror = !!(html === null || html === void 0 ? void 0 : html.includes(\"data-pm-slice\"));\n                        return false;\n                    }\n                }\n            },\n            appendTransaction: (transactions, oldState, state)=>{\n                const transaction = transactions[0];\n                const isPaste = transaction.getMeta(\"uiEvent\") === \"paste\" && !isPastedFromProseMirror;\n                const isDrop = transaction.getMeta(\"uiEvent\") === \"drop\" && !isDroppedFromProseMirror;\n                if (!isPaste && !isDrop) {\n                    return;\n                }\n                // stop if there is no changed range\n                const from = oldState.doc.content.findDiffStart(state.doc.content);\n                const to = oldState.doc.content.findDiffEnd(state.doc.content);\n                if (!isNumber(from) || !to || from === to.b) {\n                    return;\n                }\n                // build a chainable state\n                // so we can use a single transaction for all paste rules\n                const tr = state.tr;\n                const chainableState = createChainableState({\n                    state,\n                    transaction: tr\n                });\n                const handler = run({\n                    editor,\n                    state: chainableState,\n                    from: Math.max(from - 1, 0),\n                    to: to.b - 1,\n                    rule,\n                    pasteEvent,\n                    dropEvent\n                });\n                // stop if there are no changes\n                if (!handler || !tr.steps.length) {\n                    return;\n                }\n                dropEvent = new DragEvent(\"drop\");\n                pasteEvent = new ClipboardEvent(\"paste\");\n                return tr;\n            }\n        });\n    });\n    return plugins;\n}\nfunction findDuplicates(items) {\n    const filtered = items.filter((el, index)=>items.indexOf(el) !== index);\n    return [\n        ...new Set(filtered)\n    ];\n}\nclass ExtensionManager {\n    constructor(extensions, editor){\n        this.splittableMarks = [];\n        this.editor = editor;\n        this.extensions = ExtensionManager.resolve(extensions);\n        this.schema = getSchemaByResolvedExtensions(this.extensions, editor);\n        this.extensions.forEach((extension)=>{\n            var _a;\n            // store extension storage in editor\n            this.editor.extensionStorage[extension.name] = extension.storage;\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor: this.editor,\n                type: getSchemaTypeByName(extension.name, this.schema)\n            };\n            if (extension.type === \"mark\") {\n                const keepOnSplit = (_a = callOrReturn(getExtensionField(extension, \"keepOnSplit\", context))) !== null && _a !== void 0 ? _a : true;\n                if (keepOnSplit) {\n                    this.splittableMarks.push(extension.name);\n                }\n            }\n            const onBeforeCreate = getExtensionField(extension, \"onBeforeCreate\", context);\n            if (onBeforeCreate) {\n                this.editor.on(\"beforeCreate\", onBeforeCreate);\n            }\n            const onCreate = getExtensionField(extension, \"onCreate\", context);\n            if (onCreate) {\n                this.editor.on(\"create\", onCreate);\n            }\n            const onUpdate = getExtensionField(extension, \"onUpdate\", context);\n            if (onUpdate) {\n                this.editor.on(\"update\", onUpdate);\n            }\n            const onSelectionUpdate = getExtensionField(extension, \"onSelectionUpdate\", context);\n            if (onSelectionUpdate) {\n                this.editor.on(\"selectionUpdate\", onSelectionUpdate);\n            }\n            const onTransaction = getExtensionField(extension, \"onTransaction\", context);\n            if (onTransaction) {\n                this.editor.on(\"transaction\", onTransaction);\n            }\n            const onFocus = getExtensionField(extension, \"onFocus\", context);\n            if (onFocus) {\n                this.editor.on(\"focus\", onFocus);\n            }\n            const onBlur = getExtensionField(extension, \"onBlur\", context);\n            if (onBlur) {\n                this.editor.on(\"blur\", onBlur);\n            }\n            const onDestroy = getExtensionField(extension, \"onDestroy\", context);\n            if (onDestroy) {\n                this.editor.on(\"destroy\", onDestroy);\n            }\n        });\n    }\n    static resolve(extensions) {\n        const resolvedExtensions = ExtensionManager.sort(ExtensionManager.flatten(extensions));\n        const duplicatedNames = findDuplicates(resolvedExtensions.map((extension)=>extension.name));\n        if (duplicatedNames.length) {\n            console.warn(`[tiptap warn]: Duplicate extension names found: [${duplicatedNames.map((item)=>`'${item}'`).join(\", \")}]. This can lead to issues.`);\n        }\n        return resolvedExtensions;\n    }\n    static flatten(extensions) {\n        return extensions.map((extension)=>{\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage\n            };\n            const addExtensions = getExtensionField(extension, \"addExtensions\", context);\n            if (addExtensions) {\n                return [\n                    extension,\n                    ...this.flatten(addExtensions())\n                ];\n            }\n            return extension;\n        })// `Infinity` will break TypeScript so we set a number that is probably high enough\n        .flat(10);\n    }\n    static sort(extensions) {\n        const defaultPriority = 100;\n        return extensions.sort((a, b)=>{\n            const priorityA = getExtensionField(a, \"priority\") || defaultPriority;\n            const priorityB = getExtensionField(b, \"priority\") || defaultPriority;\n            if (priorityA > priorityB) {\n                return -1;\n            }\n            if (priorityA < priorityB) {\n                return 1;\n            }\n            return 0;\n        });\n    }\n    get commands() {\n        return this.extensions.reduce((commands, extension)=>{\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor: this.editor,\n                type: getSchemaTypeByName(extension.name, this.schema)\n            };\n            const addCommands = getExtensionField(extension, \"addCommands\", context);\n            if (!addCommands) {\n                return commands;\n            }\n            return {\n                ...commands,\n                ...addCommands()\n            };\n        }, {});\n    }\n    get plugins() {\n        const { editor } = this;\n        // With ProseMirror, first plugins within an array are executed first.\n        // In Tiptap, we provide the ability to override plugins,\n        // so it feels more natural to run plugins at the end of an array first.\n        // That’s why we have to reverse the `extensions` array and sort again\n        // based on the `priority` option.\n        const extensions = ExtensionManager.sort([\n            ...this.extensions\n        ].reverse());\n        const inputRules = [];\n        const pasteRules = [];\n        const allPlugins = extensions.map((extension)=>{\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor,\n                type: getSchemaTypeByName(extension.name, this.schema)\n            };\n            const plugins = [];\n            const addKeyboardShortcuts = getExtensionField(extension, \"addKeyboardShortcuts\", context);\n            let defaultBindings = {};\n            // bind exit handling\n            if (extension.type === \"mark\" && extension.config.exitable) {\n                defaultBindings.ArrowRight = ()=>Mark.handleExit({\n                        editor,\n                        mark: extension\n                    });\n            }\n            if (addKeyboardShortcuts) {\n                const bindings = Object.fromEntries(Object.entries(addKeyboardShortcuts()).map(([shortcut, method])=>{\n                    return [\n                        shortcut,\n                        ()=>method({\n                                editor\n                            })\n                    ];\n                }));\n                defaultBindings = {\n                    ...defaultBindings,\n                    ...bindings\n                };\n            }\n            const keyMapPlugin = (0,_tiptap_pm_keymap__WEBPACK_IMPORTED_MODULE_2__.keymap)(defaultBindings);\n            plugins.push(keyMapPlugin);\n            const addInputRules = getExtensionField(extension, \"addInputRules\", context);\n            if (isExtensionRulesEnabled(extension, editor.options.enableInputRules) && addInputRules) {\n                inputRules.push(...addInputRules());\n            }\n            const addPasteRules = getExtensionField(extension, \"addPasteRules\", context);\n            if (isExtensionRulesEnabled(extension, editor.options.enablePasteRules) && addPasteRules) {\n                pasteRules.push(...addPasteRules());\n            }\n            const addProseMirrorPlugins = getExtensionField(extension, \"addProseMirrorPlugins\", context);\n            if (addProseMirrorPlugins) {\n                const proseMirrorPlugins = addProseMirrorPlugins();\n                plugins.push(...proseMirrorPlugins);\n            }\n            return plugins;\n        }).flat();\n        return [\n            inputRulesPlugin({\n                editor,\n                rules: inputRules\n            }),\n            ...pasteRulesPlugin({\n                editor,\n                rules: pasteRules\n            }),\n            ...allPlugins\n        ];\n    }\n    get attributes() {\n        return getAttributesFromExtensions(this.extensions);\n    }\n    get nodeViews() {\n        const { editor } = this;\n        const { nodeExtensions } = splitExtensions(this.extensions);\n        return Object.fromEntries(nodeExtensions.filter((extension)=>!!getExtensionField(extension, \"addNodeView\")).map((extension)=>{\n            const extensionAttributes = this.attributes.filter((attribute)=>attribute.type === extension.name);\n            const context = {\n                name: extension.name,\n                options: extension.options,\n                storage: extension.storage,\n                editor,\n                type: getNodeType(extension.name, this.schema)\n            };\n            const addNodeView = getExtensionField(extension, \"addNodeView\", context);\n            if (!addNodeView) {\n                return [];\n            }\n            const nodeview = (node, view, getPos, decorations)=>{\n                const HTMLAttributes = getRenderedAttributes(node, extensionAttributes);\n                return addNodeView()({\n                    editor,\n                    node,\n                    getPos,\n                    decorations,\n                    HTMLAttributes,\n                    extension\n                });\n            };\n            return [\n                extension.name,\n                nodeview\n            ];\n        }));\n    }\n}\n// see: https://github.com/mesqueeb/is-what/blob/88d6e4ca92fb2baab6003c54e02eedf4e729e5ab/src/index.ts\nfunction getType(value) {\n    return Object.prototype.toString.call(value).slice(8, -1);\n}\nfunction isPlainObject(value) {\n    if (getType(value) !== \"Object\") {\n        return false;\n    }\n    return value.constructor === Object && Object.getPrototypeOf(value) === Object.prototype;\n}\nfunction mergeDeep(target, source) {\n    const output = {\n        ...target\n    };\n    if (isPlainObject(target) && isPlainObject(source)) {\n        Object.keys(source).forEach((key)=>{\n            if (isPlainObject(source[key])) {\n                if (!(key in target)) {\n                    Object.assign(output, {\n                        [key]: source[key]\n                    });\n                } else {\n                    output[key] = mergeDeep(target[key], source[key]);\n                }\n            } else {\n                Object.assign(output, {\n                    [key]: source[key]\n                });\n            }\n        });\n    }\n    return output;\n}\nclass Extension {\n    constructor(config = {}){\n        this.type = \"extension\";\n        this.name = \"extension\";\n        this.parent = null;\n        this.child = null;\n        this.config = {\n            name: this.name,\n            defaultOptions: {}\n        };\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        this.name = this.config.name;\n        if (config.defaultOptions && Object.keys(config.defaultOptions).length > 0) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\n        }\n        // TODO: remove `addOptions` fallback\n        this.options = this.config.defaultOptions;\n        if (this.config.addOptions) {\n            this.options = callOrReturn(getExtensionField(this, \"addOptions\", {\n                name: this.name\n            }));\n        }\n        this.storage = callOrReturn(getExtensionField(this, \"addStorage\", {\n            name: this.name,\n            options: this.options\n        })) || {};\n    }\n    static create(config = {}) {\n        return new Extension(config);\n    }\n    configure(options = {}) {\n        // return a new instance so we can use the same extension\n        // with different calls of `configure`\n        const extension = this.extend();\n        extension.options = mergeDeep(this.options, options);\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    extend(extendedConfig = {}) {\n        const extension = new Extension({\n            ...this.config,\n            ...extendedConfig\n        });\n        extension.parent = this;\n        this.child = extension;\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\n        if (extendedConfig.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\n        }\n        extension.options = callOrReturn(getExtensionField(extension, \"addOptions\", {\n            name: extension.name\n        }));\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n}\nfunction getTextBetween(startNode, range, options) {\n    const { from, to } = range;\n    const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n    let text = \"\";\n    let separated = true;\n    startNode.nodesBetween(from, to, (node, pos, parent, index)=>{\n        var _a;\n        const textSerializer = textSerializers === null || textSerializers === void 0 ? void 0 : textSerializers[node.type.name];\n        if (textSerializer) {\n            if (node.isBlock && !separated) {\n                text += blockSeparator;\n                separated = true;\n            }\n            if (parent) {\n                text += textSerializer({\n                    node,\n                    pos,\n                    parent,\n                    index,\n                    range\n                });\n            }\n        } else if (node.isText) {\n            text += (_a = node === null || node === void 0 ? void 0 : node.text) === null || _a === void 0 ? void 0 : _a.slice(Math.max(from, pos) - pos, to - pos); // eslint-disable-line\n            separated = false;\n        } else if (node.isBlock && !separated) {\n            text += blockSeparator;\n            separated = true;\n        }\n    });\n    return text;\n}\nfunction getTextSerializersFromSchema(schema) {\n    return Object.fromEntries(Object.entries(schema.nodes).filter(([, node])=>node.spec.toText).map(([name, node])=>[\n            name,\n            node.spec.toText\n        ]));\n}\nconst ClipboardTextSerializer = Extension.create({\n    name: \"clipboardTextSerializer\",\n    addProseMirrorPlugins () {\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"clipboardTextSerializer\"),\n                props: {\n                    clipboardTextSerializer: ()=>{\n                        const { editor } = this;\n                        const { state, schema } = editor;\n                        const { doc, selection } = state;\n                        const { ranges } = selection;\n                        const from = Math.min(...ranges.map((range)=>range.$from.pos));\n                        const to = Math.max(...ranges.map((range)=>range.$to.pos));\n                        const textSerializers = getTextSerializersFromSchema(schema);\n                        const range = {\n                            from,\n                            to\n                        };\n                        return getTextBetween(doc, range, {\n                            textSerializers\n                        });\n                    }\n                }\n            })\n        ];\n    }\n});\nconst blur = ()=>({ editor, view })=>{\n        requestAnimationFrame(()=>{\n            var _a;\n            if (!editor.isDestroyed) {\n                view.dom.blur();\n                // Browsers should remove the caret on blur but safari does not.\n                // See: https://github.com/ueberdosis/tiptap/issues/2405\n                (_a = window === null || window === void 0 ? void 0 : window.getSelection()) === null || _a === void 0 ? void 0 : _a.removeAllRanges();\n            }\n        });\n        return true;\n    };\nconst clearContent = (emitUpdate = false)=>({ commands })=>{\n        return commands.setContent(\"\", emitUpdate);\n    };\nconst clearNodes = ()=>({ state, tr, dispatch })=>{\n        const { selection } = tr;\n        const { ranges } = selection;\n        if (!dispatch) {\n            return true;\n        }\n        ranges.forEach(({ $from, $to })=>{\n            state.doc.nodesBetween($from.pos, $to.pos, (node, pos)=>{\n                if (node.type.isText) {\n                    return;\n                }\n                const { doc, mapping } = tr;\n                const $mappedFrom = doc.resolve(mapping.map(pos));\n                const $mappedTo = doc.resolve(mapping.map(pos + node.nodeSize));\n                const nodeRange = $mappedFrom.blockRange($mappedTo);\n                if (!nodeRange) {\n                    return;\n                }\n                const targetLiftDepth = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.liftTarget)(nodeRange);\n                if (node.type.isTextblock) {\n                    const { defaultType } = $mappedFrom.parent.contentMatchAt($mappedFrom.index());\n                    tr.setNodeMarkup(nodeRange.start, defaultType);\n                }\n                if (targetLiftDepth || targetLiftDepth === 0) {\n                    tr.lift(nodeRange, targetLiftDepth);\n                }\n            });\n        });\n        return true;\n    };\nconst command = (fn)=>(props)=>{\n        return fn(props);\n    };\nconst createParagraphNear = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.createParagraphNear)(state, dispatch);\n    };\nconst cut = (originRange, targetPos)=>({ editor, tr })=>{\n        const { state } = editor;\n        const contentSlice = state.doc.slice(originRange.from, originRange.to);\n        tr.deleteRange(originRange.from, originRange.to);\n        const newPos = tr.mapping.map(targetPos);\n        tr.insert(newPos, contentSlice.content);\n        tr.setSelection(new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection(tr.doc.resolve(newPos - 1)));\n        return true;\n    };\nconst deleteCurrentNode = ()=>({ tr, dispatch })=>{\n        const { selection } = tr;\n        const currentNode = selection.$anchor.node();\n        // if there is content inside the current node, break out of this command\n        if (currentNode.content.size > 0) {\n            return false;\n        }\n        const $pos = tr.selection.$anchor;\n        for(let depth = $pos.depth; depth > 0; depth -= 1){\n            const node = $pos.node(depth);\n            if (node.type === currentNode.type) {\n                if (dispatch) {\n                    const from = $pos.before(depth);\n                    const to = $pos.after(depth);\n                    tr.delete(from, to).scrollIntoView();\n                }\n                return true;\n            }\n        }\n        return false;\n    };\nconst deleteNode = (typeOrName)=>({ tr, state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const $pos = tr.selection.$anchor;\n        for(let depth = $pos.depth; depth > 0; depth -= 1){\n            const node = $pos.node(depth);\n            if (node.type === type) {\n                if (dispatch) {\n                    const from = $pos.before(depth);\n                    const to = $pos.after(depth);\n                    tr.delete(from, to).scrollIntoView();\n                }\n                return true;\n            }\n        }\n        return false;\n    };\nconst deleteRange = (range)=>({ tr, dispatch })=>{\n        const { from, to } = range;\n        if (dispatch) {\n            tr.delete(from, to);\n        }\n        return true;\n    };\nconst deleteSelection = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.deleteSelection)(state, dispatch);\n    };\nconst enter = ()=>({ commands })=>{\n        return commands.keyboardShortcut(\"Enter\");\n    };\nconst exitCode = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.exitCode)(state, dispatch);\n    };\n/**\r\n * Check if object1 includes object2\r\n * @param object1 Object\r\n * @param object2 Object\r\n */ function objectIncludes(object1, object2, options = {\n    strict: true\n}) {\n    const keys = Object.keys(object2);\n    if (!keys.length) {\n        return true;\n    }\n    return keys.every((key)=>{\n        if (options.strict) {\n            return object2[key] === object1[key];\n        }\n        if (isRegExp(object2[key])) {\n            return object2[key].test(object1[key]);\n        }\n        return object2[key] === object1[key];\n    });\n}\nfunction findMarkInSet(marks, type, attributes = {}) {\n    return marks.find((item)=>{\n        return item.type === type && objectIncludes(item.attrs, attributes);\n    });\n}\nfunction isMarkInSet(marks, type, attributes = {}) {\n    return !!findMarkInSet(marks, type, attributes);\n}\nfunction getMarkRange($pos, type, attributes = {}) {\n    if (!$pos || !type) {\n        return;\n    }\n    let start = $pos.parent.childAfter($pos.parentOffset);\n    if ($pos.parentOffset === start.offset && start.offset !== 0) {\n        start = $pos.parent.childBefore($pos.parentOffset);\n    }\n    if (!start.node) {\n        return;\n    }\n    const mark = findMarkInSet([\n        ...start.node.marks\n    ], type, attributes);\n    if (!mark) {\n        return;\n    }\n    let startIndex = start.index;\n    let startPos = $pos.start() + start.offset;\n    let endIndex = startIndex + 1;\n    let endPos = startPos + start.node.nodeSize;\n    findMarkInSet([\n        ...start.node.marks\n    ], type, attributes);\n    while(startIndex > 0 && mark.isInSet($pos.parent.child(startIndex - 1).marks)){\n        startIndex -= 1;\n        startPos -= $pos.parent.child(startIndex).nodeSize;\n    }\n    while(endIndex < $pos.parent.childCount && isMarkInSet([\n        ...$pos.parent.child(endIndex).marks\n    ], type, attributes)){\n        endPos += $pos.parent.child(endIndex).nodeSize;\n        endIndex += 1;\n    }\n    return {\n        from: startPos,\n        to: endPos\n    };\n}\nfunction getMarkType(nameOrType, schema) {\n    if (typeof nameOrType === \"string\") {\n        if (!schema.marks[nameOrType]) {\n            throw Error(`There is no mark type named '${nameOrType}'. Maybe you forgot to add the extension?`);\n        }\n        return schema.marks[nameOrType];\n    }\n    return nameOrType;\n}\nconst extendMarkRange = (typeOrName, attributes = {})=>({ tr, state, dispatch })=>{\n        const type = getMarkType(typeOrName, state.schema);\n        const { doc, selection } = tr;\n        const { $from, from, to } = selection;\n        if (dispatch) {\n            const range = getMarkRange($from, type, attributes);\n            if (range && range.from <= from && range.to >= to) {\n                const newSelection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, range.from, range.to);\n                tr.setSelection(newSelection);\n            }\n        }\n        return true;\n    };\nconst first = (commands)=>(props)=>{\n        const items = typeof commands === \"function\" ? commands(props) : commands;\n        for(let i = 0; i < items.length; i += 1){\n            if (items[i](props)) {\n                return true;\n            }\n        }\n        return false;\n    };\nfunction isTextSelection(value) {\n    return value instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection;\n}\nfunction minMax(value = 0, min = 0, max = 0) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction resolveFocusPosition(doc, position = null) {\n    if (!position) {\n        return null;\n    }\n    const selectionAtStart = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atStart(doc);\n    const selectionAtEnd = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atEnd(doc);\n    if (position === \"start\" || position === true) {\n        return selectionAtStart;\n    }\n    if (position === \"end\") {\n        return selectionAtEnd;\n    }\n    const minPos = selectionAtStart.from;\n    const maxPos = selectionAtEnd.to;\n    if (position === \"all\") {\n        return _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, minMax(0, minPos, maxPos), minMax(doc.content.size, minPos, maxPos));\n    }\n    return _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, minMax(position, minPos, maxPos), minMax(position, minPos, maxPos));\n}\nfunction isiOS() {\n    return [\n        \"iPad Simulator\",\n        \"iPhone Simulator\",\n        \"iPod Simulator\",\n        \"iPad\",\n        \"iPhone\",\n        \"iPod\"\n    ].includes(navigator.platform) || navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document;\n}\nconst focus = (position = null, options = {})=>({ editor, view, tr, dispatch })=>{\n        options = {\n            scrollIntoView: true,\n            ...options\n        };\n        const delayedFocus = ()=>{\n            // focus within `requestAnimationFrame` breaks focus on iOS\n            // so we have to call this\n            if (isiOS()) {\n                view.dom.focus();\n            }\n            // For React we have to focus asynchronously. Otherwise wild things happen.\n            // see: https://github.com/ueberdosis/tiptap/issues/1520\n            requestAnimationFrame(()=>{\n                if (!editor.isDestroyed) {\n                    view.focus();\n                    if (options === null || options === void 0 ? void 0 : options.scrollIntoView) {\n                        editor.commands.scrollIntoView();\n                    }\n                }\n            });\n        };\n        if (view.hasFocus() && position === null || position === false) {\n            return true;\n        }\n        // we don’t try to resolve a NodeSelection or CellSelection\n        if (dispatch && position === null && !isTextSelection(editor.state.selection)) {\n            delayedFocus();\n            return true;\n        }\n        // pass through tr.doc instead of editor.state.doc\n        // since transactions could change the editors state before this command has been run\n        const selection = resolveFocusPosition(tr.doc, position) || editor.state.selection;\n        const isSameSelection = editor.state.selection.eq(selection);\n        if (dispatch) {\n            if (!isSameSelection) {\n                tr.setSelection(selection);\n            }\n            // `tr.setSelection` resets the stored marks\n            // so we’ll restore them if the selection is the same as before\n            if (isSameSelection && tr.storedMarks) {\n                tr.setStoredMarks(tr.storedMarks);\n            }\n            delayedFocus();\n        }\n        return true;\n    };\nconst forEach = (items, fn)=>(props)=>{\n        return items.every((item, index)=>fn(item, {\n                ...props,\n                index\n            }));\n    };\nconst insertContent = (value, options)=>({ tr, commands })=>{\n        return commands.insertContentAt({\n            from: tr.selection.from,\n            to: tr.selection.to\n        }, value, options);\n    };\nconst removeWhitespaces = (node)=>{\n    const children = node.childNodes;\n    for(let i = children.length - 1; i >= 0; i -= 1){\n        const child = children[i];\n        if (child.nodeType === 3 && child.nodeValue && /^(\\n\\s\\s|\\n)$/.test(child.nodeValue)) {\n            node.removeChild(child);\n        } else if (child.nodeType === 1) {\n            removeWhitespaces(child);\n        }\n    }\n    return node;\n};\nfunction elementFromString(value) {\n    // add a wrapper to preserve leading and trailing whitespace\n    const wrappedValue = `<body>${value}</body>`;\n    const html = new window.DOMParser().parseFromString(wrappedValue, \"text/html\").body;\n    return removeWhitespaces(html);\n}\nfunction createNodeFromContent(content, schema, options) {\n    options = {\n        slice: true,\n        parseOptions: {},\n        ...options\n    };\n    if (typeof content === \"object\" && content !== null) {\n        try {\n            if (Array.isArray(content) && content.length > 0) {\n                return _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.fromArray(content.map((item)=>schema.nodeFromJSON(item)));\n            }\n            return schema.nodeFromJSON(content);\n        } catch (error) {\n            console.warn(\"[tiptap warn]: Invalid content.\", \"Passed value:\", content, \"Error:\", error);\n            return createNodeFromContent(\"\", schema, options);\n        }\n    }\n    if (typeof content === \"string\") {\n        const parser = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.DOMParser.fromSchema(schema);\n        return options.slice ? parser.parseSlice(elementFromString(content), options.parseOptions).content : parser.parse(elementFromString(content), options.parseOptions);\n    }\n    return createNodeFromContent(\"\", schema, options);\n}\n// source: https://github.com/ProseMirror/prosemirror-state/blob/master/src/selection.js#L466\nfunction selectionToInsertionEnd(tr, startLen, bias) {\n    const last = tr.steps.length - 1;\n    if (last < startLen) {\n        return;\n    }\n    const step = tr.steps[last];\n    if (!(step instanceof _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.ReplaceStep || step instanceof _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.ReplaceAroundStep)) {\n        return;\n    }\n    const map = tr.mapping.maps[last];\n    let end = 0;\n    map.forEach((_from, _to, _newFrom, newTo)=>{\n        if (end === 0) {\n            end = newTo;\n        }\n    });\n    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.near(tr.doc.resolve(end), bias));\n}\nconst isFragment = (nodeOrFragment)=>{\n    return nodeOrFragment.toString().startsWith(\"<\");\n};\nconst insertContentAt = (position, value, options)=>({ tr, dispatch, editor })=>{\n        if (dispatch) {\n            options = {\n                parseOptions: {},\n                updateSelection: true,\n                ...options\n            };\n            const content = createNodeFromContent(value, editor.schema, {\n                parseOptions: {\n                    preserveWhitespace: \"full\",\n                    ...options.parseOptions\n                }\n            });\n            // don’t dispatch an empty fragment because this can lead to strange errors\n            if (content.toString() === \"<>\") {\n                return true;\n            }\n            let { from, to } = typeof position === \"number\" ? {\n                from: position,\n                to: position\n            } : {\n                from: position.from,\n                to: position.to\n            };\n            let isOnlyTextContent = true;\n            let isOnlyBlockContent = true;\n            const nodes = isFragment(content) ? content : [\n                content\n            ];\n            nodes.forEach((node)=>{\n                // check if added node is valid\n                node.check();\n                isOnlyTextContent = isOnlyTextContent ? node.isText && node.marks.length === 0 : false;\n                isOnlyBlockContent = isOnlyBlockContent ? node.isBlock : false;\n            });\n            // check if we can replace the wrapping node by\n            // the newly inserted content\n            // example:\n            // replace an empty paragraph by an inserted image\n            // instead of inserting the image below the paragraph\n            if (from === to && isOnlyBlockContent) {\n                const { parent } = tr.doc.resolve(from);\n                const isEmptyTextBlock = parent.isTextblock && !parent.type.spec.code && !parent.childCount;\n                if (isEmptyTextBlock) {\n                    from -= 1;\n                    to += 1;\n                }\n            }\n            // if there is only plain text we have to use `insertText`\n            // because this will keep the current marks\n            if (isOnlyTextContent) {\n                // if value is string, we can use it directly\n                // otherwise if it is an array, we have to join it\n                if (Array.isArray(value)) {\n                    tr.insertText(value.map((v)=>v.text || \"\").join(\"\"), from, to);\n                } else if (typeof value === \"object\" && !!value && !!value.text) {\n                    tr.insertText(value.text, from, to);\n                } else {\n                    tr.insertText(value, from, to);\n                }\n            } else {\n                tr.replaceWith(from, to, content);\n            }\n            // set cursor at end of inserted content\n            if (options.updateSelection) {\n                selectionToInsertionEnd(tr, tr.steps.length - 1, -1);\n            }\n        }\n        return true;\n    };\nconst joinUp = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinUp)(state, dispatch);\n    };\nconst joinDown = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinDown)(state, dispatch);\n    };\nconst joinBackward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinBackward)(state, dispatch);\n    };\nconst joinForward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinForward)(state, dispatch);\n    };\nconst joinItemBackward = ()=>({ tr, state, dispatch })=>{\n        try {\n            const point = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.joinPoint)(state.doc, state.selection.$from.pos, -1);\n            if (point === null || point === undefined) {\n                return false;\n            }\n            tr.join(point, 2);\n            if (dispatch) {\n                dispatch(tr);\n            }\n            return true;\n        } catch  {\n            return false;\n        }\n    };\nconst joinItemForward = ()=>({ state, dispatch, tr })=>{\n        try {\n            const point = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.joinPoint)(state.doc, state.selection.$from.pos, +1);\n            if (point === null || point === undefined) {\n                return false;\n            }\n            tr.join(point, 2);\n            if (dispatch) {\n                dispatch(tr);\n            }\n            return true;\n        } catch (e) {\n            return false;\n        }\n    };\nconst joinTextblockBackward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinTextblockBackward)(state, dispatch);\n    };\nconst joinTextblockForward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.joinTextblockForward)(state, dispatch);\n    };\nfunction isMacOS() {\n    return typeof navigator !== \"undefined\" ? /Mac/.test(navigator.platform) : false;\n}\nfunction normalizeKeyName(name) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result === \"Space\") {\n        result = \" \";\n    }\n    let alt;\n    let ctrl;\n    let shift;\n    let meta;\n    for(let i = 0; i < parts.length - 1; i += 1){\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod)) {\n            meta = true;\n        } else if (/^a(lt)?$/i.test(mod)) {\n            alt = true;\n        } else if (/^(c|ctrl|control)$/i.test(mod)) {\n            ctrl = true;\n        } else if (/^s(hift)?$/i.test(mod)) {\n            shift = true;\n        } else if (/^mod$/i.test(mod)) {\n            if (isiOS() || isMacOS()) {\n                meta = true;\n            } else {\n                ctrl = true;\n            }\n        } else {\n            throw new Error(`Unrecognized modifier name: ${mod}`);\n        }\n    }\n    if (alt) {\n        result = `Alt-${result}`;\n    }\n    if (ctrl) {\n        result = `Ctrl-${result}`;\n    }\n    if (meta) {\n        result = `Meta-${result}`;\n    }\n    if (shift) {\n        result = `Shift-${result}`;\n    }\n    return result;\n}\nconst keyboardShortcut = (name)=>({ editor, view, tr, dispatch })=>{\n        const keys = normalizeKeyName(name).split(/-(?!$)/);\n        const key = keys.find((item)=>![\n                \"Alt\",\n                \"Ctrl\",\n                \"Meta\",\n                \"Shift\"\n            ].includes(item));\n        const event = new KeyboardEvent(\"keydown\", {\n            key: key === \"Space\" ? \" \" : key,\n            altKey: keys.includes(\"Alt\"),\n            ctrlKey: keys.includes(\"Ctrl\"),\n            metaKey: keys.includes(\"Meta\"),\n            shiftKey: keys.includes(\"Shift\"),\n            bubbles: true,\n            cancelable: true\n        });\n        const capturedTransaction = editor.captureTransaction(()=>{\n            view.someProp(\"handleKeyDown\", (f)=>f(view, event));\n        });\n        capturedTransaction === null || capturedTransaction === void 0 ? void 0 : capturedTransaction.steps.forEach((step)=>{\n            const newStep = step.map(tr.mapping);\n            if (newStep && dispatch) {\n                tr.maybeStep(newStep);\n            }\n        });\n        return true;\n    };\nfunction isNodeActive(state, typeOrName, attributes = {}) {\n    const { from, to, empty } = state.selection;\n    const type = typeOrName ? getNodeType(typeOrName, state.schema) : null;\n    const nodeRanges = [];\n    state.doc.nodesBetween(from, to, (node, pos)=>{\n        if (node.isText) {\n            return;\n        }\n        const relativeFrom = Math.max(from, pos);\n        const relativeTo = Math.min(to, pos + node.nodeSize);\n        nodeRanges.push({\n            node,\n            from: relativeFrom,\n            to: relativeTo\n        });\n    });\n    const selectionRange = to - from;\n    const matchedNodeRanges = nodeRanges.filter((nodeRange)=>{\n        if (!type) {\n            return true;\n        }\n        return type.name === nodeRange.node.type.name;\n    }).filter((nodeRange)=>objectIncludes(nodeRange.node.attrs, attributes, {\n            strict: false\n        }));\n    if (empty) {\n        return !!matchedNodeRanges.length;\n    }\n    const range = matchedNodeRanges.reduce((sum, nodeRange)=>sum + nodeRange.to - nodeRange.from, 0);\n    return range >= selectionRange;\n}\nconst lift = (typeOrName, attributes = {})=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const isActive = isNodeActive(state, type, attributes);\n        if (!isActive) {\n            return false;\n        }\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.lift)(state, dispatch);\n    };\nconst liftEmptyBlock = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.liftEmptyBlock)(state, dispatch);\n    };\nconst liftListItem = (typeOrName)=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__.liftListItem)(type)(state, dispatch);\n    };\nconst newlineInCode = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.newlineInCode)(state, dispatch);\n    };\nfunction getSchemaTypeNameByName(name, schema) {\n    if (schema.nodes[name]) {\n        return \"node\";\n    }\n    if (schema.marks[name]) {\n        return \"mark\";\n    }\n    return null;\n}\n/**\r\n * Remove a property or an array of properties from an object\r\n * @param obj Object\r\n * @param key Key to remove\r\n */ function deleteProps(obj, propOrProps) {\n    const props = typeof propOrProps === \"string\" ? [\n        propOrProps\n    ] : propOrProps;\n    return Object.keys(obj).reduce((newObj, prop)=>{\n        if (!props.includes(prop)) {\n            newObj[prop] = obj[prop];\n        }\n        return newObj;\n    }, {});\n}\nconst resetAttributes = (typeOrName, attributes)=>({ tr, state, dispatch })=>{\n        let nodeType = null;\n        let markType = null;\n        const schemaType = getSchemaTypeNameByName(typeof typeOrName === \"string\" ? typeOrName : typeOrName.name, state.schema);\n        if (!schemaType) {\n            return false;\n        }\n        if (schemaType === \"node\") {\n            nodeType = getNodeType(typeOrName, state.schema);\n        }\n        if (schemaType === \"mark\") {\n            markType = getMarkType(typeOrName, state.schema);\n        }\n        if (dispatch) {\n            tr.selection.ranges.forEach((range)=>{\n                state.doc.nodesBetween(range.$from.pos, range.$to.pos, (node, pos)=>{\n                    if (nodeType && nodeType === node.type) {\n                        tr.setNodeMarkup(pos, undefined, deleteProps(node.attrs, attributes));\n                    }\n                    if (markType && node.marks.length) {\n                        node.marks.forEach((mark)=>{\n                            if (markType === mark.type) {\n                                tr.addMark(pos, pos + node.nodeSize, markType.create(deleteProps(mark.attrs, attributes)));\n                            }\n                        });\n                    }\n                });\n            });\n        }\n        return true;\n    };\nconst scrollIntoView = ()=>({ tr, dispatch })=>{\n        if (dispatch) {\n            tr.scrollIntoView();\n        }\n        return true;\n    };\nconst selectAll = ()=>({ tr, commands })=>{\n        return commands.setTextSelection({\n            from: 0,\n            to: tr.doc.content.size\n        });\n    };\nconst selectNodeBackward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectNodeBackward)(state, dispatch);\n    };\nconst selectNodeForward = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectNodeForward)(state, dispatch);\n    };\nconst selectParentNode = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectParentNode)(state, dispatch);\n    };\n// @ts-ignore\nconst selectTextblockEnd = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectTextblockEnd)(state, dispatch);\n    };\n// @ts-ignore\nconst selectTextblockStart = ()=>({ state, dispatch })=>{\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.selectTextblockStart)(state, dispatch);\n    };\nfunction createDocument(content, schema, parseOptions = {}) {\n    return createNodeFromContent(content, schema, {\n        slice: false,\n        parseOptions\n    });\n}\nconst setContent = (content, emitUpdate = false, parseOptions = {})=>({ tr, editor, dispatch })=>{\n        const { doc } = tr;\n        const document1 = createDocument(content, editor.schema, parseOptions);\n        if (dispatch) {\n            tr.replaceWith(0, doc.content.size, document1).setMeta(\"preventUpdate\", !emitUpdate);\n        }\n        return true;\n    };\nfunction getMarkAttributes(state, typeOrName) {\n    const type = getMarkType(typeOrName, state.schema);\n    const { from, to, empty } = state.selection;\n    const marks = [];\n    if (empty) {\n        if (state.storedMarks) {\n            marks.push(...state.storedMarks);\n        }\n        marks.push(...state.selection.$head.marks());\n    } else {\n        state.doc.nodesBetween(from, to, (node)=>{\n            marks.push(...node.marks);\n        });\n    }\n    const mark = marks.find((markItem)=>markItem.type.name === type.name);\n    if (!mark) {\n        return {};\n    }\n    return {\n        ...mark.attrs\n    };\n}\n/**\r\n * Returns a new `Transform` based on all steps of the passed transactions.\r\n */ function combineTransactionSteps(oldDoc, transactions) {\n    const transform = new _tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.Transform(oldDoc);\n    transactions.forEach((transaction)=>{\n        transaction.steps.forEach((step)=>{\n            transform.step(step);\n        });\n    });\n    return transform;\n}\nfunction defaultBlockAt(match) {\n    for(let i = 0; i < match.edgeCount; i += 1){\n        const { type } = match.edge(i);\n        if (type.isTextblock && !type.hasRequiredAttrs()) {\n            return type;\n        }\n    }\n    return null;\n}\nfunction findChildren(node, predicate) {\n    const nodesWithPos = [];\n    node.descendants((child, pos)=>{\n        if (predicate(child)) {\n            nodesWithPos.push({\n                node: child,\n                pos\n            });\n        }\n    });\n    return nodesWithPos;\n}\n/**\r\n * Same as `findChildren` but searches only within a `range`.\r\n */ function findChildrenInRange(node, range, predicate) {\n    const nodesWithPos = [];\n    // if (range.from === range.to) {\n    //   const nodeAt = node.nodeAt(range.from)\n    //   if (nodeAt) {\n    //     nodesWithPos.push({\n    //       node: nodeAt,\n    //       pos: range.from,\n    //     })\n    //   }\n    // }\n    node.nodesBetween(range.from, range.to, (child, pos)=>{\n        if (predicate(child)) {\n            nodesWithPos.push({\n                node: child,\n                pos\n            });\n        }\n    });\n    return nodesWithPos;\n}\nfunction findParentNodeClosestToPos($pos, predicate) {\n    for(let i = $pos.depth; i > 0; i -= 1){\n        const node = $pos.node(i);\n        if (predicate(node)) {\n            return {\n                pos: i > 0 ? $pos.before(i) : 0,\n                start: $pos.start(i),\n                depth: i,\n                node\n            };\n        }\n    }\n}\nfunction findParentNode(predicate) {\n    return (selection)=>findParentNodeClosestToPos(selection.$from, predicate);\n}\nfunction getHTMLFromFragment(fragment, schema) {\n    const documentFragment = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.DOMSerializer.fromSchema(schema).serializeFragment(fragment);\n    const temporaryDocument = document.implementation.createHTMLDocument();\n    const container = temporaryDocument.createElement(\"div\");\n    container.appendChild(documentFragment);\n    return container.innerHTML;\n}\nfunction getSchema(extensions, editor) {\n    const resolvedExtensions = ExtensionManager.resolve(extensions);\n    return getSchemaByResolvedExtensions(resolvedExtensions, editor);\n}\nfunction generateHTML(doc, extensions) {\n    const schema = getSchema(extensions);\n    const contentNode = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Node.fromJSON(schema, doc);\n    return getHTMLFromFragment(contentNode.content, schema);\n}\nfunction generateJSON(html, extensions) {\n    const schema = getSchema(extensions);\n    const dom = elementFromString(html);\n    return _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.DOMParser.fromSchema(schema).parse(dom).toJSON();\n}\nfunction getText(node, options) {\n    const range = {\n        from: 0,\n        to: node.content.size\n    };\n    return getTextBetween(node, range, options);\n}\nfunction generateText(doc, extensions, options) {\n    const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n    const schema = getSchema(extensions);\n    const contentNode = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Node.fromJSON(schema, doc);\n    return getText(contentNode, {\n        blockSeparator,\n        textSerializers: {\n            ...getTextSerializersFromSchema(schema),\n            ...textSerializers\n        }\n    });\n}\nfunction getNodeAttributes(state, typeOrName) {\n    const type = getNodeType(typeOrName, state.schema);\n    const { from, to } = state.selection;\n    const nodes = [];\n    state.doc.nodesBetween(from, to, (node)=>{\n        nodes.push(node);\n    });\n    const node = nodes.reverse().find((nodeItem)=>nodeItem.type.name === type.name);\n    if (!node) {\n        return {};\n    }\n    return {\n        ...node.attrs\n    };\n}\nfunction getAttributes(state, typeOrName) {\n    const schemaType = getSchemaTypeNameByName(typeof typeOrName === \"string\" ? typeOrName : typeOrName.name, state.schema);\n    if (schemaType === \"node\") {\n        return getNodeAttributes(state, typeOrName);\n    }\n    if (schemaType === \"mark\") {\n        return getMarkAttributes(state, typeOrName);\n    }\n    return {};\n}\n/**\r\n * Removes duplicated values within an array.\r\n * Supports numbers, strings and objects.\r\n */ function removeDuplicates(array, by = JSON.stringify) {\n    const seen = {};\n    return array.filter((item)=>{\n        const key = by(item);\n        return Object.prototype.hasOwnProperty.call(seen, key) ? false : seen[key] = true;\n    });\n}\n/**\r\n * Removes duplicated ranges and ranges that are\r\n * fully captured by other ranges.\r\n */ function simplifyChangedRanges(changes) {\n    const uniqueChanges = removeDuplicates(changes);\n    return uniqueChanges.length === 1 ? uniqueChanges : uniqueChanges.filter((change, index)=>{\n        const rest = uniqueChanges.filter((_, i)=>i !== index);\n        return !rest.some((otherChange)=>{\n            return change.oldRange.from >= otherChange.oldRange.from && change.oldRange.to <= otherChange.oldRange.to && change.newRange.from >= otherChange.newRange.from && change.newRange.to <= otherChange.newRange.to;\n        });\n    });\n}\n/**\r\n * Returns a list of changed ranges\r\n * based on the first and last state of all steps.\r\n */ function getChangedRanges(transform) {\n    const { mapping, steps } = transform;\n    const changes = [];\n    mapping.maps.forEach((stepMap, index)=>{\n        const ranges = [];\n        // This accounts for step changes where no range was actually altered\n        // e.g. when setting a mark, node attribute, etc.\n        // @ts-ignore\n        if (!stepMap.ranges.length) {\n            const { from, to } = steps[index];\n            if (from === undefined || to === undefined) {\n                return;\n            }\n            ranges.push({\n                from,\n                to\n            });\n        } else {\n            stepMap.forEach((from, to)=>{\n                ranges.push({\n                    from,\n                    to\n                });\n            });\n        }\n        ranges.forEach(({ from, to })=>{\n            const newStart = mapping.slice(index).map(from, -1);\n            const newEnd = mapping.slice(index).map(to);\n            const oldStart = mapping.invert().map(newStart, -1);\n            const oldEnd = mapping.invert().map(newEnd);\n            changes.push({\n                oldRange: {\n                    from: oldStart,\n                    to: oldEnd\n                },\n                newRange: {\n                    from: newStart,\n                    to: newEnd\n                }\n            });\n        });\n    });\n    return simplifyChangedRanges(changes);\n}\nfunction getDebugJSON(node, startOffset = 0) {\n    const isTopNode = node.type === node.type.schema.topNodeType;\n    const increment = isTopNode ? 0 : 1;\n    const from = startOffset;\n    const to = from + node.nodeSize;\n    const marks = node.marks.map((mark)=>{\n        const output = {\n            type: mark.type.name\n        };\n        if (Object.keys(mark.attrs).length) {\n            output.attrs = {\n                ...mark.attrs\n            };\n        }\n        return output;\n    });\n    const attrs = {\n        ...node.attrs\n    };\n    const output = {\n        type: node.type.name,\n        from,\n        to\n    };\n    if (Object.keys(attrs).length) {\n        output.attrs = attrs;\n    }\n    if (marks.length) {\n        output.marks = marks;\n    }\n    if (node.content.childCount) {\n        output.content = [];\n        node.forEach((child, offset)=>{\n            var _a;\n            (_a = output.content) === null || _a === void 0 ? void 0 : _a.push(getDebugJSON(child, startOffset + offset + increment));\n        });\n    }\n    if (node.text) {\n        output.text = node.text;\n    }\n    return output;\n}\nfunction getMarksBetween(from, to, doc) {\n    const marks = [];\n    // get all inclusive marks on empty selection\n    if (from === to) {\n        doc.resolve(from).marks().forEach((mark)=>{\n            const $pos = doc.resolve(from - 1);\n            const range = getMarkRange($pos, mark.type);\n            if (!range) {\n                return;\n            }\n            marks.push({\n                mark,\n                ...range\n            });\n        });\n    } else {\n        doc.nodesBetween(from, to, (node, pos)=>{\n            if (!node || (node === null || node === void 0 ? void 0 : node.nodeSize) === undefined) {\n                return;\n            }\n            marks.push(...node.marks.map((mark)=>({\n                    from: pos,\n                    to: pos + node.nodeSize,\n                    mark\n                })));\n        });\n    }\n    return marks;\n}\n/**\r\n * Finds the first node of a given type or name in the current selection.\r\n * @param state The editor state.\r\n * @param typeOrName The node type or name.\r\n * @param pos The position to start searching from.\r\n * @param maxDepth The maximum depth to search.\r\n * @returns The node and the depth as an array.\r\n */ const getNodeAtPosition = (state, typeOrName, pos, maxDepth = 20)=>{\n    const $pos = state.doc.resolve(pos);\n    let currentDepth = maxDepth;\n    let node = null;\n    while(currentDepth > 0 && node === null){\n        const currentNode = $pos.node(currentDepth);\n        if ((currentNode === null || currentNode === void 0 ? void 0 : currentNode.type.name) === typeOrName) {\n            node = currentNode;\n        } else {\n            currentDepth -= 1;\n        }\n    }\n    return [\n        node,\n        currentDepth\n    ];\n};\nfunction getSplittedAttributes(extensionAttributes, typeName, attributes) {\n    return Object.fromEntries(Object.entries(attributes).filter(([name])=>{\n        const extensionAttribute = extensionAttributes.find((item)=>{\n            return item.type === typeName && item.name === name;\n        });\n        if (!extensionAttribute) {\n            return false;\n        }\n        return extensionAttribute.attribute.keepOnSplit;\n    }));\n}\nfunction isMarkActive(state, typeOrName, attributes = {}) {\n    const { empty, ranges } = state.selection;\n    const type = typeOrName ? getMarkType(typeOrName, state.schema) : null;\n    if (empty) {\n        return !!(state.storedMarks || state.selection.$from.marks()).filter((mark)=>{\n            if (!type) {\n                return true;\n            }\n            return type.name === mark.type.name;\n        }).find((mark)=>objectIncludes(mark.attrs, attributes, {\n                strict: false\n            }));\n    }\n    let selectionRange = 0;\n    const markRanges = [];\n    ranges.forEach(({ $from, $to })=>{\n        const from = $from.pos;\n        const to = $to.pos;\n        state.doc.nodesBetween(from, to, (node, pos)=>{\n            if (!node.isText && !node.marks.length) {\n                return;\n            }\n            const relativeFrom = Math.max(from, pos);\n            const relativeTo = Math.min(to, pos + node.nodeSize);\n            const range = relativeTo - relativeFrom;\n            selectionRange += range;\n            markRanges.push(...node.marks.map((mark)=>({\n                    mark,\n                    from: relativeFrom,\n                    to: relativeTo\n                })));\n        });\n    });\n    if (selectionRange === 0) {\n        return false;\n    }\n    // calculate range of matched mark\n    const matchedRange = markRanges.filter((markRange)=>{\n        if (!type) {\n            return true;\n        }\n        return type.name === markRange.mark.type.name;\n    }).filter((markRange)=>objectIncludes(markRange.mark.attrs, attributes, {\n            strict: false\n        })).reduce((sum, markRange)=>sum + markRange.to - markRange.from, 0);\n    // calculate range of marks that excludes the searched mark\n    // for example `code` doesn’t allow any other marks\n    const excludedRange = markRanges.filter((markRange)=>{\n        if (!type) {\n            return true;\n        }\n        return markRange.mark.type !== type && markRange.mark.type.excludes(type);\n    }).reduce((sum, markRange)=>sum + markRange.to - markRange.from, 0);\n    // we only include the result of `excludedRange`\n    // if there is a match at all\n    const range = matchedRange > 0 ? matchedRange + excludedRange : matchedRange;\n    return range >= selectionRange;\n}\nfunction isActive(state, name, attributes = {}) {\n    if (!name) {\n        return isNodeActive(state, null, attributes) || isMarkActive(state, null, attributes);\n    }\n    const schemaType = getSchemaTypeNameByName(name, state.schema);\n    if (schemaType === \"node\") {\n        return isNodeActive(state, name, attributes);\n    }\n    if (schemaType === \"mark\") {\n        return isMarkActive(state, name, attributes);\n    }\n    return false;\n}\nconst isAtEndOfNode = (state, nodeType)=>{\n    const { $from, $to, $anchor } = state.selection;\n    if (nodeType) {\n        const parentNode = findParentNode((node)=>node.type.name === nodeType)(state.selection);\n        if (!parentNode) {\n            return false;\n        }\n        const $parentPos = state.doc.resolve(parentNode.pos + 1);\n        if ($anchor.pos + 1 === $parentPos.end()) {\n            return true;\n        }\n        return false;\n    }\n    if ($to.parentOffset < $to.parent.nodeSize - 2 || $from.pos !== $to.pos) {\n        return false;\n    }\n    return true;\n};\nconst isAtStartOfNode = (state)=>{\n    const { $from, $to } = state.selection;\n    if ($from.parentOffset > 0 || $from.pos !== $to.pos) {\n        return false;\n    }\n    return true;\n};\nfunction isList(name, extensions) {\n    const { nodeExtensions } = splitExtensions(extensions);\n    const extension = nodeExtensions.find((item)=>item.name === name);\n    if (!extension) {\n        return false;\n    }\n    const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage\n    };\n    const group = callOrReturn(getExtensionField(extension, \"group\", context));\n    if (typeof group !== \"string\") {\n        return false;\n    }\n    return group.split(\" \").includes(\"list\");\n}\nfunction isNodeEmpty(node) {\n    var _a;\n    const defaultContent = (_a = node.type.createAndFill()) === null || _a === void 0 ? void 0 : _a.toJSON();\n    const content = node.toJSON();\n    return JSON.stringify(defaultContent) === JSON.stringify(content);\n}\nfunction isNodeSelection(value) {\n    return value instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection;\n}\nfunction posToDOMRect(view, from, to) {\n    const minPos = 0;\n    const maxPos = view.state.doc.content.size;\n    const resolvedFrom = minMax(from, minPos, maxPos);\n    const resolvedEnd = minMax(to, minPos, maxPos);\n    const start = view.coordsAtPos(resolvedFrom);\n    const end = view.coordsAtPos(resolvedEnd, -1);\n    const top = Math.min(start.top, end.top);\n    const bottom = Math.max(start.bottom, end.bottom);\n    const left = Math.min(start.left, end.left);\n    const right = Math.max(start.right, end.right);\n    const width = right - left;\n    const height = bottom - top;\n    const x = left;\n    const y = top;\n    const data = {\n        top,\n        bottom,\n        left,\n        right,\n        width,\n        height,\n        x,\n        y\n    };\n    return {\n        ...data,\n        toJSON: ()=>data\n    };\n}\nfunction canSetMark(state, tr, newMarkType) {\n    var _a;\n    const { selection } = tr;\n    let cursor = null;\n    if (isTextSelection(selection)) {\n        cursor = selection.$cursor;\n    }\n    if (cursor) {\n        const currentMarks = (_a = state.storedMarks) !== null && _a !== void 0 ? _a : cursor.marks();\n        // There can be no current marks that exclude the new mark\n        return !!newMarkType.isInSet(currentMarks) || !currentMarks.some((mark)=>mark.type.excludes(newMarkType));\n    }\n    const { ranges } = selection;\n    return ranges.some(({ $from, $to })=>{\n        let someNodeSupportsMark = $from.depth === 0 ? state.doc.inlineContent && state.doc.type.allowsMarkType(newMarkType) : false;\n        state.doc.nodesBetween($from.pos, $to.pos, (node, _pos, parent)=>{\n            // If we already found a mark that we can enable, return false to bypass the remaining search\n            if (someNodeSupportsMark) {\n                return false;\n            }\n            if (node.isInline) {\n                const parentAllowsMarkType = !parent || parent.type.allowsMarkType(newMarkType);\n                const currentMarksAllowMarkType = !!newMarkType.isInSet(node.marks) || !node.marks.some((otherMark)=>otherMark.type.excludes(newMarkType));\n                someNodeSupportsMark = parentAllowsMarkType && currentMarksAllowMarkType;\n            }\n            return !someNodeSupportsMark;\n        });\n        return someNodeSupportsMark;\n    });\n}\nconst setMark = (typeOrName, attributes = {})=>({ tr, state, dispatch })=>{\n        const { selection } = tr;\n        const { empty, ranges } = selection;\n        const type = getMarkType(typeOrName, state.schema);\n        if (dispatch) {\n            if (empty) {\n                const oldAttributes = getMarkAttributes(state, type);\n                tr.addStoredMark(type.create({\n                    ...oldAttributes,\n                    ...attributes\n                }));\n            } else {\n                ranges.forEach((range)=>{\n                    const from = range.$from.pos;\n                    const to = range.$to.pos;\n                    state.doc.nodesBetween(from, to, (node, pos)=>{\n                        const trimmedFrom = Math.max(pos, from);\n                        const trimmedTo = Math.min(pos + node.nodeSize, to);\n                        const someHasMark = node.marks.find((mark)=>mark.type === type);\n                        // if there is already a mark of this type\n                        // we know that we have to merge its attributes\n                        // otherwise we add a fresh new mark\n                        if (someHasMark) {\n                            node.marks.forEach((mark)=>{\n                                if (type === mark.type) {\n                                    tr.addMark(trimmedFrom, trimmedTo, type.create({\n                                        ...mark.attrs,\n                                        ...attributes\n                                    }));\n                                }\n                            });\n                        } else {\n                            tr.addMark(trimmedFrom, trimmedTo, type.create(attributes));\n                        }\n                    });\n                });\n            }\n        }\n        return canSetMark(state, tr, type);\n    };\nconst setMeta = (key, value)=>({ tr })=>{\n        tr.setMeta(key, value);\n        return true;\n    };\nconst setNode = (typeOrName, attributes = {})=>({ state, dispatch, chain })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        // TODO: use a fallback like insertContent?\n        if (!type.isTextblock) {\n            console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.');\n            return false;\n        }\n        return chain()// try to convert node to default node if needed\n        .command(({ commands })=>{\n            const canSetBlock = (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.setBlockType)(type, attributes)(state);\n            if (canSetBlock) {\n                return true;\n            }\n            return commands.clearNodes();\n        }).command(({ state: updatedState })=>{\n            return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.setBlockType)(type, attributes)(updatedState, dispatch);\n        }).run();\n    };\nconst setNodeSelection = (position)=>({ tr, dispatch })=>{\n        if (dispatch) {\n            const { doc } = tr;\n            const from = minMax(position, 0, doc.content.size);\n            const selection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection.create(doc, from);\n            tr.setSelection(selection);\n        }\n        return true;\n    };\nconst setTextSelection = (position)=>({ tr, dispatch })=>{\n        if (dispatch) {\n            const { doc } = tr;\n            const { from, to } = typeof position === \"number\" ? {\n                from: position,\n                to: position\n            } : position;\n            const minPos = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.atStart(doc).from;\n            const maxPos = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.atEnd(doc).to;\n            const resolvedFrom = minMax(from, minPos, maxPos);\n            const resolvedEnd = minMax(to, minPos, maxPos);\n            const selection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.create(doc, resolvedFrom, resolvedEnd);\n            tr.setSelection(selection);\n        }\n        return true;\n    };\nconst sinkListItem = (typeOrName)=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__.sinkListItem)(type)(state, dispatch);\n    };\nfunction ensureMarks(state, splittableMarks) {\n    const marks = state.storedMarks || state.selection.$to.parentOffset && state.selection.$from.marks();\n    if (marks) {\n        const filteredMarks = marks.filter((mark)=>splittableMarks === null || splittableMarks === void 0 ? void 0 : splittableMarks.includes(mark.type.name));\n        state.tr.ensureMarks(filteredMarks);\n    }\n}\nconst splitBlock = ({ keepMarks = true } = {})=>({ tr, state, dispatch, editor })=>{\n        const { selection, doc } = tr;\n        const { $from, $to } = selection;\n        const extensionAttributes = editor.extensionManager.attributes;\n        const newAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\n        if (selection instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection && selection.node.isBlock) {\n            if (!$from.parentOffset || !(0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(doc, $from.pos)) {\n                return false;\n            }\n            if (dispatch) {\n                if (keepMarks) {\n                    ensureMarks(state, editor.extensionManager.splittableMarks);\n                }\n                tr.split($from.pos).scrollIntoView();\n            }\n            return true;\n        }\n        if (!$from.parent.isBlock) {\n            return false;\n        }\n        if (dispatch) {\n            const atEnd = $to.parentOffset === $to.parent.content.size;\n            if (selection instanceof _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection) {\n                tr.deleteSelection();\n            }\n            const deflt = $from.depth === 0 ? undefined : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)));\n            let types = atEnd && deflt ? [\n                {\n                    type: deflt,\n                    attrs: newAttributes\n                }\n            ] : undefined;\n            let can = (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(tr.doc, tr.mapping.map($from.pos), 1, types);\n            if (!types && !can && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [\n                {\n                    type: deflt\n                }\n            ] : undefined)) {\n                can = true;\n                types = deflt ? [\n                    {\n                        type: deflt,\n                        attrs: newAttributes\n                    }\n                ] : undefined;\n            }\n            if (can) {\n                tr.split(tr.mapping.map($from.pos), 1, types);\n                if (deflt && !atEnd && !$from.parentOffset && $from.parent.type !== deflt) {\n                    const first = tr.mapping.map($from.before());\n                    const $first = tr.doc.resolve(first);\n                    if ($from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt)) {\n                        tr.setNodeMarkup(tr.mapping.map($from.before()), deflt);\n                    }\n                }\n            }\n            if (keepMarks) {\n                ensureMarks(state, editor.extensionManager.splittableMarks);\n            }\n            tr.scrollIntoView();\n        }\n        return true;\n    };\nconst splitListItem = (typeOrName)=>({ tr, state, dispatch, editor })=>{\n        var _a;\n        const type = getNodeType(typeOrName, state.schema);\n        const { $from, $to } = state.selection;\n        // @ts-ignore\n        // eslint-disable-next-line\n        const node = state.selection.node;\n        if (node && node.isBlock || $from.depth < 2 || !$from.sameParent($to)) {\n            return false;\n        }\n        const grandParent = $from.node(-1);\n        if (grandParent.type !== type) {\n            return false;\n        }\n        const extensionAttributes = editor.extensionManager.attributes;\n        if ($from.parent.content.size === 0 && $from.node(-1).childCount === $from.indexAfter(-1)) {\n            // In an empty block. If this is a nested list, the wrapping\n            // list item should be split. Otherwise, bail out and let next\n            // command handle lifting.\n            if ($from.depth === 2 || $from.node(-3).type !== type || $from.index(-2) !== $from.node(-2).childCount - 1) {\n                return false;\n            }\n            if (dispatch) {\n                let wrap = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.empty;\n                // eslint-disable-next-line\n                const depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\n                // Build a fragment containing empty versions of the structure\n                // from the outer list item to the parent node of the cursor\n                for(let d = $from.depth - depthBefore; d >= $from.depth - 3; d -= 1){\n                    wrap = _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.from($from.node(d).copy(wrap));\n                }\n                // eslint-disable-next-line\n                const depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1 : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3;\n                // Add a second list item with an empty default start node\n                const newNextTypeAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\n                const nextType = ((_a = type.contentMatch.defaultType) === null || _a === void 0 ? void 0 : _a.createAndFill(newNextTypeAttributes)) || undefined;\n                wrap = wrap.append(_tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Fragment.from(type.createAndFill(null, nextType) || undefined));\n                const start = $from.before($from.depth - (depthBefore - 1));\n                tr.replace(start, $from.after(-depthAfter), new _tiptap_pm_model__WEBPACK_IMPORTED_MODULE_3__.Slice(wrap, 4 - depthBefore, 0));\n                let sel = -1;\n                tr.doc.nodesBetween(start, tr.doc.content.size, (n, pos)=>{\n                    if (sel > -1) {\n                        return false;\n                    }\n                    if (n.isTextblock && n.content.size === 0) {\n                        sel = pos + 1;\n                    }\n                });\n                if (sel > -1) {\n                    tr.setSelection(_tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection.near(tr.doc.resolve(sel)));\n                }\n                tr.scrollIntoView();\n            }\n            return true;\n        }\n        const nextType = $to.pos === $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n        const newTypeAttributes = getSplittedAttributes(extensionAttributes, grandParent.type.name, grandParent.attrs);\n        const newNextTypeAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\n        tr.delete($from.pos, $to.pos);\n        const types = nextType ? [\n            {\n                type,\n                attrs: newTypeAttributes\n            },\n            {\n                type: nextType,\n                attrs: newNextTypeAttributes\n            }\n        ] : [\n            {\n                type,\n                attrs: newTypeAttributes\n            }\n        ];\n        if (!(0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canSplit)(tr.doc, $from.pos, 2)) {\n            return false;\n        }\n        if (dispatch) {\n            const { selection, storedMarks } = state;\n            const { splittableMarks } = editor.extensionManager;\n            const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n            tr.split($from.pos, 2, types).scrollIntoView();\n            if (!marks || !dispatch) {\n                return true;\n            }\n            const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n            tr.ensureMarks(filteredMarks);\n        }\n        return true;\n    };\nconst joinListBackwards = (tr, listType)=>{\n    const list = findParentNode((node)=>node.type === listType)(tr.selection);\n    if (!list) {\n        return true;\n    }\n    const before = tr.doc.resolve(Math.max(0, list.pos - 1)).before(list.depth);\n    if (before === undefined) {\n        return true;\n    }\n    const nodeBefore = tr.doc.nodeAt(before);\n    const canJoinBackwards = list.node.type === (nodeBefore === null || nodeBefore === void 0 ? void 0 : nodeBefore.type) && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canJoin)(tr.doc, list.pos);\n    if (!canJoinBackwards) {\n        return true;\n    }\n    tr.join(list.pos);\n    return true;\n};\nconst joinListForwards = (tr, listType)=>{\n    const list = findParentNode((node)=>node.type === listType)(tr.selection);\n    if (!list) {\n        return true;\n    }\n    const after = tr.doc.resolve(list.start).after(list.depth);\n    if (after === undefined) {\n        return true;\n    }\n    const nodeAfter = tr.doc.nodeAt(after);\n    const canJoinForwards = list.node.type === (nodeAfter === null || nodeAfter === void 0 ? void 0 : nodeAfter.type) && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canJoin)(tr.doc, after);\n    if (!canJoinForwards) {\n        return true;\n    }\n    tr.join(after);\n    return true;\n};\nconst toggleList = (listTypeOrName, itemTypeOrName, keepMarks, attributes = {})=>({ editor, tr, state, dispatch, chain, commands, can })=>{\n        const { extensions, splittableMarks } = editor.extensionManager;\n        const listType = getNodeType(listTypeOrName, state.schema);\n        const itemType = getNodeType(itemTypeOrName, state.schema);\n        const { selection, storedMarks } = state;\n        const { $from, $to } = selection;\n        const range = $from.blockRange($to);\n        const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n        if (!range) {\n            return false;\n        }\n        const parentList = findParentNode((node)=>isList(node.type.name, extensions))(selection);\n        if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\n            // remove list\n            if (parentList.node.type === listType) {\n                return commands.liftListItem(itemType);\n            }\n            // change list type\n            if (isList(parentList.node.type.name, extensions) && listType.validContent(parentList.node.content) && dispatch) {\n                return chain().command(()=>{\n                    tr.setNodeMarkup(parentList.pos, listType);\n                    return true;\n                }).command(()=>joinListBackwards(tr, listType)).command(()=>joinListForwards(tr, listType)).run();\n            }\n        }\n        if (!keepMarks || !marks || !dispatch) {\n            return chain()// try to convert node to default node if needed\n            .command(()=>{\n                const canWrapInList = can().wrapInList(listType, attributes);\n                if (canWrapInList) {\n                    return true;\n                }\n                return commands.clearNodes();\n            }).wrapInList(listType, attributes).command(()=>joinListBackwards(tr, listType)).command(()=>joinListForwards(tr, listType)).run();\n        }\n        return chain()// try to convert node to default node if needed\n        .command(()=>{\n            const canWrapInList = can().wrapInList(listType, attributes);\n            const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n            tr.ensureMarks(filteredMarks);\n            if (canWrapInList) {\n                return true;\n            }\n            return commands.clearNodes();\n        }).wrapInList(listType, attributes).command(()=>joinListBackwards(tr, listType)).command(()=>joinListForwards(tr, listType)).run();\n    };\nconst toggleMark = (typeOrName, attributes = {}, options = {})=>({ state, commands })=>{\n        const { extendEmptyMarkRange = false } = options;\n        const type = getMarkType(typeOrName, state.schema);\n        const isActive = isMarkActive(state, type, attributes);\n        if (isActive) {\n            return commands.unsetMark(type, {\n                extendEmptyMarkRange\n            });\n        }\n        return commands.setMark(type, attributes);\n    };\nconst toggleNode = (typeOrName, toggleTypeOrName, attributes = {})=>({ state, commands })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const toggleType = getNodeType(toggleTypeOrName, state.schema);\n        const isActive = isNodeActive(state, type, attributes);\n        if (isActive) {\n            return commands.setNode(toggleType);\n        }\n        return commands.setNode(type, attributes);\n    };\nconst toggleWrap = (typeOrName, attributes = {})=>({ state, commands })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        const isActive = isNodeActive(state, type, attributes);\n        if (isActive) {\n            return commands.lift(type);\n        }\n        return commands.wrapIn(type, attributes);\n    };\nconst undoInputRule = ()=>({ state, dispatch })=>{\n        const plugins = state.plugins;\n        for(let i = 0; i < plugins.length; i += 1){\n            const plugin = plugins[i];\n            let undoable;\n            // @ts-ignore\n            // eslint-disable-next-line\n            if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n                if (dispatch) {\n                    const tr = state.tr;\n                    const toUndo = undoable.transform;\n                    for(let j = toUndo.steps.length - 1; j >= 0; j -= 1){\n                        tr.step(toUndo.steps[j].invert(toUndo.docs[j]));\n                    }\n                    if (undoable.text) {\n                        const marks = tr.doc.resolve(undoable.from).marks();\n                        tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks));\n                    } else {\n                        tr.delete(undoable.from, undoable.to);\n                    }\n                }\n                return true;\n            }\n        }\n        return false;\n    };\nconst unsetAllMarks = ()=>({ tr, dispatch })=>{\n        const { selection } = tr;\n        const { empty, ranges } = selection;\n        if (empty) {\n            return true;\n        }\n        if (dispatch) {\n            ranges.forEach((range)=>{\n                tr.removeMark(range.$from.pos, range.$to.pos);\n            });\n        }\n        return true;\n    };\nconst unsetMark = (typeOrName, options = {})=>({ tr, state, dispatch })=>{\n        var _a;\n        const { extendEmptyMarkRange = false } = options;\n        const { selection } = tr;\n        const type = getMarkType(typeOrName, state.schema);\n        const { $from, empty, ranges } = selection;\n        if (!dispatch) {\n            return true;\n        }\n        if (empty && extendEmptyMarkRange) {\n            let { from, to } = selection;\n            const attrs = (_a = $from.marks().find((mark)=>mark.type === type)) === null || _a === void 0 ? void 0 : _a.attrs;\n            const range = getMarkRange($from, type, attrs);\n            if (range) {\n                from = range.from;\n                to = range.to;\n            }\n            tr.removeMark(from, to, type);\n        } else {\n            ranges.forEach((range)=>{\n                tr.removeMark(range.$from.pos, range.$to.pos, type);\n            });\n        }\n        tr.removeStoredMark(type);\n        return true;\n    };\nconst updateAttributes = (typeOrName, attributes = {})=>({ tr, state, dispatch })=>{\n        let nodeType = null;\n        let markType = null;\n        const schemaType = getSchemaTypeNameByName(typeof typeOrName === \"string\" ? typeOrName : typeOrName.name, state.schema);\n        if (!schemaType) {\n            return false;\n        }\n        if (schemaType === \"node\") {\n            nodeType = getNodeType(typeOrName, state.schema);\n        }\n        if (schemaType === \"mark\") {\n            markType = getMarkType(typeOrName, state.schema);\n        }\n        if (dispatch) {\n            tr.selection.ranges.forEach((range)=>{\n                const from = range.$from.pos;\n                const to = range.$to.pos;\n                state.doc.nodesBetween(from, to, (node, pos)=>{\n                    if (nodeType && nodeType === node.type) {\n                        tr.setNodeMarkup(pos, undefined, {\n                            ...node.attrs,\n                            ...attributes\n                        });\n                    }\n                    if (markType && node.marks.length) {\n                        node.marks.forEach((mark)=>{\n                            if (markType === mark.type) {\n                                const trimmedFrom = Math.max(pos, from);\n                                const trimmedTo = Math.min(pos + node.nodeSize, to);\n                                tr.addMark(trimmedFrom, trimmedTo, markType.create({\n                                    ...mark.attrs,\n                                    ...attributes\n                                }));\n                            }\n                        });\n                    }\n                });\n            });\n        }\n        return true;\n    };\nconst wrapIn = (typeOrName, attributes = {})=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_commands__WEBPACK_IMPORTED_MODULE_5__.wrapIn)(type, attributes)(state, dispatch);\n    };\nconst wrapInList = (typeOrName, attributes = {})=>({ state, dispatch })=>{\n        const type = getNodeType(typeOrName, state.schema);\n        return (0,_tiptap_pm_schema_list__WEBPACK_IMPORTED_MODULE_6__.wrapInList)(type, attributes)(state, dispatch);\n    };\nvar commands = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    blur: blur,\n    clearContent: clearContent,\n    clearNodes: clearNodes,\n    command: command,\n    createParagraphNear: createParagraphNear,\n    cut: cut,\n    deleteCurrentNode: deleteCurrentNode,\n    deleteNode: deleteNode,\n    deleteRange: deleteRange,\n    deleteSelection: deleteSelection,\n    enter: enter,\n    exitCode: exitCode,\n    extendMarkRange: extendMarkRange,\n    first: first,\n    focus: focus,\n    forEach: forEach,\n    insertContent: insertContent,\n    insertContentAt: insertContentAt,\n    joinUp: joinUp,\n    joinDown: joinDown,\n    joinBackward: joinBackward,\n    joinForward: joinForward,\n    joinItemBackward: joinItemBackward,\n    joinItemForward: joinItemForward,\n    joinTextblockBackward: joinTextblockBackward,\n    joinTextblockForward: joinTextblockForward,\n    keyboardShortcut: keyboardShortcut,\n    lift: lift,\n    liftEmptyBlock: liftEmptyBlock,\n    liftListItem: liftListItem,\n    newlineInCode: newlineInCode,\n    resetAttributes: resetAttributes,\n    scrollIntoView: scrollIntoView,\n    selectAll: selectAll,\n    selectNodeBackward: selectNodeBackward,\n    selectNodeForward: selectNodeForward,\n    selectParentNode: selectParentNode,\n    selectTextblockEnd: selectTextblockEnd,\n    selectTextblockStart: selectTextblockStart,\n    setContent: setContent,\n    setMark: setMark,\n    setMeta: setMeta,\n    setNode: setNode,\n    setNodeSelection: setNodeSelection,\n    setTextSelection: setTextSelection,\n    sinkListItem: sinkListItem,\n    splitBlock: splitBlock,\n    splitListItem: splitListItem,\n    toggleList: toggleList,\n    toggleMark: toggleMark,\n    toggleNode: toggleNode,\n    toggleWrap: toggleWrap,\n    undoInputRule: undoInputRule,\n    unsetAllMarks: unsetAllMarks,\n    unsetMark: unsetMark,\n    updateAttributes: updateAttributes,\n    wrapIn: wrapIn,\n    wrapInList: wrapInList\n});\nconst Commands = Extension.create({\n    name: \"commands\",\n    addCommands () {\n        return {\n            ...commands\n        };\n    }\n});\nconst Editable = Extension.create({\n    name: \"editable\",\n    addProseMirrorPlugins () {\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"editable\"),\n                props: {\n                    editable: ()=>this.editor.options.editable\n                }\n            })\n        ];\n    }\n});\nconst FocusEvents = Extension.create({\n    name: \"focusEvents\",\n    addProseMirrorPlugins () {\n        const { editor } = this;\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"focusEvents\"),\n                props: {\n                    handleDOMEvents: {\n                        focus: (view, event)=>{\n                            editor.isFocused = true;\n                            const transaction = editor.state.tr.setMeta(\"focus\", {\n                                event\n                            }).setMeta(\"addToHistory\", false);\n                            view.dispatch(transaction);\n                            return false;\n                        },\n                        blur: (view, event)=>{\n                            editor.isFocused = false;\n                            const transaction = editor.state.tr.setMeta(\"blur\", {\n                                event\n                            }).setMeta(\"addToHistory\", false);\n                            view.dispatch(transaction);\n                            return false;\n                        }\n                    }\n                }\n            })\n        ];\n    }\n});\nconst Keymap = Extension.create({\n    name: \"keymap\",\n    addKeyboardShortcuts () {\n        const handleBackspace = ()=>this.editor.commands.first(({ commands })=>[\n                    ()=>commands.undoInputRule(),\n                    // maybe convert first text block node to default node\n                    ()=>commands.command(({ tr })=>{\n                            const { selection, doc } = tr;\n                            const { empty, $anchor } = selection;\n                            const { pos, parent } = $anchor;\n                            const $parentPos = $anchor.parent.isTextblock ? tr.doc.resolve(pos - 1) : $anchor;\n                            const parentIsIsolating = $parentPos.parent.type.spec.isolating;\n                            const parentPos = $anchor.pos - $anchor.parentOffset;\n                            const isAtStart = parentIsIsolating && $parentPos.parent.childCount === 1 ? parentPos === $anchor.pos : _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atStart(doc).from === pos;\n                            if (!empty || !isAtStart || !parent.type.isTextblock || parent.textContent.length) {\n                                return false;\n                            }\n                            return commands.clearNodes();\n                        }),\n                    ()=>commands.deleteSelection(),\n                    ()=>commands.joinBackward(),\n                    ()=>commands.selectNodeBackward()\n                ]);\n        const handleDelete = ()=>this.editor.commands.first(({ commands })=>[\n                    ()=>commands.deleteSelection(),\n                    ()=>commands.deleteCurrentNode(),\n                    ()=>commands.joinForward(),\n                    ()=>commands.selectNodeForward()\n                ]);\n        const handleEnter = ()=>this.editor.commands.first(({ commands })=>[\n                    ()=>commands.newlineInCode(),\n                    ()=>commands.createParagraphNear(),\n                    ()=>commands.liftEmptyBlock(),\n                    ()=>commands.splitBlock()\n                ]);\n        const baseKeymap = {\n            Enter: handleEnter,\n            \"Mod-Enter\": ()=>this.editor.commands.exitCode(),\n            Backspace: handleBackspace,\n            \"Mod-Backspace\": handleBackspace,\n            \"Shift-Backspace\": handleBackspace,\n            Delete: handleDelete,\n            \"Mod-Delete\": handleDelete,\n            \"Mod-a\": ()=>this.editor.commands.selectAll()\n        };\n        const pcKeymap = {\n            ...baseKeymap\n        };\n        const macKeymap = {\n            ...baseKeymap,\n            \"Ctrl-h\": handleBackspace,\n            \"Alt-Backspace\": handleBackspace,\n            \"Ctrl-d\": handleDelete,\n            \"Ctrl-Alt-Backspace\": handleDelete,\n            \"Alt-Delete\": handleDelete,\n            \"Alt-d\": handleDelete,\n            \"Ctrl-a\": ()=>this.editor.commands.selectTextblockStart(),\n            \"Ctrl-e\": ()=>this.editor.commands.selectTextblockEnd()\n        };\n        if (isiOS() || isMacOS()) {\n            return macKeymap;\n        }\n        return pcKeymap;\n    },\n    addProseMirrorPlugins () {\n        return [\n            // With this plugin we check if the whole document was selected and deleted.\n            // In this case we will additionally call `clearNodes()` to convert e.g. a heading\n            // to a paragraph if necessary.\n            // This is an alternative to ProseMirror's `AllSelection`, which doesn’t work well\n            // with many other commands.\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"clearDocument\"),\n                appendTransaction: (transactions, oldState, newState)=>{\n                    const docChanges = transactions.some((transaction)=>transaction.docChanged) && !oldState.doc.eq(newState.doc);\n                    if (!docChanges) {\n                        return;\n                    }\n                    const { empty, from, to } = oldState.selection;\n                    const allFrom = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atStart(oldState.doc).from;\n                    const allEnd = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Selection.atEnd(oldState.doc).to;\n                    const allWasSelected = from === allFrom && to === allEnd;\n                    if (empty || !allWasSelected) {\n                        return;\n                    }\n                    const isEmpty = newState.doc.textBetween(0, newState.doc.content.size, \" \", \" \").length === 0;\n                    if (!isEmpty) {\n                        return;\n                    }\n                    const tr = newState.tr;\n                    const state = createChainableState({\n                        state: newState,\n                        transaction: tr\n                    });\n                    const { commands } = new CommandManager({\n                        editor: this.editor,\n                        state\n                    });\n                    commands.clearNodes();\n                    if (!tr.steps.length) {\n                        return;\n                    }\n                    return tr;\n                }\n            })\n        ];\n    }\n});\nconst Tabindex = Extension.create({\n    name: \"tabindex\",\n    addProseMirrorPlugins () {\n        return [\n            new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n                key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(\"tabindex\"),\n                props: {\n                    attributes: this.editor.isEditable ? {\n                        tabindex: \"0\"\n                    } : {}\n                }\n            })\n        ];\n    }\n});\nvar extensions = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ClipboardTextSerializer: ClipboardTextSerializer,\n    Commands: Commands,\n    Editable: Editable,\n    FocusEvents: FocusEvents,\n    Keymap: Keymap,\n    Tabindex: Tabindex\n});\nclass NodePos {\n    constructor(pos, editor, isBlock = false, node = null){\n        this.currentNode = null;\n        this.actualDepth = null;\n        this.isBlock = isBlock;\n        this.resolvedPos = pos;\n        this.editor = editor;\n        this.currentNode = node;\n    }\n    get name() {\n        return this.node.type.name;\n    }\n    get node() {\n        return this.currentNode || this.resolvedPos.node();\n    }\n    get element() {\n        return this.editor.view.domAtPos(this.pos).node;\n    }\n    get depth() {\n        var _a;\n        return (_a = this.actualDepth) !== null && _a !== void 0 ? _a : this.resolvedPos.depth;\n    }\n    get pos() {\n        return this.resolvedPos.pos;\n    }\n    get content() {\n        return this.node.content;\n    }\n    set content(content) {\n        let from = this.from;\n        let to = this.to;\n        if (this.isBlock) {\n            if (this.content.size === 0) {\n                console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);\n                return;\n            }\n            from = this.from + 1;\n            to = this.to - 1;\n        }\n        this.editor.commands.insertContentAt({\n            from,\n            to\n        }, content);\n    }\n    get attributes() {\n        return this.node.attrs;\n    }\n    get textContent() {\n        return this.node.textContent;\n    }\n    get size() {\n        return this.node.nodeSize;\n    }\n    get from() {\n        if (this.isBlock) {\n            return this.pos;\n        }\n        return this.resolvedPos.start(this.resolvedPos.depth);\n    }\n    get range() {\n        return {\n            from: this.from,\n            to: this.to\n        };\n    }\n    get to() {\n        if (this.isBlock) {\n            return this.pos + this.size;\n        }\n        return this.resolvedPos.end(this.resolvedPos.depth) + (this.node.isText ? 0 : 1);\n    }\n    get parent() {\n        if (this.depth === 0) {\n            return null;\n        }\n        const parentPos = this.resolvedPos.start(this.resolvedPos.depth - 1);\n        const $pos = this.resolvedPos.doc.resolve(parentPos);\n        return new NodePos($pos, this.editor);\n    }\n    get before() {\n        let $pos = this.resolvedPos.doc.resolve(this.from - (this.isBlock ? 1 : 2));\n        if ($pos.depth !== this.depth) {\n            $pos = this.resolvedPos.doc.resolve(this.from - 3);\n        }\n        return new NodePos($pos, this.editor);\n    }\n    get after() {\n        let $pos = this.resolvedPos.doc.resolve(this.to + (this.isBlock ? 2 : 1));\n        if ($pos.depth !== this.depth) {\n            $pos = this.resolvedPos.doc.resolve(this.to + 3);\n        }\n        return new NodePos($pos, this.editor);\n    }\n    get children() {\n        const children = [];\n        this.node.content.forEach((node, offset)=>{\n            const isBlock = node.isBlock && !node.isTextblock;\n            const targetPos = this.pos + offset + (isBlock ? 0 : 1);\n            const $pos = this.resolvedPos.doc.resolve(targetPos);\n            if (!isBlock && $pos.depth <= this.depth) {\n                return;\n            }\n            const childNodePos = new NodePos($pos, this.editor, isBlock, isBlock ? node : null);\n            if (isBlock) {\n                childNodePos.actualDepth = this.depth + 1;\n            }\n            children.push(new NodePos($pos, this.editor, isBlock, isBlock ? node : null));\n        });\n        return children;\n    }\n    get firstChild() {\n        return this.children[0] || null;\n    }\n    get lastChild() {\n        const children = this.children;\n        return children[children.length - 1] || null;\n    }\n    closest(selector, attributes = {}) {\n        let node = null;\n        let currentNode = this.parent;\n        while(currentNode && !node){\n            if (currentNode.node.type.name === selector) {\n                if (Object.keys(attributes).length > 0) {\n                    const nodeAttributes = currentNode.node.attrs;\n                    const attrKeys = Object.keys(attributes);\n                    for(let index = 0; index < attrKeys.length; index += 1){\n                        const key = attrKeys[index];\n                        if (nodeAttributes[key] !== attributes[key]) {\n                            break;\n                        }\n                    }\n                } else {\n                    node = currentNode;\n                }\n            }\n            currentNode = currentNode.parent;\n        }\n        return node;\n    }\n    querySelector(selector, attributes = {}) {\n        return this.querySelectorAll(selector, attributes, true)[0] || null;\n    }\n    querySelectorAll(selector, attributes = {}, firstItemOnly = false) {\n        let nodes = [];\n        // iterate through children recursively finding all nodes which match the selector with the node name\n        if (this.isBlock || !this.children || this.children.length === 0) {\n            return nodes;\n        }\n        this.children.forEach((childPos)=>{\n            if (childPos.node.type.name === selector) {\n                if (Object.keys(attributes).length > 0) {\n                    const nodeAttributes = childPos.node.attrs;\n                    const attrKeys = Object.keys(attributes);\n                    for(let index = 0; index < attrKeys.length; index += 1){\n                        const key = attrKeys[index];\n                        if (nodeAttributes[key] !== attributes[key]) {\n                            return;\n                        }\n                    }\n                }\n                nodes.push(childPos);\n                if (firstItemOnly) {\n                    return;\n                }\n            }\n            nodes = nodes.concat(childPos.querySelectorAll(selector));\n        });\n        return nodes;\n    }\n    setAttribute(attributes) {\n        const oldSelection = this.editor.state.selection;\n        this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name, attributes).setTextSelection(oldSelection.from).run();\n    }\n}\nconst style = `.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: \"liga\" 0; /* the above doesn't seem to work in Edge */\n}\n\n.ProseMirror [contenteditable=\"false\"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable=\"false\"] [contenteditable=\"true\"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}`;\nfunction createStyleTag(style, nonce, suffix) {\n    const tiptapStyleTag = document.querySelector(`style[data-tiptap-style${suffix ? `-${suffix}` : \"\"}]`);\n    if (tiptapStyleTag !== null) {\n        return tiptapStyleTag;\n    }\n    const styleNode = document.createElement(\"style\");\n    if (nonce) {\n        styleNode.setAttribute(\"nonce\", nonce);\n    }\n    styleNode.setAttribute(`data-tiptap-style${suffix ? `-${suffix}` : \"\"}`, \"\");\n    styleNode.innerHTML = style;\n    document.getElementsByTagName(\"head\")[0].appendChild(styleNode);\n    return styleNode;\n}\nclass Editor extends EventEmitter {\n    constructor(options = {}){\n        super();\n        this.isFocused = false;\n        this.extensionStorage = {};\n        this.options = {\n            element: document.createElement(\"div\"),\n            content: \"\",\n            injectCSS: true,\n            injectNonce: undefined,\n            extensions: [],\n            autofocus: false,\n            editable: true,\n            editorProps: {},\n            parseOptions: {},\n            enableInputRules: true,\n            enablePasteRules: true,\n            enableCoreExtensions: true,\n            onBeforeCreate: ()=>null,\n            onCreate: ()=>null,\n            onUpdate: ()=>null,\n            onSelectionUpdate: ()=>null,\n            onTransaction: ()=>null,\n            onFocus: ()=>null,\n            onBlur: ()=>null,\n            onDestroy: ()=>null\n        };\n        this.isCapturingTransaction = false;\n        this.capturedTransaction = null;\n        this.setOptions(options);\n        this.createExtensionManager();\n        this.createCommandManager();\n        this.createSchema();\n        this.on(\"beforeCreate\", this.options.onBeforeCreate);\n        this.emit(\"beforeCreate\", {\n            editor: this\n        });\n        this.createView();\n        this.injectCSS();\n        this.on(\"create\", this.options.onCreate);\n        this.on(\"update\", this.options.onUpdate);\n        this.on(\"selectionUpdate\", this.options.onSelectionUpdate);\n        this.on(\"transaction\", this.options.onTransaction);\n        this.on(\"focus\", this.options.onFocus);\n        this.on(\"blur\", this.options.onBlur);\n        this.on(\"destroy\", this.options.onDestroy);\n        window.setTimeout(()=>{\n            if (this.isDestroyed) {\n                return;\n            }\n            this.commands.focus(this.options.autofocus);\n            this.emit(\"create\", {\n                editor: this\n            });\n        }, 0);\n    }\n    /**\r\n     * Returns the editor storage.\r\n     */ get storage() {\n        return this.extensionStorage;\n    }\n    /**\r\n     * An object of all registered commands.\r\n     */ get commands() {\n        return this.commandManager.commands;\n    }\n    /**\r\n     * Create a command chain to call multiple commands at once.\r\n     */ chain() {\n        return this.commandManager.chain();\n    }\n    /**\r\n     * Check if a command or a command chain can be executed. Without executing it.\r\n     */ can() {\n        return this.commandManager.can();\n    }\n    /**\r\n     * Inject CSS styles.\r\n     */ injectCSS() {\n        if (this.options.injectCSS && document) {\n            this.css = createStyleTag(style, this.options.injectNonce);\n        }\n    }\n    /**\r\n     * Update editor options.\r\n     *\r\n     * @param options A list of options\r\n     */ setOptions(options = {}) {\n        this.options = {\n            ...this.options,\n            ...options\n        };\n        if (!this.view || !this.state || this.isDestroyed) {\n            return;\n        }\n        if (this.options.editorProps) {\n            this.view.setProps(this.options.editorProps);\n        }\n        this.view.updateState(this.state);\n    }\n    /**\r\n     * Update editable state of the editor.\r\n     */ setEditable(editable, emitUpdate = true) {\n        this.setOptions({\n            editable\n        });\n        if (emitUpdate) {\n            this.emit(\"update\", {\n                editor: this,\n                transaction: this.state.tr\n            });\n        }\n    }\n    /**\r\n     * Returns whether the editor is editable.\r\n     */ get isEditable() {\n        // since plugins are applied after creating the view\n        // `editable` is always `true` for one tick.\n        // that’s why we also have to check for `options.editable`\n        return this.options.editable && this.view && this.view.editable;\n    }\n    /**\r\n     * Returns the editor state.\r\n     */ get state() {\n        return this.view.state;\n    }\n    /**\r\n     * Register a ProseMirror plugin.\r\n     *\r\n     * @param plugin A ProseMirror plugin\r\n     * @param handlePlugins Control how to merge the plugin into the existing plugins.\r\n     */ registerPlugin(plugin, handlePlugins) {\n        const plugins = isFunction(handlePlugins) ? handlePlugins(plugin, [\n            ...this.state.plugins\n        ]) : [\n            ...this.state.plugins,\n            plugin\n        ];\n        const state = this.state.reconfigure({\n            plugins\n        });\n        this.view.updateState(state);\n    }\n    /**\r\n     * Unregister a ProseMirror plugin.\r\n     *\r\n     * @param nameOrPluginKey The plugins name\r\n     */ unregisterPlugin(nameOrPluginKey) {\n        if (this.isDestroyed) {\n            return;\n        }\n        // @ts-ignore\n        const name = typeof nameOrPluginKey === \"string\" ? `${nameOrPluginKey}$` : nameOrPluginKey.key;\n        const state = this.state.reconfigure({\n            // @ts-ignore\n            plugins: this.state.plugins.filter((plugin)=>!plugin.key.startsWith(name))\n        });\n        this.view.updateState(state);\n    }\n    /**\r\n     * Creates an extension manager.\r\n     */ createExtensionManager() {\n        const coreExtensions = this.options.enableCoreExtensions ? Object.values(extensions) : [];\n        const allExtensions = [\n            ...coreExtensions,\n            ...this.options.extensions\n        ].filter((extension)=>{\n            return [\n                \"extension\",\n                \"node\",\n                \"mark\"\n            ].includes(extension === null || extension === void 0 ? void 0 : extension.type);\n        });\n        this.extensionManager = new ExtensionManager(allExtensions, this);\n    }\n    /**\r\n     * Creates an command manager.\r\n     */ createCommandManager() {\n        this.commandManager = new CommandManager({\n            editor: this\n        });\n    }\n    /**\r\n     * Creates a ProseMirror schema.\r\n     */ createSchema() {\n        this.schema = this.extensionManager.schema;\n    }\n    /**\r\n     * Creates a ProseMirror view.\r\n     */ createView() {\n        const doc = createDocument(this.options.content, this.schema, this.options.parseOptions);\n        const selection = resolveFocusPosition(doc, this.options.autofocus);\n        this.view = new _tiptap_pm_view__WEBPACK_IMPORTED_MODULE_1__.EditorView(this.options.element, {\n            ...this.options.editorProps,\n            dispatchTransaction: this.dispatchTransaction.bind(this),\n            state: _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.EditorState.create({\n                doc,\n                selection: selection || undefined\n            })\n        });\n        // `editor.view` is not yet available at this time.\n        // Therefore we will add all plugins and node views directly afterwards.\n        const newState = this.state.reconfigure({\n            plugins: this.extensionManager.plugins\n        });\n        this.view.updateState(newState);\n        this.createNodeViews();\n        this.prependClass();\n        // Let’s store the editor instance in the DOM element.\n        // So we’ll have access to it for tests.\n        const dom = this.view.dom;\n        dom.editor = this;\n    }\n    /**\r\n     * Creates all node views.\r\n     */ createNodeViews() {\n        this.view.setProps({\n            nodeViews: this.extensionManager.nodeViews\n        });\n    }\n    /**\r\n     * Prepend class name to element.\r\n     */ prependClass() {\n        this.view.dom.className = `tiptap ${this.view.dom.className}`;\n    }\n    captureTransaction(fn) {\n        this.isCapturingTransaction = true;\n        fn();\n        this.isCapturingTransaction = false;\n        const tr = this.capturedTransaction;\n        this.capturedTransaction = null;\n        return tr;\n    }\n    /**\r\n     * The callback over which to send transactions (state updates) produced by the view.\r\n     *\r\n     * @param transaction An editor state transaction\r\n     */ dispatchTransaction(transaction) {\n        // if the editor / the view of the editor was destroyed\n        // the transaction should not be dispatched as there is no view anymore.\n        if (this.view.isDestroyed) {\n            return;\n        }\n        if (this.isCapturingTransaction) {\n            if (!this.capturedTransaction) {\n                this.capturedTransaction = transaction;\n                return;\n            }\n            transaction.steps.forEach((step)=>{\n                var _a;\n                return (_a = this.capturedTransaction) === null || _a === void 0 ? void 0 : _a.step(step);\n            });\n            return;\n        }\n        const state = this.state.apply(transaction);\n        const selectionHasChanged = !this.state.selection.eq(state.selection);\n        this.view.updateState(state);\n        this.emit(\"transaction\", {\n            editor: this,\n            transaction\n        });\n        if (selectionHasChanged) {\n            this.emit(\"selectionUpdate\", {\n                editor: this,\n                transaction\n            });\n        }\n        const focus = transaction.getMeta(\"focus\");\n        const blur = transaction.getMeta(\"blur\");\n        if (focus) {\n            this.emit(\"focus\", {\n                editor: this,\n                event: focus.event,\n                transaction\n            });\n        }\n        if (blur) {\n            this.emit(\"blur\", {\n                editor: this,\n                event: blur.event,\n                transaction\n            });\n        }\n        if (!transaction.docChanged || transaction.getMeta(\"preventUpdate\")) {\n            return;\n        }\n        this.emit(\"update\", {\n            editor: this,\n            transaction\n        });\n    }\n    /**\r\n     * Get attributes of the currently selected node or mark.\r\n     */ getAttributes(nameOrType) {\n        return getAttributes(this.state, nameOrType);\n    }\n    isActive(nameOrAttributes, attributesOrUndefined) {\n        const name = typeof nameOrAttributes === \"string\" ? nameOrAttributes : null;\n        const attributes = typeof nameOrAttributes === \"string\" ? attributesOrUndefined : nameOrAttributes;\n        return isActive(this.state, name, attributes);\n    }\n    /**\r\n     * Get the document as JSON.\r\n     */ getJSON() {\n        return this.state.doc.toJSON();\n    }\n    /**\r\n     * Get the document as HTML.\r\n     */ getHTML() {\n        return getHTMLFromFragment(this.state.doc.content, this.schema);\n    }\n    /**\r\n     * Get the document as text.\r\n     */ getText(options) {\n        const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n        return getText(this.state.doc, {\n            blockSeparator,\n            textSerializers: {\n                ...getTextSerializersFromSchema(this.schema),\n                ...textSerializers\n            }\n        });\n    }\n    /**\r\n     * Check if there is no content.\r\n     */ get isEmpty() {\n        return isNodeEmpty(this.state.doc);\n    }\n    /**\r\n     * Get the number of characters for the current document.\r\n     *\r\n     * @deprecated\r\n     */ getCharacterCount() {\n        console.warn('[tiptap warn]: \"editor.getCharacterCount()\" is deprecated. Please use \"editor.storage.characterCount.characters()\" instead.');\n        return this.state.doc.content.size - 2;\n    }\n    /**\r\n     * Destroy the editor.\r\n     */ destroy() {\n        this.emit(\"destroy\");\n        if (this.view) {\n            this.view.destroy();\n        }\n        this.removeAllListeners();\n    }\n    /**\r\n     * Check if the editor is already destroyed.\r\n     */ get isDestroyed() {\n        var _a;\n        // @ts-ignore\n        return !((_a = this.view) === null || _a === void 0 ? void 0 : _a.docView);\n    }\n    $node(selector, attributes) {\n        var _a;\n        return ((_a = this.$doc) === null || _a === void 0 ? void 0 : _a.querySelector(selector, attributes)) || null;\n    }\n    $nodes(selector, attributes) {\n        var _a;\n        return ((_a = this.$doc) === null || _a === void 0 ? void 0 : _a.querySelectorAll(selector, attributes)) || null;\n    }\n    $pos(pos) {\n        const $pos = this.state.doc.resolve(pos);\n        return new NodePos($pos, this);\n    }\n    get $doc() {\n        return this.$pos(0);\n    }\n}\n/**\r\n * Build an input rule that adds a mark when the\r\n * matched text is typed into it.\r\n */ function markInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match);\n            if (attributes === false || attributes === null) {\n                return null;\n            }\n            const { tr } = state;\n            const captureGroup = match[match.length - 1];\n            const fullMatch = match[0];\n            if (captureGroup) {\n                const startSpaces = fullMatch.search(/\\S/);\n                const textStart = range.from + fullMatch.indexOf(captureGroup);\n                const textEnd = textStart + captureGroup.length;\n                const excludedMarks = getMarksBetween(range.from, range.to, state.doc).filter((item)=>{\n                    // @ts-ignore\n                    const excluded = item.mark.type.excluded;\n                    return excluded.find((type)=>type === config.type && type !== item.mark.type);\n                }).filter((item)=>item.to > textStart);\n                if (excludedMarks.length) {\n                    return null;\n                }\n                if (textEnd < range.to) {\n                    tr.delete(textEnd, range.to);\n                }\n                if (textStart > range.from) {\n                    tr.delete(range.from + startSpaces, textStart);\n                }\n                const markEnd = range.from + startSpaces + captureGroup.length;\n                tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\n                tr.removeStoredMark(config.type);\n            }\n        }\n    });\n}\n/**\r\n * Build an input rule that adds a node when the\r\n * matched text is typed into it.\r\n */ function nodeInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\n            const { tr } = state;\n            const start = range.from;\n            let end = range.to;\n            const newNode = config.type.create(attributes);\n            if (match[1]) {\n                const offset = match[0].lastIndexOf(match[1]);\n                let matchStart = start + offset;\n                if (matchStart > end) {\n                    matchStart = end;\n                } else {\n                    end = matchStart + match[1].length;\n                }\n                // insert last typed character\n                const lastChar = match[0][match[0].length - 1];\n                tr.insertText(lastChar, start + match[0].length - 1);\n                // insert node from input rule\n                tr.replaceWith(matchStart, end, newNode);\n            } else if (match[0]) {\n                tr.insert(start - 1, config.type.create(attributes)).delete(tr.mapping.map(start), tr.mapping.map(end));\n            }\n            tr.scrollIntoView();\n        }\n    });\n}\n/**\r\n * Build an input rule that changes the type of a textblock when the\r\n * matched text is typed into it. When using a regular expresion you’ll\r\n * probably want the regexp to start with `^`, so that the pattern can\r\n * only occur at the start of a textblock.\r\n */ function textblockTypeInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            const $start = state.doc.resolve(range.from);\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\n            if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), config.type)) {\n                return null;\n            }\n            state.tr.delete(range.from, range.to).setBlockType(range.from, range.from, config.type, attributes);\n        }\n    });\n}\n/**\r\n * Build an input rule that replaces text when the\r\n * matched text is typed into it.\r\n */ function textInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            let insert = config.replace;\n            let start = range.from;\n            const end = range.to;\n            if (match[1]) {\n                const offset = match[0].lastIndexOf(match[1]);\n                insert += match[0].slice(offset + match[1].length);\n                start += offset;\n                const cutOff = start - end;\n                if (cutOff > 0) {\n                    insert = match[0].slice(offset - cutOff, offset) + insert;\n                    start = end;\n                }\n            }\n            state.tr.insertText(insert, start, end);\n        }\n    });\n}\n/**\r\n * Build an input rule for automatically wrapping a textblock when a\r\n * given string is typed. When using a regular expresion you’ll\r\n * probably want the regexp to start with `^`, so that the pattern can\r\n * only occur at the start of a textblock.\r\n *\r\n * `type` is the type of node to wrap in.\r\n *\r\n * By default, if there’s a node with the same type above the newly\r\n * wrapped node, the rule will try to join those\r\n * two nodes. You can pass a join predicate, which takes a regular\r\n * expression match and the node before the wrapped node, and can\r\n * return a boolean to indicate whether a join should happen.\r\n */ function wrappingInputRule(config) {\n    return new InputRule({\n        find: config.find,\n        handler: ({ state, range, match, chain })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match) || {};\n            const tr = state.tr.delete(range.from, range.to);\n            const $start = tr.doc.resolve(range.from);\n            const blockRange = $start.blockRange();\n            const wrapping = blockRange && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.findWrapping)(blockRange, config.type, attributes);\n            if (!wrapping) {\n                return null;\n            }\n            tr.wrap(blockRange, wrapping);\n            if (config.keepMarks && config.editor) {\n                const { selection, storedMarks } = state;\n                const { splittableMarks } = config.editor.extensionManager;\n                const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n                if (marks) {\n                    const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n                    tr.ensureMarks(filteredMarks);\n                }\n            }\n            if (config.keepAttributes) {\n                /** If the nodeType is `bulletList` or `orderedList` set the `nodeType` as `listItem` */ const nodeType = config.type.name === \"bulletList\" || config.type.name === \"orderedList\" ? \"listItem\" : \"taskList\";\n                chain().updateAttributes(nodeType, attributes).run();\n            }\n            const before = tr.doc.resolve(range.from - 1).nodeBefore;\n            if (before && before.type === config.type && (0,_tiptap_pm_transform__WEBPACK_IMPORTED_MODULE_4__.canJoin)(tr.doc, range.from - 1) && (!config.joinPredicate || config.joinPredicate(match, before))) {\n                tr.join(range.from - 1);\n            }\n        }\n    });\n}\nclass Mark {\n    constructor(config = {}){\n        this.type = \"mark\";\n        this.name = \"mark\";\n        this.parent = null;\n        this.child = null;\n        this.config = {\n            name: this.name,\n            defaultOptions: {}\n        };\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        this.name = this.config.name;\n        if (config.defaultOptions && Object.keys(config.defaultOptions).length > 0) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\n        }\n        // TODO: remove `addOptions` fallback\n        this.options = this.config.defaultOptions;\n        if (this.config.addOptions) {\n            this.options = callOrReturn(getExtensionField(this, \"addOptions\", {\n                name: this.name\n            }));\n        }\n        this.storage = callOrReturn(getExtensionField(this, \"addStorage\", {\n            name: this.name,\n            options: this.options\n        })) || {};\n    }\n    static create(config = {}) {\n        return new Mark(config);\n    }\n    configure(options = {}) {\n        // return a new instance so we can use the same extension\n        // with different calls of `configure`\n        const extension = this.extend();\n        extension.options = mergeDeep(this.options, options);\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    extend(extendedConfig = {}) {\n        const extension = new Mark({\n            ...this.config,\n            ...extendedConfig\n        });\n        extension.parent = this;\n        this.child = extension;\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\n        if (extendedConfig.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\n        }\n        extension.options = callOrReturn(getExtensionField(extension, \"addOptions\", {\n            name: extension.name\n        }));\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    static handleExit({ editor, mark }) {\n        const { tr } = editor.state;\n        const currentPos = editor.state.selection.$from;\n        const isAtEnd = currentPos.pos === currentPos.end();\n        if (isAtEnd) {\n            const currentMarks = currentPos.marks();\n            const isInMark = !!currentMarks.find((m)=>(m === null || m === void 0 ? void 0 : m.type.name) === mark.name);\n            if (!isInMark) {\n                return false;\n            }\n            const removeMark = currentMarks.find((m)=>(m === null || m === void 0 ? void 0 : m.type.name) === mark.name);\n            if (removeMark) {\n                tr.removeStoredMark(removeMark);\n            }\n            tr.insertText(\" \", currentPos.pos);\n            editor.view.dispatch(tr);\n            return true;\n        }\n        return false;\n    }\n}\nclass Node {\n    constructor(config = {}){\n        this.type = \"node\";\n        this.name = \"node\";\n        this.parent = null;\n        this.child = null;\n        this.config = {\n            name: this.name,\n            defaultOptions: {}\n        };\n        this.config = {\n            ...this.config,\n            ...config\n        };\n        this.name = this.config.name;\n        if (config.defaultOptions && Object.keys(config.defaultOptions).length > 0) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`);\n        }\n        // TODO: remove `addOptions` fallback\n        this.options = this.config.defaultOptions;\n        if (this.config.addOptions) {\n            this.options = callOrReturn(getExtensionField(this, \"addOptions\", {\n                name: this.name\n            }));\n        }\n        this.storage = callOrReturn(getExtensionField(this, \"addStorage\", {\n            name: this.name,\n            options: this.options\n        })) || {};\n    }\n    static create(config = {}) {\n        return new Node(config);\n    }\n    configure(options = {}) {\n        // return a new instance so we can use the same extension\n        // with different calls of `configure`\n        const extension = this.extend();\n        extension.options = mergeDeep(this.options, options);\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n    extend(extendedConfig = {}) {\n        const extension = new Node({\n            ...this.config,\n            ...extendedConfig\n        });\n        extension.parent = this;\n        this.child = extension;\n        extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name;\n        if (extendedConfig.defaultOptions) {\n            console.warn(`[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`);\n        }\n        extension.options = callOrReturn(getExtensionField(extension, \"addOptions\", {\n            name: extension.name\n        }));\n        extension.storage = callOrReturn(getExtensionField(extension, \"addStorage\", {\n            name: extension.name,\n            options: extension.options\n        }));\n        return extension;\n    }\n}\nfunction isAndroid() {\n    return navigator.platform === \"Android\" || /android/i.test(navigator.userAgent);\n}\nclass NodeView {\n    constructor(component, props, options){\n        this.isDragging = false;\n        this.component = component;\n        this.editor = props.editor;\n        this.options = {\n            stopEvent: null,\n            ignoreMutation: null,\n            ...options\n        };\n        this.extension = props.extension;\n        this.node = props.node;\n        this.decorations = props.decorations;\n        this.getPos = props.getPos;\n        this.mount();\n    }\n    mount() {\n        // eslint-disable-next-line\n        return;\n    }\n    get dom() {\n        return this.editor.view.dom;\n    }\n    get contentDOM() {\n        return null;\n    }\n    onDragStart(event) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const { view } = this.editor;\n        const target = event.target;\n        // get the drag handle element\n        // `closest` is not available for text nodes so we may have to use its parent\n        const dragHandle = target.nodeType === 3 ? (_a = target.parentElement) === null || _a === void 0 ? void 0 : _a.closest(\"[data-drag-handle]\") : target.closest(\"[data-drag-handle]\");\n        if (!this.dom || ((_b = this.contentDOM) === null || _b === void 0 ? void 0 : _b.contains(target)) || !dragHandle) {\n            return;\n        }\n        let x = 0;\n        let y = 0;\n        // calculate offset for drag element if we use a different drag handle element\n        if (this.dom !== dragHandle) {\n            const domBox = this.dom.getBoundingClientRect();\n            const handleBox = dragHandle.getBoundingClientRect();\n            // In React, we have to go through nativeEvent to reach offsetX/offsetY.\n            const offsetX = (_c = event.offsetX) !== null && _c !== void 0 ? _c : (_d = event.nativeEvent) === null || _d === void 0 ? void 0 : _d.offsetX;\n            const offsetY = (_e = event.offsetY) !== null && _e !== void 0 ? _e : (_f = event.nativeEvent) === null || _f === void 0 ? void 0 : _f.offsetY;\n            x = handleBox.x - domBox.x + offsetX;\n            y = handleBox.y - domBox.y + offsetY;\n        }\n        (_g = event.dataTransfer) === null || _g === void 0 ? void 0 : _g.setDragImage(this.dom, x, y);\n        // we need to tell ProseMirror that we want to move the whole node\n        // so we create a NodeSelection\n        const selection = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection.create(view.state.doc, this.getPos());\n        const transaction = view.state.tr.setSelection(selection);\n        view.dispatch(transaction);\n    }\n    stopEvent(event) {\n        var _a;\n        if (!this.dom) {\n            return false;\n        }\n        if (typeof this.options.stopEvent === \"function\") {\n            return this.options.stopEvent({\n                event\n            });\n        }\n        const target = event.target;\n        const isInElement = this.dom.contains(target) && !((_a = this.contentDOM) === null || _a === void 0 ? void 0 : _a.contains(target));\n        // any event from child nodes should be handled by ProseMirror\n        if (!isInElement) {\n            return false;\n        }\n        const isDragEvent = event.type.startsWith(\"drag\");\n        const isDropEvent = event.type === \"drop\";\n        const isInput = [\n            \"INPUT\",\n            \"BUTTON\",\n            \"SELECT\",\n            \"TEXTAREA\"\n        ].includes(target.tagName) || target.isContentEditable;\n        // any input event within node views should be ignored by ProseMirror\n        if (isInput && !isDropEvent && !isDragEvent) {\n            return true;\n        }\n        const { isEditable } = this.editor;\n        const { isDragging } = this;\n        const isDraggable = !!this.node.type.spec.draggable;\n        const isSelectable = _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection.isSelectable(this.node);\n        const isCopyEvent = event.type === \"copy\";\n        const isPasteEvent = event.type === \"paste\";\n        const isCutEvent = event.type === \"cut\";\n        const isClickEvent = event.type === \"mousedown\";\n        // ProseMirror tries to drag selectable nodes\n        // even if `draggable` is set to `false`\n        // this fix prevents that\n        if (!isDraggable && isSelectable && isDragEvent) {\n            event.preventDefault();\n        }\n        if (isDraggable && isDragEvent && !isDragging) {\n            event.preventDefault();\n            return false;\n        }\n        // we have to store that dragging started\n        if (isDraggable && isEditable && !isDragging && isClickEvent) {\n            const dragHandle = target.closest(\"[data-drag-handle]\");\n            const isValidDragHandle = dragHandle && (this.dom === dragHandle || this.dom.contains(dragHandle));\n            if (isValidDragHandle) {\n                this.isDragging = true;\n                document.addEventListener(\"dragend\", ()=>{\n                    this.isDragging = false;\n                }, {\n                    once: true\n                });\n                document.addEventListener(\"drop\", ()=>{\n                    this.isDragging = false;\n                }, {\n                    once: true\n                });\n                document.addEventListener(\"mouseup\", ()=>{\n                    this.isDragging = false;\n                }, {\n                    once: true\n                });\n            }\n        }\n        // these events are handled by prosemirror\n        if (isDragging || isDropEvent || isCopyEvent || isPasteEvent || isCutEvent || isClickEvent && isSelectable) {\n            return false;\n        }\n        return true;\n    }\n    ignoreMutation(mutation) {\n        if (!this.dom || !this.contentDOM) {\n            return true;\n        }\n        if (typeof this.options.ignoreMutation === \"function\") {\n            return this.options.ignoreMutation({\n                mutation\n            });\n        }\n        // a leaf/atom node is like a black box for ProseMirror\n        // and should be fully handled by the node view\n        if (this.node.isLeaf || this.node.isAtom) {\n            return true;\n        }\n        // ProseMirror should handle any selections\n        if (mutation.type === \"selection\") {\n            return false;\n        }\n        // try to prevent a bug on iOS and Android that will break node views on enter\n        // this is because ProseMirror can’t preventDispatch on enter\n        // this will lead to a re-render of the node view on enter\n        // see: https://github.com/ueberdosis/tiptap/issues/1214\n        // see: https://github.com/ueberdosis/tiptap/issues/2534\n        if (this.dom.contains(mutation.target) && mutation.type === \"childList\" && (isiOS() || isAndroid()) && this.editor.isFocused) {\n            const changedNodes = [\n                ...Array.from(mutation.addedNodes),\n                ...Array.from(mutation.removedNodes)\n            ];\n            // we’ll check if every changed node is contentEditable\n            // to make sure it’s probably mutated by ProseMirror\n            if (changedNodes.every((node)=>node.isContentEditable)) {\n                return false;\n            }\n        }\n        // we will allow mutation contentDOM with attributes\n        // so we can for example adding classes within our node view\n        if (this.contentDOM === mutation.target && mutation.type === \"attributes\") {\n            return true;\n        }\n        // ProseMirror should handle any changes within contentDOM\n        if (this.contentDOM.contains(mutation.target)) {\n            return false;\n        }\n        return true;\n    }\n    updateAttributes(attributes) {\n        this.editor.commands.command(({ tr })=>{\n            const pos = this.getPos();\n            tr.setNodeMarkup(pos, undefined, {\n                ...this.node.attrs,\n                ...attributes\n            });\n            return true;\n        });\n    }\n    deleteNode() {\n        const from = this.getPos();\n        const to = from + this.node.nodeSize;\n        this.editor.commands.deleteRange({\n            from,\n            to\n        });\n    }\n}\n/**\r\n * Build an paste rule that adds a mark when the\r\n * matched text is pasted into it.\r\n */ function markPasteRule(config) {\n    return new PasteRule({\n        find: config.find,\n        handler: ({ state, range, match, pasteEvent })=>{\n            const attributes = callOrReturn(config.getAttributes, undefined, match, pasteEvent);\n            if (attributes === false || attributes === null) {\n                return null;\n            }\n            const { tr } = state;\n            const captureGroup = match[match.length - 1];\n            const fullMatch = match[0];\n            let markEnd = range.to;\n            if (captureGroup) {\n                const startSpaces = fullMatch.search(/\\S/);\n                const textStart = range.from + fullMatch.indexOf(captureGroup);\n                const textEnd = textStart + captureGroup.length;\n                const excludedMarks = getMarksBetween(range.from, range.to, state.doc).filter((item)=>{\n                    // @ts-ignore\n                    const excluded = item.mark.type.excluded;\n                    return excluded.find((type)=>type === config.type && type !== item.mark.type);\n                }).filter((item)=>item.to > textStart);\n                if (excludedMarks.length) {\n                    return null;\n                }\n                if (textEnd < range.to) {\n                    tr.delete(textEnd, range.to);\n                }\n                if (textStart > range.from) {\n                    tr.delete(range.from + startSpaces, textStart);\n                }\n                markEnd = range.from + startSpaces + captureGroup.length;\n                tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\n                tr.removeStoredMark(config.type);\n            }\n        }\n    });\n}\n// source: https://stackoverflow.com/a/6969486\nfunction escapeForRegEx(string) {\n    return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n}\nfunction isString(value) {\n    return typeof value === \"string\";\n}\n/**\r\n * Build an paste rule that adds a node when the\r\n * matched text is pasted into it.\r\n */ function nodePasteRule(config) {\n    return new PasteRule({\n        find: config.find,\n        handler ({ match, chain, range, pasteEvent }) {\n            const attributes = callOrReturn(config.getAttributes, undefined, match, pasteEvent);\n            if (attributes === false || attributes === null) {\n                return null;\n            }\n            if (match.input) {\n                chain().deleteRange(range).insertContentAt(range.from, {\n                    type: config.type.name,\n                    attrs: attributes\n                });\n            }\n        }\n    });\n}\n/**\r\n * Build an paste rule that replaces text when the\r\n * matched text is pasted into it.\r\n */ function textPasteRule(config) {\n    return new PasteRule({\n        find: config.find,\n        handler: ({ state, range, match })=>{\n            let insert = config.replace;\n            let start = range.from;\n            const end = range.to;\n            if (match[1]) {\n                const offset = match[0].lastIndexOf(match[1]);\n                insert += match[0].slice(offset + match[1].length);\n                start += offset;\n                const cutOff = start - end;\n                if (cutOff > 0) {\n                    insert = match[0].slice(offset - cutOff, offset) + insert;\n                    start = end;\n                }\n            }\n            state.tr.insertText(insert, start, end);\n        }\n    });\n}\nclass Tracker {\n    constructor(transaction){\n        this.transaction = transaction;\n        this.currentStep = this.transaction.steps.length;\n    }\n    map(position) {\n        let deleted = false;\n        const mappedPosition = this.transaction.steps.slice(this.currentStep).reduce((newPosition, step)=>{\n            const mapResult = step.getMap().mapResult(newPosition);\n            if (mapResult.deleted) {\n                deleted = true;\n            }\n            return mapResult.pos;\n        }, position);\n        return {\n            position: mappedPosition,\n            deleted\n        };\n    }\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9jb3JlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkc7QUFDOUQ7QUFDRjtBQUMwRDtBQUNvQztBQUNzaUI7QUFDM2lCO0FBRXBJLFNBQVNrRSxxQkFBcUJDLE1BQU07SUFDaEMsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFdBQVcsRUFBRSxHQUFHRjtJQUMvQixJQUFJLEVBQUVHLFNBQVMsRUFBRSxHQUFHRDtJQUNwQixJQUFJLEVBQUVFLEdBQUcsRUFBRSxHQUFHRjtJQUNkLElBQUksRUFBRUcsV0FBVyxFQUFFLEdBQUdIO0lBQ3RCLE9BQU87UUFDSCxHQUFHRCxLQUFLO1FBQ1JLLE9BQU9MLE1BQU1LLEtBQUssQ0FBQ0MsSUFBSSxDQUFDTjtRQUN4Qk8sa0JBQWtCUCxNQUFNTyxnQkFBZ0IsQ0FBQ0QsSUFBSSxDQUFDTjtRQUM5Q1EsU0FBU1IsTUFBTVEsT0FBTztRQUN0QkMsUUFBUVQsTUFBTVMsTUFBTTtRQUNwQkMsYUFBYVYsTUFBTVUsV0FBVyxDQUFDSixJQUFJLENBQUNOO1FBQ3BDVyxRQUFRWCxNQUFNVyxNQUFNLENBQUNMLElBQUksQ0FBQ047UUFDMUIsSUFBSUksZUFBYztZQUNkLE9BQU9BO1FBQ1g7UUFDQSxJQUFJRixhQUFZO1lBQ1osT0FBT0E7UUFDWDtRQUNBLElBQUlDLE9BQU07WUFDTixPQUFPQTtRQUNYO1FBQ0EsSUFBSVMsTUFBSztZQUNMVixZQUFZRCxZQUFZQyxTQUFTO1lBQ2pDQyxNQUFNRixZQUFZRSxHQUFHO1lBQ3JCQyxjQUFjSCxZQUFZRyxXQUFXO1lBQ3JDLE9BQU9IO1FBQ1g7SUFDSjtBQUNKO0FBRUEsTUFBTVk7SUFDRkMsWUFBWUMsS0FBSyxDQUFFO1FBQ2YsSUFBSSxDQUFDQyxNQUFN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eVksUUFBUSxFQUFFO1FBQ1YsSUFBSWtjLFVBQVU7UUFDZCxNQUFNQyxpQkFBaUIsSUFBSSxDQUFDdDJCLFdBQVcsQ0FBQ2tOLEtBQUssQ0FDeEMzQixLQUFLLENBQUMsSUFBSSxDQUFDNnFCLFdBQVcsRUFDdEJwd0IsTUFBTSxDQUFDLENBQUN1d0IsYUFBYXpaO1lBQ3RCLE1BQU0wWixZQUFZMVosS0FBSzJaLE1BQU0sR0FBR0QsU0FBUyxDQUFDRDtZQUMxQyxJQUFJQyxVQUFVSCxPQUFPLEVBQUU7Z0JBQ25CQSxVQUFVO1lBQ2Q7WUFDQSxPQUFPRyxVQUFVeHJCLEdBQUc7UUFDeEIsR0FBR21QO1FBQ0gsT0FBTztZQUNIQSxVQUFVbWM7WUFDVkQ7UUFDSjtJQUNKO0FBQ0o7QUFFNjhDLENBQzc4QyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvY29yZS9kaXN0L2luZGV4LmpzP2U1NDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5LZXksIFRleHRTZWxlY3Rpb24sIFNlbGVjdGlvbiwgTm9kZVNlbGVjdGlvbiwgRWRpdG9yU3RhdGUgfSBmcm9tICdAdGlwdGFwL3BtL3N0YXRlJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAdGlwdGFwL3BtL3ZpZXcnO1xuaW1wb3J0IHsga2V5bWFwIH0gZnJvbSAnQHRpcHRhcC9wbS9rZXltYXAnO1xuaW1wb3J0IHsgU2NoZW1hLCBGcmFnbWVudCwgRE9NUGFyc2VyLCBET01TZXJpYWxpemVyLCBOb2RlIGFzIE5vZGUkMSwgU2xpY2UgfSBmcm9tICdAdGlwdGFwL3BtL21vZGVsJztcbmltcG9ydCB7IGxpZnRUYXJnZXQsIFJlcGxhY2VTdGVwLCBSZXBsYWNlQXJvdW5kU3RlcCwgam9pblBvaW50LCBUcmFuc2Zvcm0sIGNhblNwbGl0LCBjYW5Kb2luLCBmaW5kV3JhcHBpbmcgfSBmcm9tICdAdGlwdGFwL3BtL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBjcmVhdGVQYXJhZ3JhcGhOZWFyIGFzIGNyZWF0ZVBhcmFncmFwaE5lYXIkMSwgZGVsZXRlU2VsZWN0aW9uIGFzIGRlbGV0ZVNlbGVjdGlvbiQxLCBleGl0Q29kZSBhcyBleGl0Q29kZSQxLCBqb2luVXAgYXMgam9pblVwJDEsIGpvaW5Eb3duIGFzIGpvaW5Eb3duJDEsIGpvaW5CYWNrd2FyZCBhcyBqb2luQmFja3dhcmQkMSwgam9pbkZvcndhcmQgYXMgam9pbkZvcndhcmQkMSwgam9pblRleHRibG9ja0JhY2t3YXJkIGFzIGpvaW5UZXh0YmxvY2tCYWNrd2FyZCQxLCBqb2luVGV4dGJsb2NrRm9yd2FyZCBhcyBqb2luVGV4dGJsb2NrRm9yd2FyZCQxLCBsaWZ0IGFzIGxpZnQkMSwgbGlmdEVtcHR5QmxvY2sgYXMgbGlmdEVtcHR5QmxvY2skMSwgbmV3bGluZUluQ29kZSBhcyBuZXdsaW5lSW5Db2RlJDEsIHNlbGVjdE5vZGVCYWNrd2FyZCBhcyBzZWxlY3ROb2RlQmFja3dhcmQkMSwgc2VsZWN0Tm9kZUZvcndhcmQgYXMgc2VsZWN0Tm9kZUZvcndhcmQkMSwgc2VsZWN0UGFyZW50Tm9kZSBhcyBzZWxlY3RQYXJlbnROb2RlJDEsIHNlbGVjdFRleHRibG9ja0VuZCBhcyBzZWxlY3RUZXh0YmxvY2tFbmQkMSwgc2VsZWN0VGV4dGJsb2NrU3RhcnQgYXMgc2VsZWN0VGV4dGJsb2NrU3RhcnQkMSwgc2V0QmxvY2tUeXBlLCB3cmFwSW4gYXMgd3JhcEluJDEgfSBmcm9tICdAdGlwdGFwL3BtL2NvbW1hbmRzJztcbmltcG9ydCB7IGxpZnRMaXN0SXRlbSBhcyBsaWZ0TGlzdEl0ZW0kMSwgc2lua0xpc3RJdGVtIGFzIHNpbmtMaXN0SXRlbSQxLCB3cmFwSW5MaXN0IGFzIHdyYXBJbkxpc3QkMSB9IGZyb20gJ0B0aXB0YXAvcG0vc2NoZW1hLWxpc3QnO1xuXG5mdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVTdGF0ZShjb25maWcpIHtcclxuICAgIGNvbnN0IHsgc3RhdGUsIHRyYW5zYWN0aW9uIH0gPSBjb25maWc7XHJcbiAgICBsZXQgeyBzZWxlY3Rpb24gfSA9IHRyYW5zYWN0aW9uO1xyXG4gICAgbGV0IHsgZG9jIH0gPSB0cmFuc2FjdGlvbjtcclxuICAgIGxldCB7IHN0b3JlZE1hcmtzIH0gPSB0cmFuc2FjdGlvbjtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgYXBwbHk6IHN0YXRlLmFwcGx5LmJpbmQoc3RhdGUpLFxyXG4gICAgICAgIGFwcGx5VHJhbnNhY3Rpb246IHN0YXRlLmFwcGx5VHJhbnNhY3Rpb24uYmluZChzdGF0ZSksXHJcbiAgICAgICAgcGx1Z2luczogc3RhdGUucGx1Z2lucyxcclxuICAgICAgICBzY2hlbWE6IHN0YXRlLnNjaGVtYSxcclxuICAgICAgICByZWNvbmZpZ3VyZTogc3RhdGUucmVjb25maWd1cmUuYmluZChzdGF0ZSksXHJcbiAgICAgICAgdG9KU09OOiBzdGF0ZS50b0pTT04uYmluZChzdGF0ZSksXHJcbiAgICAgICAgZ2V0IHN0b3JlZE1hcmtzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RvcmVkTWFya3M7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgc2VsZWN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGRvYygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRvYztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCB0cigpIHtcclxuICAgICAgICAgICAgc2VsZWN0aW9uID0gdHJhbnNhY3Rpb24uc2VsZWN0aW9uO1xyXG4gICAgICAgICAgICBkb2MgPSB0cmFuc2FjdGlvbi5kb2M7XHJcbiAgICAgICAgICAgIHN0b3JlZE1hcmtzID0gdHJhbnNhY3Rpb24uc3RvcmVkTWFya3M7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxuXG5jbGFzcyBDb21tYW5kTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICAgIHRoaXMuZWRpdG9yID0gcHJvcHMuZWRpdG9yO1xyXG4gICAgICAgIHRoaXMucmF3Q29tbWFuZHMgPSB0aGlzLmVkaXRvci5leHRlbnNpb25NYW5hZ2VyLmNvbW1hbmRzO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tU3RhdGUgPSBwcm9wcy5zdGF0ZTtcclxuICAgIH1cclxuICAgIGdldCBoYXNDdXN0b21TdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLmN1c3RvbVN0YXRlO1xyXG4gICAgfVxyXG4gICAgZ2V0IHN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1c3RvbVN0YXRlIHx8IHRoaXMuZWRpdG9yLnN0YXRlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbW1hbmRzKCkge1xyXG4gICAgICAgIGNvbnN0IHsgcmF3Q29tbWFuZHMsIGVkaXRvciwgc3RhdGUgfSA9IHRoaXM7XHJcbiAgICAgICAgY29uc3QgeyB2aWV3IH0gPSBlZGl0b3I7XHJcbiAgICAgICAgY29uc3QgeyB0ciB9ID0gc3RhdGU7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLmJ1aWxkUHJvcHModHIpO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocmF3Q29tbWFuZHMpLm1hcCgoW25hbWUsIGNvbW1hbmRdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGNvbW1hbmQoLi4uYXJncykocHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0ci5nZXRNZXRhKCdwcmV2ZW50RGlzcGF0Y2gnKSAmJiAhdGhpcy5oYXNDdXN0b21TdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2godHIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gW25hbWUsIG1ldGhvZF07XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNoYWluKCkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB0aGlzLmNyZWF0ZUNoYWluKCk7XHJcbiAgICB9XHJcbiAgICBnZXQgY2FuKCkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB0aGlzLmNyZWF0ZUNhbigpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQ2hhaW4oc3RhcnRUciwgc2hvdWxkRGlzcGF0Y2ggPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgeyByYXdDb21tYW5kcywgZWRpdG9yLCBzdGF0ZSB9ID0gdGhpcztcclxuICAgICAgICBjb25zdCB7IHZpZXcgfSA9IGVkaXRvcjtcclxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSBbXTtcclxuICAgICAgICBjb25zdCBoYXNTdGFydFRyYW5zYWN0aW9uID0gISFzdGFydFRyO1xyXG4gICAgICAgIGNvbnN0IHRyID0gc3RhcnRUciB8fCBzdGF0ZS50cjtcclxuICAgICAgICBjb25zdCBydW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaGFzU3RhcnRUcmFuc2FjdGlvblxyXG4gICAgICAgICAgICAgICAgJiYgc2hvdWxkRGlzcGF0Y2hcclxuICAgICAgICAgICAgICAgICYmICF0ci5nZXRNZXRhKCdwcmV2ZW50RGlzcGF0Y2gnKVxyXG4gICAgICAgICAgICAgICAgJiYgIXRoaXMuaGFzQ3VzdG9tU3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2godHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFja3MuZXZlcnkoY2FsbGJhY2sgPT4gY2FsbGJhY2sgPT09IHRydWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgY2hhaW4gPSB7XHJcbiAgICAgICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhyYXdDb21tYW5kcykubWFwKChbbmFtZSwgY29tbWFuZF0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYWluZWRDb21tYW5kID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMuYnVpbGRQcm9wcyh0ciwgc2hvdWxkRGlzcGF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gY29tbWFuZCguLi5hcmdzKShwcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW25hbWUsIGNoYWluZWRDb21tYW5kXTtcclxuICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICBydW4sXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gY2hhaW47XHJcbiAgICB9XHJcbiAgICBjcmVhdGVDYW4oc3RhcnRUcikge1xyXG4gICAgICAgIGNvbnN0IHsgcmF3Q29tbWFuZHMsIHN0YXRlIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdHIgPSBzdGFydFRyIHx8IHN0YXRlLnRyO1xyXG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5idWlsZFByb3BzKHRyLCBkaXNwYXRjaCk7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkQ29tbWFuZHMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocmF3Q29tbWFuZHMpLm1hcCgoW25hbWUsIGNvbW1hbmRdKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBbbmFtZSwgKC4uLmFyZ3MpID0+IGNvbW1hbmQoLi4uYXJncykoeyAuLi5wcm9wcywgZGlzcGF0Y2g6IHVuZGVmaW5lZCB9KV07XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLmZvcm1hdHRlZENvbW1hbmRzLFxyXG4gICAgICAgICAgICBjaGFpbjogKCkgPT4gdGhpcy5jcmVhdGVDaGFpbih0ciwgZGlzcGF0Y2gpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBidWlsZFByb3BzKHRyLCBzaG91bGREaXNwYXRjaCA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCB7IHJhd0NvbW1hbmRzLCBlZGl0b3IsIHN0YXRlIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHsgdmlldyB9ID0gZWRpdG9yO1xyXG4gICAgICAgIGNvbnN0IHByb3BzID0ge1xyXG4gICAgICAgICAgICB0cixcclxuICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICB2aWV3LFxyXG4gICAgICAgICAgICBzdGF0ZTogY3JlYXRlQ2hhaW5hYmxlU3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjogdHIsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBkaXNwYXRjaDogc2hvdWxkRGlzcGF0Y2ggPyAoKSA9PiB1bmRlZmluZWQgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIGNoYWluOiAoKSA9PiB0aGlzLmNyZWF0ZUNoYWluKHRyLCBzaG91bGREaXNwYXRjaCksXHJcbiAgICAgICAgICAgIGNhbjogKCkgPT4gdGhpcy5jcmVhdGVDYW4odHIpLFxyXG4gICAgICAgICAgICBnZXQgY29tbWFuZHMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHJhd0NvbW1hbmRzKS5tYXAoKFtuYW1lLCBjb21tYW5kXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbmFtZSwgKC4uLmFyZ3MpID0+IGNvbW1hbmQoLi4uYXJncykocHJvcHMpXTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBwcm9wcztcclxuICAgIH1cclxufVxuXG5jbGFzcyBFdmVudEVtaXR0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcclxuICAgIH1cclxuICAgIG9uKGV2ZW50LCBmbikge1xyXG4gICAgICAgIGlmICghdGhpcy5jYWxsYmFja3NbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzW2V2ZW50XSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbGxiYWNrc1tldmVudF0ucHVzaChmbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBlbWl0KGV2ZW50LCAuLi5hcmdzKSB7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3NbZXZlbnRdO1xyXG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIG9mZihldmVudCwgZm4pIHtcclxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICBpZiAoZm4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzW2V2ZW50XSA9IGNhbGxiYWNrcy5maWx0ZXIoY2FsbGJhY2sgPT4gY2FsbGJhY2sgIT09IGZuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1tldmVudF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZW1vdmVBbGxMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sIGZpZWxkLCBjb250ZXh0KSB7XHJcbiAgICBpZiAoZXh0ZW5zaW9uLmNvbmZpZ1tmaWVsZF0gPT09IHVuZGVmaW5lZCAmJiBleHRlbnNpb24ucGFyZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbi5wYXJlbnQsIGZpZWxkLCBjb250ZXh0KTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uLmNvbmZpZ1tmaWVsZF0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGV4dGVuc2lvbi5jb25maWdbZmllbGRdLmJpbmQoe1xyXG4gICAgICAgICAgICAuLi5jb250ZXh0LFxyXG4gICAgICAgICAgICBwYXJlbnQ6IGV4dGVuc2lvbi5wYXJlbnRcclxuICAgICAgICAgICAgICAgID8gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLnBhcmVudCwgZmllbGQsIGNvbnRleHQpXHJcbiAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4dGVuc2lvbi5jb25maWdbZmllbGRdO1xyXG59XG5cbmZ1bmN0aW9uIHNwbGl0RXh0ZW5zaW9ucyhleHRlbnNpb25zKSB7XHJcbiAgICBjb25zdCBiYXNlRXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMuZmlsdGVyKGV4dGVuc2lvbiA9PiBleHRlbnNpb24udHlwZSA9PT0gJ2V4dGVuc2lvbicpO1xyXG4gICAgY29uc3Qgbm9kZUV4dGVuc2lvbnMgPSBleHRlbnNpb25zLmZpbHRlcihleHRlbnNpb24gPT4gZXh0ZW5zaW9uLnR5cGUgPT09ICdub2RlJyk7XHJcbiAgICBjb25zdCBtYXJrRXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMuZmlsdGVyKGV4dGVuc2lvbiA9PiBleHRlbnNpb24udHlwZSA9PT0gJ21hcmsnKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYmFzZUV4dGVuc2lvbnMsXHJcbiAgICAgICAgbm9kZUV4dGVuc2lvbnMsXHJcbiAgICAgICAgbWFya0V4dGVuc2lvbnMsXHJcbiAgICB9O1xyXG59XG5cbi8qKlxyXG4gKiBHZXQgYSBsaXN0IG9mIGFsbCBleHRlbnNpb24gYXR0cmlidXRlcyBkZWZpbmVkIGluIGBhZGRBdHRyaWJ1dGVgIGFuZCBgYWRkR2xvYmFsQXR0cmlidXRlYC5cclxuICogQHBhcmFtIGV4dGVuc2lvbnMgTGlzdCBvZiBleHRlbnNpb25zXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGVzRnJvbUV4dGVuc2lvbnMoZXh0ZW5zaW9ucykge1xyXG4gICAgY29uc3QgZXh0ZW5zaW9uQXR0cmlidXRlcyA9IFtdO1xyXG4gICAgY29uc3QgeyBub2RlRXh0ZW5zaW9ucywgbWFya0V4dGVuc2lvbnMgfSA9IHNwbGl0RXh0ZW5zaW9ucyhleHRlbnNpb25zKTtcclxuICAgIGNvbnN0IG5vZGVBbmRNYXJrRXh0ZW5zaW9ucyA9IFsuLi5ub2RlRXh0ZW5zaW9ucywgLi4ubWFya0V4dGVuc2lvbnNdO1xyXG4gICAgY29uc3QgZGVmYXVsdEF0dHJpYnV0ZSA9IHtcclxuICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgIHJlbmRlcmVkOiB0cnVlLFxyXG4gICAgICAgIHJlbmRlckhUTUw6IG51bGwsXHJcbiAgICAgICAgcGFyc2VIVE1MOiBudWxsLFxyXG4gICAgICAgIGtlZXBPblNwbGl0OiB0cnVlLFxyXG4gICAgICAgIGlzUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgfTtcclxuICAgIGV4dGVuc2lvbnMuZm9yRWFjaChleHRlbnNpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBhZGRHbG9iYWxBdHRyaWJ1dGVzID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkR2xvYmFsQXR0cmlidXRlcycsIGNvbnRleHQpO1xyXG4gICAgICAgIGlmICghYWRkR2xvYmFsQXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSBgYXMgR2xvYmFsQXR0cmlidXRlc2BcclxuICAgICAgICBjb25zdCBnbG9iYWxBdHRyaWJ1dGVzID0gYWRkR2xvYmFsQXR0cmlidXRlcygpO1xyXG4gICAgICAgIGdsb2JhbEF0dHJpYnV0ZXMuZm9yRWFjaChnbG9iYWxBdHRyaWJ1dGUgPT4ge1xyXG4gICAgICAgICAgICBnbG9iYWxBdHRyaWJ1dGUudHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcclxuICAgICAgICAgICAgICAgIE9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC5lbnRyaWVzKGdsb2JhbEF0dHJpYnV0ZS5hdHRyaWJ1dGVzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChbbmFtZSwgYXR0cmlidXRlXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbkF0dHJpYnV0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdEF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgbm9kZUFuZE1hcmtFeHRlbnNpb25zLmZvckVhY2goZXh0ZW5zaW9uID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgYWRkQXR0cmlidXRlcyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZEF0dHJpYnV0ZXMnLCBjb250ZXh0KTtcclxuICAgICAgICBpZiAoIWFkZEF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgYGFzIEF0dHJpYnV0ZXNgXHJcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGFkZEF0dHJpYnV0ZXMoKTtcclxuICAgICAgICBPYmplY3RcclxuICAgICAgICAgICAgLmVudHJpZXMoYXR0cmlidXRlcylcclxuICAgICAgICAgICAgLmZvckVhY2goKFtuYW1lLCBhdHRyaWJ1dGVdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZEF0dHIgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5kZWZhdWx0QXR0cmlidXRlLFxyXG4gICAgICAgICAgICAgICAgLi4uYXR0cmlidXRlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIChtZXJnZWRBdHRyID09PSBudWxsIHx8IG1lcmdlZEF0dHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lcmdlZEF0dHIuZGVmYXVsdCkgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlZEF0dHIuZGVmYXVsdCA9IG1lcmdlZEF0dHIuZGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgobWVyZ2VkQXR0ciA9PT0gbnVsbCB8fCBtZXJnZWRBdHRyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXJnZWRBdHRyLmlzUmVxdWlyZWQpICYmIChtZXJnZWRBdHRyID09PSBudWxsIHx8IG1lcmdlZEF0dHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lcmdlZEF0dHIuZGVmYXVsdCkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG1lcmdlZEF0dHIuZGVmYXVsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBleHRlbnNpb25BdHRyaWJ1dGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiBtZXJnZWRBdHRyLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGV4dGVuc2lvbkF0dHJpYnV0ZXM7XHJcbn1cblxuZnVuY3Rpb24gZ2V0Tm9kZVR5cGUobmFtZU9yVHlwZSwgc2NoZW1hKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hbWVPclR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWYgKCFzY2hlbWEubm9kZXNbbmFtZU9yVHlwZV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFRoZXJlIGlzIG5vIG5vZGUgdHlwZSBuYW1lZCAnJHtuYW1lT3JUeXBlfScuIE1heWJlIHlvdSBmb3Jnb3QgdG8gYWRkIHRoZSBleHRlbnNpb24/YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzY2hlbWEubm9kZXNbbmFtZU9yVHlwZV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZU9yVHlwZTtcclxufVxuXG5mdW5jdGlvbiBtZXJnZUF0dHJpYnV0ZXMoLi4ub2JqZWN0cykge1xyXG4gICAgcmV0dXJuIG9iamVjdHNcclxuICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gISFpdGVtKVxyXG4gICAgICAgIC5yZWR1Y2UoKGl0ZW1zLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVyZ2VkQXR0cmlidXRlcyA9IHsgLi4uaXRlbXMgfTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhpdGVtKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gbWVyZ2VkQXR0cmlidXRlc1trZXldO1xyXG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VkQXR0cmlidXRlc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVDbGFzc2VzID0gdmFsdWUgPyB2YWx1ZS5zcGxpdCgnICcpIDogW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0NsYXNzZXMgPSBtZXJnZWRBdHRyaWJ1dGVzW2tleV0gPyBtZXJnZWRBdHRyaWJ1dGVzW2tleV0uc3BsaXQoJyAnKSA6IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5zZXJ0Q2xhc3NlcyA9IHZhbHVlQ2xhc3Nlcy5maWx0ZXIodmFsdWVDbGFzcyA9PiAhZXhpc3RpbmdDbGFzc2VzLmluY2x1ZGVzKHZhbHVlQ2xhc3MpKTtcclxuICAgICAgICAgICAgICAgIG1lcmdlZEF0dHJpYnV0ZXNba2V5XSA9IFsuLi5leGlzdGluZ0NsYXNzZXMsIC4uLmluc2VydENsYXNzZXNdLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlZEF0dHJpYnV0ZXNba2V5XSA9IFttZXJnZWRBdHRyaWJ1dGVzW2tleV0sIHZhbHVlXS5qb2luKCc7ICcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWVyZ2VkQXR0cmlidXRlc1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWVyZ2VkQXR0cmlidXRlcztcclxuICAgIH0sIHt9KTtcclxufVxuXG5mdW5jdGlvbiBnZXRSZW5kZXJlZEF0dHJpYnV0ZXMobm9kZU9yTWFyaywgZXh0ZW5zaW9uQXR0cmlidXRlcykge1xyXG4gICAgcmV0dXJuIGV4dGVuc2lvbkF0dHJpYnV0ZXNcclxuICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS5hdHRyaWJ1dGUucmVuZGVyZWQpXHJcbiAgICAgICAgLm1hcChpdGVtID0+IHtcclxuICAgICAgICBpZiAoIWl0ZW0uYXR0cmlidXRlLnJlbmRlckhUTUwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIFtpdGVtLm5hbWVdOiBub2RlT3JNYXJrLmF0dHJzW2l0ZW0ubmFtZV0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpdGVtLmF0dHJpYnV0ZS5yZW5kZXJIVE1MKG5vZGVPck1hcmsuYXR0cnMpIHx8IHt9O1xyXG4gICAgfSlcclxuICAgICAgICAucmVkdWNlKChhdHRyaWJ1dGVzLCBhdHRyaWJ1dGUpID0+IG1lcmdlQXR0cmlidXRlcyhhdHRyaWJ1dGVzLCBhdHRyaWJ1dGUpLCB7fSk7XHJcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcclxufVxuXG4vKipcclxuICogT3B0aW9uYWxseSBjYWxscyBgdmFsdWVgIGFzIGEgZnVuY3Rpb24uXHJcbiAqIE90aGVyd2lzZSBpdCBpcyByZXR1cm5lZCBkaXJlY3RseS5cclxuICogQHBhcmFtIHZhbHVlIEZ1bmN0aW9uIG9yIGFueSB2YWx1ZS5cclxuICogQHBhcmFtIGNvbnRleHQgT3B0aW9uYWwgY29udGV4dCB0byBiaW5kIHRvIGZ1bmN0aW9uLlxyXG4gKiBAcGFyYW0gcHJvcHMgT3B0aW9uYWwgcHJvcHMgdG8gcGFzcyB0byBmdW5jdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGNhbGxPclJldHVybih2YWx1ZSwgY29udGV4dCA9IHVuZGVmaW5lZCwgLi4ucHJvcHMpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5iaW5kKGNvbnRleHQpKC4uLnByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlKC4uLnByb3BzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5mdW5jdGlvbiBpc0VtcHR5T2JqZWN0KHZhbHVlID0ge30pIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XHJcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyh2YWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUubWF0Y2goL15bKy1dPyg/OlxcZCpcXC4pP1xcZCskLykpIHtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPT09ICdmYWxzZScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cblxuLyoqXHJcbiAqIFRoaXMgZnVuY3Rpb24gbWVyZ2VzIGV4dGVuc2lvbiBhdHRyaWJ1dGVzIGludG8gcGFyc2VydWxlIGF0dHJpYnV0ZXMgKGBhdHRyc2Agb3IgYGdldEF0dHJzYCkuXHJcbiAqIENhbmNlbHMgd2hlbiBgZ2V0QXR0cnNgIHJldHVybmVkIGBmYWxzZWAuXHJcbiAqIEBwYXJhbSBwYXJzZVJ1bGUgUHJvc2VNaXJyb3IgUGFyc2VSdWxlXHJcbiAqIEBwYXJhbSBleHRlbnNpb25BdHRyaWJ1dGVzIExpc3Qgb2YgYXR0cmlidXRlcyB0byBpbmplY3RcclxuICovXHJcbmZ1bmN0aW9uIGluamVjdEV4dGVuc2lvbkF0dHJpYnV0ZXNUb1BhcnNlUnVsZShwYXJzZVJ1bGUsIGV4dGVuc2lvbkF0dHJpYnV0ZXMpIHtcclxuICAgIGlmIChwYXJzZVJ1bGUuc3R5bGUpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VSdWxlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5wYXJzZVJ1bGUsXHJcbiAgICAgICAgZ2V0QXR0cnM6IG5vZGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvbGRBdHRyaWJ1dGVzID0gcGFyc2VSdWxlLmdldEF0dHJzID8gcGFyc2VSdWxlLmdldEF0dHJzKG5vZGUpIDogcGFyc2VSdWxlLmF0dHJzO1xyXG4gICAgICAgICAgICBpZiAob2xkQXR0cmlidXRlcyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBuZXdBdHRyaWJ1dGVzID0gZXh0ZW5zaW9uQXR0cmlidXRlcy5yZWR1Y2UoKGl0ZW1zLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGl0ZW0uYXR0cmlidXRlLnBhcnNlSFRNTFxyXG4gICAgICAgICAgICAgICAgICAgID8gaXRlbS5hdHRyaWJ1dGUucGFyc2VIVE1MKG5vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBmcm9tU3RyaW5nKG5vZGUuZ2V0QXR0cmlidXRlKGl0ZW0ubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLml0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIFtpdGVtLm5hbWVdOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgLi4ub2xkQXR0cmlidXRlcywgLi4ubmV3QXR0cmlidXRlcyB9O1xyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIGNsZWFuVXBTY2hlbWFJdGVtKGRhdGEpIHtcclxuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBPYmplY3QuZW50cmllcyhkYXRhKS5maWx0ZXIoKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICAgIGlmIChrZXkgPT09ICdhdHRycycgJiYgaXNFbXB0eU9iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcclxuICAgIH0pKTtcclxufVxyXG5mdW5jdGlvbiBnZXRTY2hlbWFCeVJlc29sdmVkRXh0ZW5zaW9ucyhleHRlbnNpb25zLCBlZGl0b3IpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IGFsbEF0dHJpYnV0ZXMgPSBnZXRBdHRyaWJ1dGVzRnJvbUV4dGVuc2lvbnMoZXh0ZW5zaW9ucyk7XHJcbiAgICBjb25zdCB7IG5vZGVFeHRlbnNpb25zLCBtYXJrRXh0ZW5zaW9ucyB9ID0gc3BsaXRFeHRlbnNpb25zKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgdG9wTm9kZSA9IChfYSA9IG5vZGVFeHRlbnNpb25zLmZpbmQoZXh0ZW5zaW9uID0+IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ3RvcE5vZGUnKSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lO1xyXG4gICAgY29uc3Qgbm9kZXMgPSBPYmplY3QuZnJvbUVudHJpZXMobm9kZUV4dGVuc2lvbnMubWFwKGV4dGVuc2lvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uQXR0cmlidXRlcyA9IGFsbEF0dHJpYnV0ZXMuZmlsdGVyKGF0dHJpYnV0ZSA9PiBhdHRyaWJ1dGUudHlwZSA9PT0gZXh0ZW5zaW9uLm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGV4dHJhTm9kZUZpZWxkcyA9IGV4dGVuc2lvbnMucmVkdWNlKChmaWVsZHMsIGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5kTm9kZVNjaGVtYSA9IGdldEV4dGVuc2lvbkZpZWxkKGUsICdleHRlbmROb2RlU2NoZW1hJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAuLi5maWVsZHMsXHJcbiAgICAgICAgICAgICAgICAuLi4oZXh0ZW5kTm9kZVNjaGVtYSA/IGV4dGVuZE5vZGVTY2hlbWEoZXh0ZW5zaW9uKSA6IHt9KSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gY2xlYW5VcFNjaGVtYUl0ZW0oe1xyXG4gICAgICAgICAgICAuLi5leHRyYU5vZGVGaWVsZHMsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdjb250ZW50JywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBtYXJrczogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ21hcmtzJywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBncm91cDogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2dyb3VwJywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBpbmxpbmU6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdpbmxpbmUnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGF0b206IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhdG9tJywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnc2VsZWN0YWJsZScsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnZHJhZ2dhYmxlJywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBjb2RlOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnY29kZScsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgZGVmaW5pbmc6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdkZWZpbmluZycsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgaXNvbGF0aW5nOiBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnaXNvbGF0aW5nJywgY29udGV4dCkpLFxyXG4gICAgICAgICAgICBhdHRyczogT2JqZWN0LmZyb21FbnRyaWVzKGV4dGVuc2lvbkF0dHJpYnV0ZXMubWFwKGV4dGVuc2lvbkF0dHJpYnV0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2V4dGVuc2lvbkF0dHJpYnV0ZS5uYW1lLCB7IGRlZmF1bHQ6IChfYSA9IGV4dGVuc2lvbkF0dHJpYnV0ZSA9PT0gbnVsbCB8fCBleHRlbnNpb25BdHRyaWJ1dGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV4dGVuc2lvbkF0dHJpYnV0ZS5hdHRyaWJ1dGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWZhdWx0IH1dO1xyXG4gICAgICAgICAgICB9KSksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgcGFyc2VIVE1MID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ3BhcnNlSFRNTCcsIGNvbnRleHQpKTtcclxuICAgICAgICBpZiAocGFyc2VIVE1MKSB7XHJcbiAgICAgICAgICAgIHNjaGVtYS5wYXJzZURPTSA9IHBhcnNlSFRNTC5tYXAocGFyc2VSdWxlID0+IGluamVjdEV4dGVuc2lvbkF0dHJpYnV0ZXNUb1BhcnNlUnVsZShwYXJzZVJ1bGUsIGV4dGVuc2lvbkF0dHJpYnV0ZXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVuZGVySFRNTCA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ3JlbmRlckhUTUwnLCBjb250ZXh0KTtcclxuICAgICAgICBpZiAocmVuZGVySFRNTCkge1xyXG4gICAgICAgICAgICBzY2hlbWEudG9ET00gPSBub2RlID0+IHJlbmRlckhUTUwoe1xyXG4gICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiBnZXRSZW5kZXJlZEF0dHJpYnV0ZXMobm9kZSwgZXh0ZW5zaW9uQXR0cmlidXRlcyksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZW5kZXJUZXh0ID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAncmVuZGVyVGV4dCcsIGNvbnRleHQpO1xyXG4gICAgICAgIGlmIChyZW5kZXJUZXh0KSB7XHJcbiAgICAgICAgICAgIHNjaGVtYS50b1RleHQgPSByZW5kZXJUZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW2V4dGVuc2lvbi5uYW1lLCBzY2hlbWFdO1xyXG4gICAgfSkpO1xyXG4gICAgY29uc3QgbWFya3MgPSBPYmplY3QuZnJvbUVudHJpZXMobWFya0V4dGVuc2lvbnMubWFwKGV4dGVuc2lvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uQXR0cmlidXRlcyA9IGFsbEF0dHJpYnV0ZXMuZmlsdGVyKGF0dHJpYnV0ZSA9PiBhdHRyaWJ1dGUudHlwZSA9PT0gZXh0ZW5zaW9uLm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgc3RvcmFnZTogZXh0ZW5zaW9uLnN0b3JhZ2UsXHJcbiAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGV4dHJhTWFya0ZpZWxkcyA9IGV4dGVuc2lvbnMucmVkdWNlKChmaWVsZHMsIGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5kTWFya1NjaGVtYSA9IGdldEV4dGVuc2lvbkZpZWxkKGUsICdleHRlbmRNYXJrU2NoZW1hJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAuLi5maWVsZHMsXHJcbiAgICAgICAgICAgICAgICAuLi4oZXh0ZW5kTWFya1NjaGVtYSA/IGV4dGVuZE1hcmtTY2hlbWEoZXh0ZW5zaW9uKSA6IHt9KSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gY2xlYW5VcFNjaGVtYUl0ZW0oe1xyXG4gICAgICAgICAgICAuLi5leHRyYU1hcmtGaWVsZHMsXHJcbiAgICAgICAgICAgIGluY2x1c2l2ZTogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2luY2x1c2l2ZScsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgZXhjbHVkZXM6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdleGNsdWRlcycsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgZ3JvdXA6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdncm91cCcsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgc3Bhbm5pbmc6IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdzcGFubmluZycsIGNvbnRleHQpKSxcclxuICAgICAgICAgICAgY29kZTogY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2NvZGUnLCBjb250ZXh0KSksXHJcbiAgICAgICAgICAgIGF0dHJzOiBPYmplY3QuZnJvbUVudHJpZXMoZXh0ZW5zaW9uQXR0cmlidXRlcy5tYXAoZXh0ZW5zaW9uQXR0cmlidXRlID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbZXh0ZW5zaW9uQXR0cmlidXRlLm5hbWUsIHsgZGVmYXVsdDogKF9hID0gZXh0ZW5zaW9uQXR0cmlidXRlID09PSBudWxsIHx8IGV4dGVuc2lvbkF0dHJpYnV0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0ZW5zaW9uQXR0cmlidXRlLmF0dHJpYnV0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlZmF1bHQgfV07XHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBwYXJzZUhUTUwgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAncGFyc2VIVE1MJywgY29udGV4dCkpO1xyXG4gICAgICAgIGlmIChwYXJzZUhUTUwpIHtcclxuICAgICAgICAgICAgc2NoZW1hLnBhcnNlRE9NID0gcGFyc2VIVE1MLm1hcChwYXJzZVJ1bGUgPT4gaW5qZWN0RXh0ZW5zaW9uQXR0cmlidXRlc1RvUGFyc2VSdWxlKHBhcnNlUnVsZSwgZXh0ZW5zaW9uQXR0cmlidXRlcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZW5kZXJIVE1MID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAncmVuZGVySFRNTCcsIGNvbnRleHQpO1xyXG4gICAgICAgIGlmIChyZW5kZXJIVE1MKSB7XHJcbiAgICAgICAgICAgIHNjaGVtYS50b0RPTSA9IG1hcmsgPT4gcmVuZGVySFRNTCh7XHJcbiAgICAgICAgICAgICAgICBtYXJrLFxyXG4gICAgICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IGdldFJlbmRlcmVkQXR0cmlidXRlcyhtYXJrLCBleHRlbnNpb25BdHRyaWJ1dGVzKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbZXh0ZW5zaW9uLm5hbWUsIHNjaGVtYV07XHJcbiAgICB9KSk7XHJcbiAgICByZXR1cm4gbmV3IFNjaGVtYSh7XHJcbiAgICAgICAgdG9wTm9kZSxcclxuICAgICAgICBub2RlcyxcclxuICAgICAgICBtYXJrcyxcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIGdldFNjaGVtYVR5cGVCeU5hbWUobmFtZSwgc2NoZW1hKSB7XHJcbiAgICByZXR1cm4gc2NoZW1hLm5vZGVzW25hbWVdIHx8IHNjaGVtYS5tYXJrc1tuYW1lXSB8fCBudWxsO1xyXG59XG5cbmZ1bmN0aW9uIGlzRXh0ZW5zaW9uUnVsZXNFbmFibGVkKGV4dGVuc2lvbiwgZW5hYmxlZCkge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZW5hYmxlZCkpIHtcclxuICAgICAgICByZXR1cm4gZW5hYmxlZC5zb21lKGVuYWJsZWRFeHRlbnNpb24gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdHlwZW9mIGVuYWJsZWRFeHRlbnNpb24gPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICA/IGVuYWJsZWRFeHRlbnNpb25cclxuICAgICAgICAgICAgICAgIDogZW5hYmxlZEV4dGVuc2lvbi5uYW1lO1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gZXh0ZW5zaW9uLm5hbWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZW5hYmxlZDtcclxufVxuXG5jb25zdCBnZXRUZXh0Q29udGVudEZyb21Ob2RlcyA9ICgkZnJvbSwgbWF4TWF0Y2ggPSA1MDApID0+IHtcclxuICAgIGxldCB0ZXh0QmVmb3JlID0gJyc7XHJcbiAgICBjb25zdCBzbGljZUVuZFBvcyA9ICRmcm9tLnBhcmVudE9mZnNldDtcclxuICAgICRmcm9tLnBhcmVudC5ub2Rlc0JldHdlZW4oTWF0aC5tYXgoMCwgc2xpY2VFbmRQb3MgLSBtYXhNYXRjaCksIHNsaWNlRW5kUG9zLCAobm9kZSwgcG9zLCBwYXJlbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICBjb25zdCBjaHVuayA9ICgoX2IgPSAoX2EgPSBub2RlLnR5cGUuc3BlYykudG9UZXh0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwge1xyXG4gICAgICAgICAgICBub2RlLFxyXG4gICAgICAgICAgICBwb3MsXHJcbiAgICAgICAgICAgIHBhcmVudCxcclxuICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIHx8IG5vZGUudGV4dENvbnRlbnRcclxuICAgICAgICAgICAgfHwgJyVsZWFmJSc7XHJcbiAgICAgICAgdGV4dEJlZm9yZSArPSBjaHVuay5zbGljZSgwLCBNYXRoLm1heCgwLCBzbGljZUVuZFBvcyAtIHBvcykpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGV4dEJlZm9yZTtcclxufTtcblxuZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJztcclxufVxuXG5jbGFzcyBJbnB1dFJ1bGUge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5maW5kID0gY29uZmlnLmZpbmQ7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gY29uZmlnLmhhbmRsZXI7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgaW5wdXRSdWxlTWF0Y2hlckhhbmRsZXIgPSAodGV4dCwgZmluZCkgPT4ge1xyXG4gICAgaWYgKGlzUmVnRXhwKGZpbmQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZpbmQuZXhlYyh0ZXh0KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGlucHV0UnVsZU1hdGNoID0gZmluZCh0ZXh0KTtcclxuICAgIGlmICghaW5wdXRSdWxlTWF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IHJlc3VsdCA9IFtpbnB1dFJ1bGVNYXRjaC50ZXh0XTtcclxuICAgIHJlc3VsdC5pbmRleCA9IGlucHV0UnVsZU1hdGNoLmluZGV4O1xyXG4gICAgcmVzdWx0LmlucHV0ID0gdGV4dDtcclxuICAgIHJlc3VsdC5kYXRhID0gaW5wdXRSdWxlTWF0Y2guZGF0YTtcclxuICAgIGlmIChpbnB1dFJ1bGVNYXRjaC5yZXBsYWNlV2l0aCkge1xyXG4gICAgICAgIGlmICghaW5wdXRSdWxlTWF0Y2gudGV4dC5pbmNsdWRlcyhpbnB1dFJ1bGVNYXRjaC5yZXBsYWNlV2l0aCkpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbdGlwdGFwIHdhcm5dOiBcImlucHV0UnVsZU1hdGNoLnJlcGxhY2VXaXRoXCIgbXVzdCBiZSBwYXJ0IG9mIFwiaW5wdXRSdWxlTWF0Y2gudGV4dFwiLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHQucHVzaChpbnB1dFJ1bGVNYXRjaC5yZXBsYWNlV2l0aCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5mdW5jdGlvbiBydW4kMShjb25maWcpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHsgZWRpdG9yLCBmcm9tLCB0bywgdGV4dCwgcnVsZXMsIHBsdWdpbiwgfSA9IGNvbmZpZztcclxuICAgIGNvbnN0IHsgdmlldyB9ID0gZWRpdG9yO1xyXG4gICAgaWYgKHZpZXcuY29tcG9zaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgJGZyb20gPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGZyb20pO1xyXG4gICAgaWYgKFxyXG4gICAgLy8gY2hlY2sgZm9yIGNvZGUgbm9kZVxyXG4gICAgJGZyb20ucGFyZW50LnR5cGUuc3BlYy5jb2RlXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIGNvZGUgbWFya1xyXG4gICAgICAgIHx8ICEhKChfYSA9ICgkZnJvbS5ub2RlQmVmb3JlIHx8ICRmcm9tLm5vZGVBZnRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXJrcy5maW5kKG1hcmsgPT4gbWFyay50eXBlLnNwZWMuY29kZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IG1hdGNoZWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IHRleHRCZWZvcmUgPSBnZXRUZXh0Q29udGVudEZyb21Ob2RlcygkZnJvbSkgKyB0ZXh0O1xyXG4gICAgcnVsZXMuZm9yRWFjaChydWxlID0+IHtcclxuICAgICAgICBpZiAobWF0Y2hlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gaW5wdXRSdWxlTWF0Y2hlckhhbmRsZXIodGV4dEJlZm9yZSwgcnVsZS5maW5kKTtcclxuICAgICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdHIgPSB2aWV3LnN0YXRlLnRyO1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gY3JlYXRlQ2hhaW5hYmxlU3RhdGUoe1xyXG4gICAgICAgICAgICBzdGF0ZTogdmlldy5zdGF0ZSxcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0ge1xyXG4gICAgICAgICAgICBmcm9tOiBmcm9tIC0gKG1hdGNoWzBdLmxlbmd0aCAtIHRleHQubGVuZ3RoKSxcclxuICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB7IGNvbW1hbmRzLCBjaGFpbiwgY2FuIH0gPSBuZXcgQ29tbWFuZE1hbmFnZXIoe1xyXG4gICAgICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBydWxlLmhhbmRsZXIoe1xyXG4gICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICAgICAgcmFuZ2UsXHJcbiAgICAgICAgICAgIG1hdGNoLFxyXG4gICAgICAgICAgICBjb21tYW5kcyxcclxuICAgICAgICAgICAgY2hhaW4sXHJcbiAgICAgICAgICAgIGNhbixcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBzdG9wIGlmIHRoZXJlIGFyZSBubyBjaGFuZ2VzXHJcbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IG51bGwgfHwgIXRyLnN0ZXBzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHN0b3JlIHRyYW5zZm9ybSBhcyBtZXRhIGRhdGFcclxuICAgICAgICAvLyBzbyB3ZSBjYW4gdW5kbyBpbnB1dCBydWxlcyB3aXRoaW4gdGhlIGB1bmRvSW5wdXRSdWxlc2AgY29tbWFuZFxyXG4gICAgICAgIHRyLnNldE1ldGEocGx1Z2luLCB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHIsXHJcbiAgICAgICAgICAgIGZyb20sXHJcbiAgICAgICAgICAgIHRvLFxyXG4gICAgICAgICAgICB0ZXh0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZpZXcuZGlzcGF0Y2godHIpO1xyXG4gICAgICAgIG1hdGNoZWQgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbWF0Y2hlZDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGFuIGlucHV0IHJ1bGVzIHBsdWdpbi4gV2hlbiBlbmFibGVkLCBpdCB3aWxsIGNhdXNlIHRleHRcclxuICogaW5wdXQgdGhhdCBtYXRjaGVzIGFueSBvZiB0aGUgZ2l2ZW4gcnVsZXMgdG8gdHJpZ2dlciB0aGUgcnVsZeKAmXNcclxuICogYWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gaW5wdXRSdWxlc1BsdWdpbihwcm9wcykge1xyXG4gICAgY29uc3QgeyBlZGl0b3IsIHJ1bGVzIH0gPSBwcm9wcztcclxuICAgIGNvbnN0IHBsdWdpbiA9IG5ldyBQbHVnaW4oe1xyXG4gICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgIGluaXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXBwbHkodHIsIHByZXYpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IHRyLmdldE1ldGEocGx1Z2luKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdG9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyLnNlbGVjdGlvblNldCB8fCB0ci5kb2NDaGFuZ2VkID8gbnVsbCA6IHByZXY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICBoYW5kbGVUZXh0SW5wdXQodmlldywgZnJvbSwgdG8sIHRleHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBydW4kMSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb20sXHJcbiAgICAgICAgICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcclxuICAgICAgICAgICAgICAgICAgICBydWxlcyxcclxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGFuZGxlRE9NRXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICBjb21wb3NpdGlvbmVuZDogdmlldyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgJGN1cnNvciB9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW4kMSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206ICRjdXJzb3IucG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiAkY3Vyc29yLnBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGFkZCBzdXBwb3J0IGZvciBpbnB1dCBydWxlcyB0byB0cmlnZ2VyIG9uIGVudGVyXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdXNlZnVsIGZvciBleGFtcGxlIGZvciBjb2RlIGJsb2Nrc1xyXG4gICAgICAgICAgICBoYW5kbGVLZXlEb3duKHZpZXcsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ICE9PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgeyAkY3Vyc29yIH0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmICgkY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1biQxKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAkY3Vyc29yLnBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG86ICRjdXJzb3IucG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnXFxuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbixcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpc0lucHV0UnVsZXM6IHRydWUsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBwbHVnaW47XHJcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xyXG59XG5cbmNsYXNzIFBhc3RlUnVsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICB0aGlzLmZpbmQgPSBjb25maWcuZmluZDtcclxuICAgICAgICB0aGlzLmhhbmRsZXIgPSBjb25maWcuaGFuZGxlcjtcclxuICAgIH1cclxufVxyXG5jb25zdCBwYXN0ZVJ1bGVNYXRjaGVySGFuZGxlciA9ICh0ZXh0LCBmaW5kLCBldmVudCkgPT4ge1xyXG4gICAgaWYgKGlzUmVnRXhwKGZpbmQpKSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi50ZXh0Lm1hdGNoQWxsKGZpbmQpXTtcclxuICAgIH1cclxuICAgIGNvbnN0IG1hdGNoZXMgPSBmaW5kKHRleHQsIGV2ZW50KTtcclxuICAgIGlmICghbWF0Y2hlcykge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiBtYXRjaGVzLm1hcChwYXN0ZVJ1bGVNYXRjaCA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW3Bhc3RlUnVsZU1hdGNoLnRleHRdO1xyXG4gICAgICAgIHJlc3VsdC5pbmRleCA9IHBhc3RlUnVsZU1hdGNoLmluZGV4O1xyXG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IHRleHQ7XHJcbiAgICAgICAgcmVzdWx0LmRhdGEgPSBwYXN0ZVJ1bGVNYXRjaC5kYXRhO1xyXG4gICAgICAgIGlmIChwYXN0ZVJ1bGVNYXRjaC5yZXBsYWNlV2l0aCkge1xyXG4gICAgICAgICAgICBpZiAoIXBhc3RlUnVsZU1hdGNoLnRleHQuaW5jbHVkZXMocGFzdGVSdWxlTWF0Y2gucmVwbGFjZVdpdGgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1t0aXB0YXAgd2Fybl06IFwicGFzdGVSdWxlTWF0Y2gucmVwbGFjZVdpdGhcIiBtdXN0IGJlIHBhcnQgb2YgXCJwYXN0ZVJ1bGVNYXRjaC50ZXh0XCIuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFzdGVSdWxlTWF0Y2gucmVwbGFjZVdpdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSk7XHJcbn07XHJcbmZ1bmN0aW9uIHJ1bihjb25maWcpIHtcclxuICAgIGNvbnN0IHsgZWRpdG9yLCBzdGF0ZSwgZnJvbSwgdG8sIHJ1bGUsIHBhc3RlRXZlbnQsIGRyb3BFdmVudCwgfSA9IGNvbmZpZztcclxuICAgIGNvbnN0IHsgY29tbWFuZHMsIGNoYWluLCBjYW4gfSA9IG5ldyBDb21tYW5kTWFuYWdlcih7XHJcbiAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgIHN0YXRlLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBoYW5kbGVycyA9IFtdO1xyXG4gICAgc3RhdGUuZG9jLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcykgPT4ge1xyXG4gICAgICAgIGlmICghbm9kZS5pc1RleHRibG9jayB8fCBub2RlLnR5cGUuc3BlYy5jb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRGcm9tID0gTWF0aC5tYXgoZnJvbSwgcG9zKTtcclxuICAgICAgICBjb25zdCByZXNvbHZlZFRvID0gTWF0aC5taW4odG8sIHBvcyArIG5vZGUuY29udGVudC5zaXplKTtcclxuICAgICAgICBjb25zdCB0ZXh0VG9NYXRjaCA9IG5vZGUudGV4dEJldHdlZW4ocmVzb2x2ZWRGcm9tIC0gcG9zLCByZXNvbHZlZFRvIC0gcG9zLCB1bmRlZmluZWQsICdcXHVmZmZjJyk7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHBhc3RlUnVsZU1hdGNoZXJIYW5kbGVyKHRleHRUb01hdGNoLCBydWxlLmZpbmQsIHBhc3RlRXZlbnQpO1xyXG4gICAgICAgIG1hdGNoZXMuZm9yRWFjaChtYXRjaCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtYXRjaC5pbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSByZXNvbHZlZEZyb20gKyBtYXRjaC5pbmRleCArIDE7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgbWF0Y2hbMF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHtcclxuICAgICAgICAgICAgICAgIGZyb206IHN0YXRlLnRyLm1hcHBpbmcubWFwKHN0YXJ0KSxcclxuICAgICAgICAgICAgICAgIHRvOiBzdGF0ZS50ci5tYXBwaW5nLm1hcChlbmQpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gcnVsZS5oYW5kbGVyKHtcclxuICAgICAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgcmFuZ2UsXHJcbiAgICAgICAgICAgICAgICBtYXRjaCxcclxuICAgICAgICAgICAgICAgIGNvbW1hbmRzLFxyXG4gICAgICAgICAgICAgICAgY2hhaW4sXHJcbiAgICAgICAgICAgICAgICBjYW4sXHJcbiAgICAgICAgICAgICAgICBwYXN0ZUV2ZW50LFxyXG4gICAgICAgICAgICAgICAgZHJvcEV2ZW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGhhbmRsZXJzLmV2ZXJ5KGhhbmRsZXIgPT4gaGFuZGxlciAhPT0gbnVsbCk7XHJcbiAgICByZXR1cm4gc3VjY2VzcztcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGFuIHBhc3RlIHJ1bGVzIHBsdWdpbi4gV2hlbiBlbmFibGVkLCBpdCB3aWxsIGNhdXNlIHBhc3RlZFxyXG4gKiB0ZXh0IHRoYXQgbWF0Y2hlcyBhbnkgb2YgdGhlIGdpdmVuIHJ1bGVzIHRvIHRyaWdnZXIgdGhlIHJ1bGXigJlzXHJcbiAqIGFjdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHBhc3RlUnVsZXNQbHVnaW4ocHJvcHMpIHtcclxuICAgIGNvbnN0IHsgZWRpdG9yLCBydWxlcyB9ID0gcHJvcHM7XHJcbiAgICBsZXQgZHJhZ1NvdXJjZUVsZW1lbnQgPSBudWxsO1xyXG4gICAgbGV0IGlzUGFzdGVkRnJvbVByb3NlTWlycm9yID0gZmFsc2U7XHJcbiAgICBsZXQgaXNEcm9wcGVkRnJvbVByb3NlTWlycm9yID0gZmFsc2U7XHJcbiAgICBsZXQgcGFzdGVFdmVudCA9IG5ldyBDbGlwYm9hcmRFdmVudCgncGFzdGUnKTtcclxuICAgIGxldCBkcm9wRXZlbnQgPSBuZXcgRHJhZ0V2ZW50KCdkcm9wJyk7XHJcbiAgICBjb25zdCBwbHVnaW5zID0gcnVsZXMubWFwKHJ1bGUgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGx1Z2luKHtcclxuICAgICAgICAgICAgLy8gd2UgcmVnaXN0ZXIgYSBnbG9iYWwgZHJhZyBoYW5kbGVyIHRvIHRyYWNrIHRoZSBjdXJyZW50IGRyYWcgc291cmNlIGVsZW1lbnRcclxuICAgICAgICAgICAgdmlldyh2aWV3KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVEcmFnc3RhcnQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQgPSAoKF9hID0gdmlldy5kb20ucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdmlldy5kb20ucGFyZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZURyYWdzdGFydCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVEcmFnc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRE9NRXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJvcDogKHZpZXcsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJvcHBlZEZyb21Qcm9zZU1pcnJvciA9IGRyYWdTb3VyY2VFbGVtZW50ID09PSB2aWV3LmRvbS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcm9wRXZlbnQgPSBldmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzdGU6IChfdmlldywgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gKF9hID0gZXZlbnQuY2xpcGJvYXJkRGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldERhdGEoJ3RleHQvaHRtbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZUV2ZW50ID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGFzdGVkRnJvbVByb3NlTWlycm9yID0gISEoaHRtbCA9PT0gbnVsbCB8fCBodG1sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBodG1sLmluY2x1ZGVzKCdkYXRhLXBtLXNsaWNlJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFwcGVuZFRyYW5zYWN0aW9uOiAodHJhbnNhY3Rpb25zLCBvbGRTdGF0ZSwgc3RhdGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb25zWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNQYXN0ZSA9IHRyYW5zYWN0aW9uLmdldE1ldGEoJ3VpRXZlbnQnKSA9PT0gJ3Bhc3RlJyAmJiAhaXNQYXN0ZWRGcm9tUHJvc2VNaXJyb3I7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0Ryb3AgPSB0cmFuc2FjdGlvbi5nZXRNZXRhKCd1aUV2ZW50JykgPT09ICdkcm9wJyAmJiAhaXNEcm9wcGVkRnJvbVByb3NlTWlycm9yO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1Bhc3RlICYmICFpc0Ryb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBzdG9wIGlmIHRoZXJlIGlzIG5vIGNoYW5nZWQgcmFuZ2VcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSBvbGRTdGF0ZS5kb2MuY29udGVudC5maW5kRGlmZlN0YXJ0KHN0YXRlLmRvYy5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gb2xkU3RhdGUuZG9jLmNvbnRlbnQuZmluZERpZmZFbmQoc3RhdGUuZG9jLmNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc051bWJlcihmcm9tKSB8fCAhdG8gfHwgZnJvbSA9PT0gdG8uYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIGEgY2hhaW5hYmxlIHN0YXRlXHJcbiAgICAgICAgICAgICAgICAvLyBzbyB3ZSBjYW4gdXNlIGEgc2luZ2xlIHRyYW5zYWN0aW9uIGZvciBhbGwgcGFzdGUgcnVsZXNcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyID0gc3RhdGUudHI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFpbmFibGVTdGF0ZSA9IGNyZWF0ZUNoYWluYWJsZVN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjogdHIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBydW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogY2hhaW5hYmxlU3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogTWF0aC5tYXgoZnJvbSAtIDEsIDApLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0by5iIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICBydWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3RlRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZHJvcEV2ZW50LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBzdG9wIGlmIHRoZXJlIGFyZSBubyBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZXIgfHwgIXRyLnN0ZXBzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRyb3BFdmVudCA9IG5ldyBEcmFnRXZlbnQoJ2Ryb3AnKTtcclxuICAgICAgICAgICAgICAgIHBhc3RlRXZlbnQgPSBuZXcgQ2xpcGJvYXJkRXZlbnQoJ3Bhc3RlJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBwbHVnaW5zO1xyXG59XG5cbmZ1bmN0aW9uIGZpbmREdXBsaWNhdGVzKGl0ZW1zKSB7XHJcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGl0ZW1zLmZpbHRlcigoZWwsIGluZGV4KSA9PiBpdGVtcy5pbmRleE9mKGVsKSAhPT0gaW5kZXgpO1xyXG4gICAgcmV0dXJuIFsuLi5uZXcgU2V0KGZpbHRlcmVkKV07XHJcbn1cblxuY2xhc3MgRXh0ZW5zaW9uTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihleHRlbnNpb25zLCBlZGl0b3IpIHtcclxuICAgICAgICB0aGlzLnNwbGl0dGFibGVNYXJrcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xyXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IEV4dGVuc2lvbk1hbmFnZXIucmVzb2x2ZShleHRlbnNpb25zKTtcclxuICAgICAgICB0aGlzLnNjaGVtYSA9IGdldFNjaGVtYUJ5UmVzb2x2ZWRFeHRlbnNpb25zKHRoaXMuZXh0ZW5zaW9ucywgZWRpdG9yKTtcclxuICAgICAgICB0aGlzLmV4dGVuc2lvbnMuZm9yRWFjaChleHRlbnNpb24gPT4ge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIC8vIHN0b3JlIGV4dGVuc2lvbiBzdG9yYWdlIGluIGVkaXRvclxyXG4gICAgICAgICAgICB0aGlzLmVkaXRvci5leHRlbnNpb25TdG9yYWdlW2V4dGVuc2lvbi5uYW1lXSA9IGV4dGVuc2lvbi5zdG9yYWdlO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLmVkaXRvcixcclxuICAgICAgICAgICAgICAgIHR5cGU6IGdldFNjaGVtYVR5cGVCeU5hbWUoZXh0ZW5zaW9uLm5hbWUsIHRoaXMuc2NoZW1hKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGV4dGVuc2lvbi50eXBlID09PSAnbWFyaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtlZXBPblNwbGl0ID0gKF9hID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2tlZXBPblNwbGl0JywgY29udGV4dCkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtlZXBPblNwbGl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGxpdHRhYmxlTWFya3MucHVzaChleHRlbnNpb24ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25CZWZvcmVDcmVhdGUgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdvbkJlZm9yZUNyZWF0ZScsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAob25CZWZvcmVDcmVhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9uKCdiZWZvcmVDcmVhdGUnLCBvbkJlZm9yZUNyZWF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25DcmVhdGUgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdvbkNyZWF0ZScsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAob25DcmVhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9uKCdjcmVhdGUnLCBvbkNyZWF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25VcGRhdGUgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdvblVwZGF0ZScsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAob25VcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9uKCd1cGRhdGUnLCBvblVwZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25TZWxlY3Rpb25VcGRhdGUgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdvblNlbGVjdGlvblVwZGF0ZScsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAob25TZWxlY3Rpb25VcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9uKCdzZWxlY3Rpb25VcGRhdGUnLCBvblNlbGVjdGlvblVwZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb25UcmFuc2FjdGlvbiA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uVHJhbnNhY3Rpb24nLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgaWYgKG9uVHJhbnNhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLm9uKCd0cmFuc2FjdGlvbicsIG9uVHJhbnNhY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG9uRm9jdXMgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdvbkZvY3VzJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChvbkZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5vbignZm9jdXMnLCBvbkZvY3VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvbkJsdXIgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdvbkJsdXInLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgaWYgKG9uQmx1cikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0b3Iub24oJ2JsdXInLCBvbkJsdXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG9uRGVzdHJveSA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ29uRGVzdHJveScsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAob25EZXN0cm95KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5vbignZGVzdHJveScsIG9uRGVzdHJveSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHN0YXRpYyByZXNvbHZlKGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBjb25zdCByZXNvbHZlZEV4dGVuc2lvbnMgPSBFeHRlbnNpb25NYW5hZ2VyLnNvcnQoRXh0ZW5zaW9uTWFuYWdlci5mbGF0dGVuKGV4dGVuc2lvbnMpKTtcclxuICAgICAgICBjb25zdCBkdXBsaWNhdGVkTmFtZXMgPSBmaW5kRHVwbGljYXRlcyhyZXNvbHZlZEV4dGVuc2lvbnMubWFwKGV4dGVuc2lvbiA9PiBleHRlbnNpb24ubmFtZSkpO1xyXG4gICAgICAgIGlmIChkdXBsaWNhdGVkTmFtZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW3RpcHRhcCB3YXJuXTogRHVwbGljYXRlIGV4dGVuc2lvbiBuYW1lcyBmb3VuZDogWyR7ZHVwbGljYXRlZE5hbWVzXHJcbiAgICAgICAgICAgICAgICAubWFwKGl0ZW0gPT4gYCcke2l0ZW19J2ApXHJcbiAgICAgICAgICAgICAgICAuam9pbignLCAnKX1dLiBUaGlzIGNhbiBsZWFkIHRvIGlzc3Vlcy5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkRXh0ZW5zaW9ucztcclxuICAgIH1cclxuICAgIHN0YXRpYyBmbGF0dGVuKGV4dGVuc2lvbnMpIHtcclxuICAgICAgICByZXR1cm4gKGV4dGVuc2lvbnNcclxuICAgICAgICAgICAgLm1hcChleHRlbnNpb24gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBhZGRFeHRlbnNpb25zID0gZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkRXh0ZW5zaW9ucycsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAoYWRkRXh0ZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtleHRlbnNpb24sIC4uLnRoaXMuZmxhdHRlbihhZGRFeHRlbnNpb25zKCkpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vIGBJbmZpbml0eWAgd2lsbCBicmVhayBUeXBlU2NyaXB0IHNvIHdlIHNldCBhIG51bWJlciB0aGF0IGlzIHByb2JhYmx5IGhpZ2ggZW5vdWdoXHJcbiAgICAgICAgICAgIC5mbGF0KDEwKSk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgc29ydChleHRlbnNpb25zKSB7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdFByaW9yaXR5ID0gMTAwO1xyXG4gICAgICAgIHJldHVybiBleHRlbnNpb25zLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJpb3JpdHlBID0gZ2V0RXh0ZW5zaW9uRmllbGQoYSwgJ3ByaW9yaXR5JykgfHwgZGVmYXVsdFByaW9yaXR5O1xyXG4gICAgICAgICAgICBjb25zdCBwcmlvcml0eUIgPSBnZXRFeHRlbnNpb25GaWVsZChiLCAncHJpb3JpdHknKSB8fCBkZWZhdWx0UHJpb3JpdHk7XHJcbiAgICAgICAgICAgIGlmIChwcmlvcml0eUEgPiBwcmlvcml0eUIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJpb3JpdHlBIDwgcHJpb3JpdHlCKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldCBjb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb25zLnJlZHVjZSgoY29tbWFuZHMsIGV4dGVuc2lvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLmVkaXRvcixcclxuICAgICAgICAgICAgICAgIHR5cGU6IGdldFNjaGVtYVR5cGVCeU5hbWUoZXh0ZW5zaW9uLm5hbWUsIHRoaXMuc2NoZW1hKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgYWRkQ29tbWFuZHMgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRDb21tYW5kcycsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAoIWFkZENvbW1hbmRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIC4uLmNvbW1hbmRzLFxyXG4gICAgICAgICAgICAgICAgLi4uYWRkQ29tbWFuZHMoKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICB9XHJcbiAgICBnZXQgcGx1Z2lucygpIHtcclxuICAgICAgICBjb25zdCB7IGVkaXRvciB9ID0gdGhpcztcclxuICAgICAgICAvLyBXaXRoIFByb3NlTWlycm9yLCBmaXJzdCBwbHVnaW5zIHdpdGhpbiBhbiBhcnJheSBhcmUgZXhlY3V0ZWQgZmlyc3QuXHJcbiAgICAgICAgLy8gSW4gVGlwdGFwLCB3ZSBwcm92aWRlIHRoZSBhYmlsaXR5IHRvIG92ZXJyaWRlIHBsdWdpbnMsXHJcbiAgICAgICAgLy8gc28gaXQgZmVlbHMgbW9yZSBuYXR1cmFsIHRvIHJ1biBwbHVnaW5zIGF0IHRoZSBlbmQgb2YgYW4gYXJyYXkgZmlyc3QuXHJcbiAgICAgICAgLy8gVGhhdOKAmXMgd2h5IHdlIGhhdmUgdG8gcmV2ZXJzZSB0aGUgYGV4dGVuc2lvbnNgIGFycmF5IGFuZCBzb3J0IGFnYWluXHJcbiAgICAgICAgLy8gYmFzZWQgb24gdGhlIGBwcmlvcml0eWAgb3B0aW9uLlxyXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSBFeHRlbnNpb25NYW5hZ2VyLnNvcnQoWy4uLnRoaXMuZXh0ZW5zaW9uc10ucmV2ZXJzZSgpKTtcclxuICAgICAgICBjb25zdCBpbnB1dFJ1bGVzID0gW107XHJcbiAgICAgICAgY29uc3QgcGFzdGVSdWxlcyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGFsbFBsdWdpbnMgPSBleHRlbnNpb25zXHJcbiAgICAgICAgICAgIC5tYXAoZXh0ZW5zaW9uID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBzdG9yYWdlOiBleHRlbnNpb24uc3RvcmFnZSxcclxuICAgICAgICAgICAgICAgIGVkaXRvcixcclxuICAgICAgICAgICAgICAgIHR5cGU6IGdldFNjaGVtYVR5cGVCeU5hbWUoZXh0ZW5zaW9uLm5hbWUsIHRoaXMuc2NoZW1hKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgcGx1Z2lucyA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBhZGRLZXlib2FyZFNob3J0Y3V0cyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZEtleWJvYXJkU2hvcnRjdXRzJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGxldCBkZWZhdWx0QmluZGluZ3MgPSB7fTtcclxuICAgICAgICAgICAgLy8gYmluZCBleGl0IGhhbmRsaW5nXHJcbiAgICAgICAgICAgIGlmIChleHRlbnNpb24udHlwZSA9PT0gJ21hcmsnICYmIGV4dGVuc2lvbi5jb25maWcuZXhpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRCaW5kaW5ncy5BcnJvd1JpZ2h0ID0gKCkgPT4gTWFyay5oYW5kbGVFeGl0KHsgZWRpdG9yLCBtYXJrOiBleHRlbnNpb24gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFkZEtleWJvYXJkU2hvcnRjdXRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiaW5kaW5ncyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhhZGRLZXlib2FyZFNob3J0Y3V0cygpKS5tYXAoKFtzaG9ydGN1dCwgbWV0aG9kXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbc2hvcnRjdXQsICgpID0+IG1ldGhvZCh7IGVkaXRvciB9KV07XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0QmluZGluZ3MgPSB7IC4uLmRlZmF1bHRCaW5kaW5ncywgLi4uYmluZGluZ3MgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXlNYXBQbHVnaW4gPSBrZXltYXAoZGVmYXVsdEJpbmRpbmdzKTtcclxuICAgICAgICAgICAgcGx1Z2lucy5wdXNoKGtleU1hcFBsdWdpbik7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZElucHV0UnVsZXMgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRJbnB1dFJ1bGVzJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChpc0V4dGVuc2lvblJ1bGVzRW5hYmxlZChleHRlbnNpb24sIGVkaXRvci5vcHRpb25zLmVuYWJsZUlucHV0UnVsZXMpICYmIGFkZElucHV0UnVsZXMpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0UnVsZXMucHVzaCguLi5hZGRJbnB1dFJ1bGVzKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZFBhc3RlUnVsZXMgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRQYXN0ZVJ1bGVzJywgY29udGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChpc0V4dGVuc2lvblJ1bGVzRW5hYmxlZChleHRlbnNpb24sIGVkaXRvci5vcHRpb25zLmVuYWJsZVBhc3RlUnVsZXMpICYmIGFkZFBhc3RlUnVsZXMpIHtcclxuICAgICAgICAgICAgICAgIHBhc3RlUnVsZXMucHVzaCguLi5hZGRQYXN0ZVJ1bGVzKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZFByb3NlTWlycm9yUGx1Z2lucyA9IGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZFByb3NlTWlycm9yUGx1Z2lucycsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAoYWRkUHJvc2VNaXJyb3JQbHVnaW5zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9zZU1pcnJvclBsdWdpbnMgPSBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKTtcclxuICAgICAgICAgICAgICAgIHBsdWdpbnMucHVzaCguLi5wcm9zZU1pcnJvclBsdWdpbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwbHVnaW5zO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mbGF0KCk7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgaW5wdXRSdWxlc1BsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3IsXHJcbiAgICAgICAgICAgICAgICBydWxlczogaW5wdXRSdWxlcyxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIC4uLnBhc3RlUnVsZXNQbHVnaW4oe1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgcnVsZXM6IHBhc3RlUnVsZXMsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAuLi5hbGxQbHVnaW5zLFxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBnZXQgYXR0cmlidXRlcygpIHtcclxuICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlc0Zyb21FeHRlbnNpb25zKHRoaXMuZXh0ZW5zaW9ucyk7XHJcbiAgICB9XHJcbiAgICBnZXQgbm9kZVZpZXdzKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZWRpdG9yIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHsgbm9kZUV4dGVuc2lvbnMgfSA9IHNwbGl0RXh0ZW5zaW9ucyh0aGlzLmV4dGVuc2lvbnMpO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMobm9kZUV4dGVuc2lvbnNcclxuICAgICAgICAgICAgLmZpbHRlcihleHRlbnNpb24gPT4gISFnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGROb2RlVmlldycpKVxyXG4gICAgICAgICAgICAubWFwKGV4dGVuc2lvbiA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbkF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXMuZmlsdGVyKGF0dHJpYnV0ZSA9PiBhdHRyaWJ1dGUudHlwZSA9PT0gZXh0ZW5zaW9uLm5hbWUpO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IGV4dGVuc2lvbi5zdG9yYWdlLFxyXG4gICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogZ2V0Tm9kZVR5cGUoZXh0ZW5zaW9uLm5hbWUsIHRoaXMuc2NoZW1hKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgYWRkTm9kZVZpZXcgPSBnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGROb2RlVmlldycsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICBpZiAoIWFkZE5vZGVWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9kZXZpZXcgPSAobm9kZSwgdmlldywgZ2V0UG9zLCBkZWNvcmF0aW9ucykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgSFRNTEF0dHJpYnV0ZXMgPSBnZXRSZW5kZXJlZEF0dHJpYnV0ZXMobm9kZSwgZXh0ZW5zaW9uQXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkTm9kZVZpZXcoKSh7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UG9zLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gW2V4dGVuc2lvbi5uYW1lLCBub2Rldmlld107XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59XG5cbi8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL21lc3F1ZWViL2lzLXdoYXQvYmxvYi84OGQ2ZTRjYTkyZmIyYmFhYjYwMDNjNTRlMDJlZWRmNGU3MjllNWFiL3NyYy9pbmRleC50c1xyXG5mdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn1cclxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xyXG4gICAgaWYgKGdldFR5cGUodmFsdWUpICE9PSAnT2JqZWN0Jykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkgPT09IE9iamVjdC5wcm90b3R5cGU7XHJcbn1cblxuZnVuY3Rpb24gbWVyZ2VEZWVwKHRhcmdldCwgc291cmNlKSB7XHJcbiAgICBjb25zdCBvdXRwdXQgPSB7IC4uLnRhcmdldCB9O1xyXG4gICAgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiBpc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qoc291cmNlW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gdGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3V0cHV0LCB7IFtrZXldOiBzb3VyY2Vba2V5XSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtrZXldID0gbWVyZ2VEZWVwKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG91dHB1dCwgeyBba2V5XTogc291cmNlW2tleV0gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXRwdXQ7XHJcbn1cblxuY2xhc3MgRXh0ZW5zaW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ2V4dGVuc2lvbic7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ2V4dGVuc2lvbic7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcclxuICAgICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25maWcubmFtZTtcclxuICAgICAgICBpZiAoY29uZmlnLmRlZmF1bHRPcHRpb25zICYmIE9iamVjdC5rZXlzKGNvbmZpZy5kZWZhdWx0T3B0aW9ucykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFt0aXB0YXAgd2Fybl06IEJSRUFLSU5HIENIQU5HRTogXCJkZWZhdWx0T3B0aW9uc1wiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCJhZGRPcHRpb25zXCIgaW5zdGVhZC4gRm91bmQgaW4gZXh0ZW5zaW9uOiBcIiR7dGhpcy5uYW1lfVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgYGFkZE9wdGlvbnNgIGZhbGxiYWNrXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5jb25maWcuZGVmYXVsdE9wdGlvbnM7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmFkZE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKHRoaXMsICdhZGRPcHRpb25zJywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZCh0aGlzLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXHJcbiAgICAgICAgfSkpIHx8IHt9O1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNyZWF0ZShjb25maWcgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRXh0ZW5zaW9uKGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBjb25maWd1cmUob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgLy8gcmV0dXJuIGEgbmV3IGluc3RhbmNlIHNvIHdlIGNhbiB1c2UgdGhlIHNhbWUgZXh0ZW5zaW9uXHJcbiAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgY2FsbHMgb2YgYGNvbmZpZ3VyZWBcclxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSB0aGlzLmV4dGVuZCgpO1xyXG4gICAgICAgIGV4dGVuc2lvbi5vcHRpb25zID0gbWVyZ2VEZWVwKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xyXG4gICAgfVxyXG4gICAgZXh0ZW5kKGV4dGVuZGVkQ29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBuZXcgRXh0ZW5zaW9uKHsgLi4udGhpcy5jb25maWcsIC4uLmV4dGVuZGVkQ29uZmlnIH0pO1xyXG4gICAgICAgIGV4dGVuc2lvbi5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY2hpbGQgPSBleHRlbnNpb247XHJcbiAgICAgICAgZXh0ZW5zaW9uLm5hbWUgPSBleHRlbmRlZENvbmZpZy5uYW1lID8gZXh0ZW5kZWRDb25maWcubmFtZSA6IGV4dGVuc2lvbi5wYXJlbnQubmFtZTtcclxuICAgICAgICBpZiAoZXh0ZW5kZWRDb25maWcuZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdGlwdGFwIHdhcm5dOiBCUkVBS0lORyBDSEFOR0U6IFwiZGVmYXVsdE9wdGlvbnNcIiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFwiYWRkT3B0aW9uc1wiIGluc3RlYWQuIEZvdW5kIGluIGV4dGVuc2lvbjogXCIke2V4dGVuc2lvbi5uYW1lfVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHRlbnNpb24ub3B0aW9ucyA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRPcHRpb25zJywge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGdldFRleHRCZXR3ZWVuKHN0YXJ0Tm9kZSwgcmFuZ2UsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHJhbmdlO1xyXG4gICAgY29uc3QgeyBibG9ja1NlcGFyYXRvciA9ICdcXG5cXG4nLCB0ZXh0U2VyaWFsaXplcnMgPSB7fSB9ID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIGxldCB0ZXh0ID0gJyc7XHJcbiAgICBsZXQgc2VwYXJhdGVkID0gdHJ1ZTtcclxuICAgIHN0YXJ0Tm9kZS5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MsIHBhcmVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3QgdGV4dFNlcmlhbGl6ZXIgPSB0ZXh0U2VyaWFsaXplcnMgPT09IG51bGwgfHwgdGV4dFNlcmlhbGl6ZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZXh0U2VyaWFsaXplcnNbbm9kZS50eXBlLm5hbWVdO1xyXG4gICAgICAgIGlmICh0ZXh0U2VyaWFsaXplcikge1xyXG4gICAgICAgICAgICBpZiAobm9kZS5pc0Jsb2NrICYmICFzZXBhcmF0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgKz0gYmxvY2tTZXBhcmF0b3I7XHJcbiAgICAgICAgICAgICAgICBzZXBhcmF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRleHQgKz0gdGV4dFNlcmlhbGl6ZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCxcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCxcclxuICAgICAgICAgICAgICAgICAgICByYW5nZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5vZGUuaXNUZXh0KSB7XHJcbiAgICAgICAgICAgIHRleHQgKz0gKF9hID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnRleHQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zbGljZShNYXRoLm1heChmcm9tLCBwb3MpIC0gcG9zLCB0byAtIHBvcyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcclxuICAgICAgICAgICAgc2VwYXJhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5vZGUuaXNCbG9jayAmJiAhc2VwYXJhdGVkKSB7XHJcbiAgICAgICAgICAgIHRleHQgKz0gYmxvY2tTZXBhcmF0b3I7XHJcbiAgICAgICAgICAgIHNlcGFyYXRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGV4dDtcclxufVxuXG5mdW5jdGlvbiBnZXRUZXh0U2VyaWFsaXplcnNGcm9tU2NoZW1hKHNjaGVtYSkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhzY2hlbWEubm9kZXMpXHJcbiAgICAgICAgLmZpbHRlcigoWywgbm9kZV0pID0+IG5vZGUuc3BlYy50b1RleHQpXHJcbiAgICAgICAgLm1hcCgoW25hbWUsIG5vZGVdKSA9PiBbbmFtZSwgbm9kZS5zcGVjLnRvVGV4dF0pKTtcclxufVxuXG5jb25zdCBDbGlwYm9hcmRUZXh0U2VyaWFsaXplciA9IEV4dGVuc2lvbi5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2NsaXBib2FyZFRleHRTZXJpYWxpemVyJyxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBuZXcgUGx1Z2luKHtcclxuICAgICAgICAgICAgICAgIGtleTogbmV3IFBsdWdpbktleSgnY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXInKSxcclxuICAgICAgICAgICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkVGV4dFNlcmlhbGl6ZXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlZGl0b3IgfSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIHNjaGVtYSB9ID0gZWRpdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRvYywgc2VsZWN0aW9uIH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByYW5nZXMgfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbSA9IE1hdGgubWluKC4uLnJhbmdlcy5tYXAocmFuZ2UgPT4gcmFuZ2UuJGZyb20ucG9zKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gTWF0aC5tYXgoLi4ucmFuZ2VzLm1hcChyYW5nZSA9PiByYW5nZS4kdG8ucG9zKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRTZXJpYWxpemVycyA9IGdldFRleHRTZXJpYWxpemVyc0Zyb21TY2hlbWEoc2NoZW1hKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB7IGZyb20sIHRvIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRUZXh0QmV0d2Vlbihkb2MsIHJhbmdlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2VyaWFsaXplcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmNvbnN0IGJsdXIgPSAoKSA9PiAoeyBlZGl0b3IsIHZpZXcgfSkgPT4ge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKCFlZGl0b3IuaXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgdmlldy5kb20uYmx1cigpO1xyXG4gICAgICAgICAgICAvLyBCcm93c2VycyBzaG91bGQgcmVtb3ZlIHRoZSBjYXJldCBvbiBibHVyIGJ1dCBzYWZhcmkgZG9lcyBub3QuXHJcbiAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3VlYmVyZG9zaXMvdGlwdGFwL2lzc3Vlcy8yNDA1XHJcbiAgICAgICAgICAgIChfYSA9IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IGNsZWFyQ29udGVudCA9IChlbWl0VXBkYXRlID0gZmFsc2UpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgIHJldHVybiBjb21tYW5kcy5zZXRDb250ZW50KCcnLCBlbWl0VXBkYXRlKTtcclxufTtcblxuY29uc3QgY2xlYXJOb2RlcyA9ICgpID0+ICh7IHN0YXRlLCB0ciwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRyO1xyXG4gICAgY29uc3QgeyByYW5nZXMgfSA9IHNlbGVjdGlvbjtcclxuICAgIGlmICghZGlzcGF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJhbmdlcy5mb3JFYWNoKCh7ICRmcm9tLCAkdG8gfSkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oJGZyb20ucG9zLCAkdG8ucG9zLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUuaXNUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyBkb2MsIG1hcHBpbmcgfSA9IHRyO1xyXG4gICAgICAgICAgICBjb25zdCAkbWFwcGVkRnJvbSA9IGRvYy5yZXNvbHZlKG1hcHBpbmcubWFwKHBvcykpO1xyXG4gICAgICAgICAgICBjb25zdCAkbWFwcGVkVG8gPSBkb2MucmVzb2x2ZShtYXBwaW5nLm1hcChwb3MgKyBub2RlLm5vZGVTaXplKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGVSYW5nZSA9ICRtYXBwZWRGcm9tLmJsb2NrUmFuZ2UoJG1hcHBlZFRvKTtcclxuICAgICAgICAgICAgaWYgKCFub2RlUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMaWZ0RGVwdGggPSBsaWZ0VGFyZ2V0KG5vZGVSYW5nZSk7XHJcbiAgICAgICAgICAgIGlmIChub2RlLnR5cGUuaXNUZXh0YmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGVmYXVsdFR5cGUgfSA9ICRtYXBwZWRGcm9tLnBhcmVudC5jb250ZW50TWF0Y2hBdCgkbWFwcGVkRnJvbS5pbmRleCgpKTtcclxuICAgICAgICAgICAgICAgIHRyLnNldE5vZGVNYXJrdXAobm9kZVJhbmdlLnN0YXJ0LCBkZWZhdWx0VHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRhcmdldExpZnREZXB0aCB8fCB0YXJnZXRMaWZ0RGVwdGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRyLmxpZnQobm9kZVJhbmdlLCB0YXJnZXRMaWZ0RGVwdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBjb21tYW5kID0gZm4gPT4gcHJvcHMgPT4ge1xyXG4gICAgcmV0dXJuIGZuKHByb3BzKTtcclxufTtcblxuY29uc3QgY3JlYXRlUGFyYWdyYXBoTmVhciA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gY3JlYXRlUGFyYWdyYXBoTmVhciQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IGN1dCA9IChvcmlnaW5SYW5nZSwgdGFyZ2V0UG9zKSA9PiAoeyBlZGl0b3IsIHRyIH0pID0+IHtcclxuICAgIGNvbnN0IHsgc3RhdGUgfSA9IGVkaXRvcjtcclxuICAgIGNvbnN0IGNvbnRlbnRTbGljZSA9IHN0YXRlLmRvYy5zbGljZShvcmlnaW5SYW5nZS5mcm9tLCBvcmlnaW5SYW5nZS50byk7XHJcbiAgICB0ci5kZWxldGVSYW5nZShvcmlnaW5SYW5nZS5mcm9tLCBvcmlnaW5SYW5nZS50byk7XHJcbiAgICBjb25zdCBuZXdQb3MgPSB0ci5tYXBwaW5nLm1hcCh0YXJnZXRQb3MpO1xyXG4gICAgdHIuaW5zZXJ0KG5ld1BvcywgY29udGVudFNsaWNlLmNvbnRlbnQpO1xyXG4gICAgdHIuc2V0U2VsZWN0aW9uKG5ldyBUZXh0U2VsZWN0aW9uKHRyLmRvYy5yZXNvbHZlKG5ld1BvcyAtIDEpKSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3QgZGVsZXRlQ3VycmVudE5vZGUgPSAoKSA9PiAoeyB0ciwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRyO1xyXG4gICAgY29uc3QgY3VycmVudE5vZGUgPSBzZWxlY3Rpb24uJGFuY2hvci5ub2RlKCk7XHJcbiAgICAvLyBpZiB0aGVyZSBpcyBjb250ZW50IGluc2lkZSB0aGUgY3VycmVudCBub2RlLCBicmVhayBvdXQgb2YgdGhpcyBjb21tYW5kXHJcbiAgICBpZiAoY3VycmVudE5vZGUuY29udGVudC5zaXplID4gMCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0ICRwb3MgPSB0ci5zZWxlY3Rpb24uJGFuY2hvcjtcclxuICAgIGZvciAobGV0IGRlcHRoID0gJHBvcy5kZXB0aDsgZGVwdGggPiAwOyBkZXB0aCAtPSAxKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9ICRwb3Mubm9kZShkZXB0aCk7XHJcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gY3VycmVudE5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSAkcG9zLmJlZm9yZShkZXB0aCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0byA9ICRwb3MuYWZ0ZXIoZGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgdHIuZGVsZXRlKGZyb20sIHRvKS5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcblxuY29uc3QgZGVsZXRlTm9kZSA9IHR5cGVPck5hbWUgPT4gKHsgdHIsIHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0ICRwb3MgPSB0ci5zZWxlY3Rpb24uJGFuY2hvcjtcclxuICAgIGZvciAobGV0IGRlcHRoID0gJHBvcy5kZXB0aDsgZGVwdGggPiAwOyBkZXB0aCAtPSAxKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9ICRwb3Mubm9kZShkZXB0aCk7XHJcbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gdHlwZSkge1xyXG4gICAgICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSAkcG9zLmJlZm9yZShkZXB0aCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0byA9ICRwb3MuYWZ0ZXIoZGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgdHIuZGVsZXRlKGZyb20sIHRvKS5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufTtcblxuY29uc3QgZGVsZXRlUmFuZ2UgPSByYW5nZSA9PiAoeyB0ciwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgeyBmcm9tLCB0byB9ID0gcmFuZ2U7XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICB0ci5kZWxldGUoZnJvbSwgdG8pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IGRlbGV0ZVNlbGVjdGlvbiA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gZGVsZXRlU2VsZWN0aW9uJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxuY29uc3QgZW50ZXIgPSAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICByZXR1cm4gY29tbWFuZHMua2V5Ym9hcmRTaG9ydGN1dCgnRW50ZXInKTtcclxufTtcblxuY29uc3QgZXhpdENvZGUgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIGV4aXRDb2RlJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxuLyoqXHJcbiAqIENoZWNrIGlmIG9iamVjdDEgaW5jbHVkZXMgb2JqZWN0MlxyXG4gKiBAcGFyYW0gb2JqZWN0MSBPYmplY3RcclxuICogQHBhcmFtIG9iamVjdDIgT2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBvYmplY3RJbmNsdWRlcyhvYmplY3QxLCBvYmplY3QyLCBvcHRpb25zID0geyBzdHJpY3Q6IHRydWUgfSkge1xyXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdDIpO1xyXG4gICAgaWYgKCFrZXlzLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleXMuZXZlcnkoa2V5ID0+IHtcclxuICAgICAgICBpZiAob3B0aW9ucy5zdHJpY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdDJba2V5XSA9PT0gb2JqZWN0MVtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNSZWdFeHAob2JqZWN0MltrZXldKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0MltrZXldLnRlc3Qob2JqZWN0MVtrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdDJba2V5XSA9PT0gb2JqZWN0MVtrZXldO1xyXG4gICAgfSk7XHJcbn1cblxuZnVuY3Rpb24gZmluZE1hcmtJblNldChtYXJrcywgdHlwZSwgYXR0cmlidXRlcyA9IHt9KSB7XHJcbiAgICByZXR1cm4gbWFya3MuZmluZChpdGVtID0+IHtcclxuICAgICAgICByZXR1cm4gaXRlbS50eXBlID09PSB0eXBlICYmIG9iamVjdEluY2x1ZGVzKGl0ZW0uYXR0cnMsIGF0dHJpYnV0ZXMpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gaXNNYXJrSW5TZXQobWFya3MsIHR5cGUsIGF0dHJpYnV0ZXMgPSB7fSkge1xyXG4gICAgcmV0dXJuICEhZmluZE1hcmtJblNldChtYXJrcywgdHlwZSwgYXR0cmlidXRlcyk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TWFya1JhbmdlKCRwb3MsIHR5cGUsIGF0dHJpYnV0ZXMgPSB7fSkge1xyXG4gICAgaWYgKCEkcG9zIHx8ICF0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IHN0YXJ0ID0gJHBvcy5wYXJlbnQuY2hpbGRBZnRlcigkcG9zLnBhcmVudE9mZnNldCk7XHJcbiAgICBpZiAoJHBvcy5wYXJlbnRPZmZzZXQgPT09IHN0YXJ0Lm9mZnNldCAmJiBzdGFydC5vZmZzZXQgIT09IDApIHtcclxuICAgICAgICBzdGFydCA9ICRwb3MucGFyZW50LmNoaWxkQmVmb3JlKCRwb3MucGFyZW50T2Zmc2V0KTtcclxuICAgIH1cclxuICAgIGlmICghc3RhcnQubm9kZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IG1hcmsgPSBmaW5kTWFya0luU2V0KFsuLi5zdGFydC5ub2RlLm1hcmtzXSwgdHlwZSwgYXR0cmlidXRlcyk7XHJcbiAgICBpZiAoIW1hcmspIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgc3RhcnRJbmRleCA9IHN0YXJ0LmluZGV4O1xyXG4gICAgbGV0IHN0YXJ0UG9zID0gJHBvcy5zdGFydCgpICsgc3RhcnQub2Zmc2V0O1xyXG4gICAgbGV0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIDE7XHJcbiAgICBsZXQgZW5kUG9zID0gc3RhcnRQb3MgKyBzdGFydC5ub2RlLm5vZGVTaXplO1xyXG4gICAgZmluZE1hcmtJblNldChbLi4uc3RhcnQubm9kZS5tYXJrc10sIHR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgd2hpbGUgKHN0YXJ0SW5kZXggPiAwICYmIG1hcmsuaXNJblNldCgkcG9zLnBhcmVudC5jaGlsZChzdGFydEluZGV4IC0gMSkubWFya3MpKSB7XHJcbiAgICAgICAgc3RhcnRJbmRleCAtPSAxO1xyXG4gICAgICAgIHN0YXJ0UG9zIC09ICRwb3MucGFyZW50LmNoaWxkKHN0YXJ0SW5kZXgpLm5vZGVTaXplO1xyXG4gICAgfVxyXG4gICAgd2hpbGUgKGVuZEluZGV4IDwgJHBvcy5wYXJlbnQuY2hpbGRDb3VudFxyXG4gICAgICAgICYmIGlzTWFya0luU2V0KFsuLi4kcG9zLnBhcmVudC5jaGlsZChlbmRJbmRleCkubWFya3NdLCB0eXBlLCBhdHRyaWJ1dGVzKSkge1xyXG4gICAgICAgIGVuZFBvcyArPSAkcG9zLnBhcmVudC5jaGlsZChlbmRJbmRleCkubm9kZVNpemU7XHJcbiAgICAgICAgZW5kSW5kZXggKz0gMTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZnJvbTogc3RhcnRQb3MsXHJcbiAgICAgICAgdG86IGVuZFBvcyxcclxuICAgIH07XHJcbn1cblxuZnVuY3Rpb24gZ2V0TWFya1R5cGUobmFtZU9yVHlwZSwgc2NoZW1hKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hbWVPclR5cGUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWYgKCFzY2hlbWEubWFya3NbbmFtZU9yVHlwZV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFRoZXJlIGlzIG5vIG1hcmsgdHlwZSBuYW1lZCAnJHtuYW1lT3JUeXBlfScuIE1heWJlIHlvdSBmb3Jnb3QgdG8gYWRkIHRoZSBleHRlbnNpb24/YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzY2hlbWEubWFya3NbbmFtZU9yVHlwZV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmFtZU9yVHlwZTtcclxufVxuXG5jb25zdCBleHRlbmRNYXJrUmFuZ2UgPSAodHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXRNYXJrVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgY29uc3QgeyBkb2MsIHNlbGVjdGlvbiB9ID0gdHI7XHJcbiAgICBjb25zdCB7ICRmcm9tLCBmcm9tLCB0byB9ID0gc2VsZWN0aW9uO1xyXG4gICAgaWYgKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBnZXRNYXJrUmFuZ2UoJGZyb20sIHR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIGlmIChyYW5nZSAmJiByYW5nZS5mcm9tIDw9IGZyb20gJiYgcmFuZ2UudG8gPj0gdG8pIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3U2VsZWN0aW9uID0gVGV4dFNlbGVjdGlvbi5jcmVhdGUoZG9jLCByYW5nZS5mcm9tLCByYW5nZS50byk7XHJcbiAgICAgICAgICAgIHRyLnNldFNlbGVjdGlvbihuZXdTZWxlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBmaXJzdCA9IGNvbW1hbmRzID0+IHByb3BzID0+IHtcclxuICAgIGNvbnN0IGl0ZW1zID0gdHlwZW9mIGNvbW1hbmRzID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgPyBjb21tYW5kcyhwcm9wcylcclxuICAgICAgICA6IGNvbW1hbmRzO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgIGlmIChpdGVtc1tpXShwcm9wcykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59O1xuXG5mdW5jdGlvbiBpc1RleHRTZWxlY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb247XHJcbn1cblxuZnVuY3Rpb24gbWluTWF4KHZhbHVlID0gMCwgbWluID0gMCwgbWF4ID0gMCkge1xyXG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xyXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVGb2N1c1Bvc2l0aW9uKGRvYywgcG9zaXRpb24gPSBudWxsKSB7XHJcbiAgICBpZiAoIXBvc2l0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZWxlY3Rpb25BdFN0YXJ0ID0gU2VsZWN0aW9uLmF0U3RhcnQoZG9jKTtcclxuICAgIGNvbnN0IHNlbGVjdGlvbkF0RW5kID0gU2VsZWN0aW9uLmF0RW5kKGRvYyk7XHJcbiAgICBpZiAocG9zaXRpb24gPT09ICdzdGFydCcgfHwgcG9zaXRpb24gPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uQXRTdGFydDtcclxuICAgIH1cclxuICAgIGlmIChwb3NpdGlvbiA9PT0gJ2VuZCcpIHtcclxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uQXRFbmQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBtaW5Qb3MgPSBzZWxlY3Rpb25BdFN0YXJ0LmZyb207XHJcbiAgICBjb25zdCBtYXhQb3MgPSBzZWxlY3Rpb25BdEVuZC50bztcclxuICAgIGlmIChwb3NpdGlvbiA9PT0gJ2FsbCcpIHtcclxuICAgICAgICByZXR1cm4gVGV4dFNlbGVjdGlvbi5jcmVhdGUoZG9jLCBtaW5NYXgoMCwgbWluUG9zLCBtYXhQb3MpLCBtaW5NYXgoZG9jLmNvbnRlbnQuc2l6ZSwgbWluUG9zLCBtYXhQb3MpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIG1pbk1heChwb3NpdGlvbiwgbWluUG9zLCBtYXhQb3MpLCBtaW5NYXgocG9zaXRpb24sIG1pblBvcywgbWF4UG9zKSk7XHJcbn1cblxuZnVuY3Rpb24gaXNpT1MoKSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgICdpUGFkIFNpbXVsYXRvcicsXHJcbiAgICAgICAgJ2lQaG9uZSBTaW11bGF0b3InLFxyXG4gICAgICAgICdpUG9kIFNpbXVsYXRvcicsXHJcbiAgICAgICAgJ2lQYWQnLFxyXG4gICAgICAgICdpUGhvbmUnLFxyXG4gICAgICAgICdpUG9kJyxcclxuICAgIF0uaW5jbHVkZXMobmF2aWdhdG9yLnBsYXRmb3JtKVxyXG4gICAgICAgIC8vIGlQYWQgb24gaU9TIDEzIGRldGVjdGlvblxyXG4gICAgICAgIHx8IChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCdNYWMnKSAmJiAnb250b3VjaGVuZCcgaW4gZG9jdW1lbnQpO1xyXG59XG5cbmNvbnN0IGZvY3VzID0gKHBvc2l0aW9uID0gbnVsbCwgb3B0aW9ucyA9IHt9KSA9PiAoeyBlZGl0b3IsIHZpZXcsIHRyLCBkaXNwYXRjaCwgfSkgPT4ge1xyXG4gICAgb3B0aW9ucyA9IHtcclxuICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcclxuICAgICAgICAuLi5vcHRpb25zLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGRlbGF5ZWRGb2N1cyA9ICgpID0+IHtcclxuICAgICAgICAvLyBmb2N1cyB3aXRoaW4gYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgYnJlYWtzIGZvY3VzIG9uIGlPU1xyXG4gICAgICAgIC8vIHNvIHdlIGhhdmUgdG8gY2FsbCB0aGlzXHJcbiAgICAgICAgaWYgKGlzaU9TKCkpIHtcclxuICAgICAgICAgICAgdmlldy5kb20uZm9jdXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRm9yIFJlYWN0IHdlIGhhdmUgdG8gZm9jdXMgYXN5bmNocm9ub3VzbHkuIE90aGVyd2lzZSB3aWxkIHRoaW5ncyBoYXBwZW4uXHJcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vdWViZXJkb3Npcy90aXB0YXAvaXNzdWVzLzE1MjBcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVkaXRvci5pc0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICAgICAgdmlldy5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zY3JvbGxJbnRvVmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jb21tYW5kcy5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgaWYgKCh2aWV3Lmhhc0ZvY3VzKCkgJiYgcG9zaXRpb24gPT09IG51bGwpIHx8IHBvc2l0aW9uID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gd2UgZG9u4oCZdCB0cnkgdG8gcmVzb2x2ZSBhIE5vZGVTZWxlY3Rpb24gb3IgQ2VsbFNlbGVjdGlvblxyXG4gICAgaWYgKGRpc3BhdGNoICYmIHBvc2l0aW9uID09PSBudWxsICYmICFpc1RleHRTZWxlY3Rpb24oZWRpdG9yLnN0YXRlLnNlbGVjdGlvbikpIHtcclxuICAgICAgICBkZWxheWVkRm9jdXMoKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIHBhc3MgdGhyb3VnaCB0ci5kb2MgaW5zdGVhZCBvZiBlZGl0b3Iuc3RhdGUuZG9jXHJcbiAgICAvLyBzaW5jZSB0cmFuc2FjdGlvbnMgY291bGQgY2hhbmdlIHRoZSBlZGl0b3JzIHN0YXRlIGJlZm9yZSB0aGlzIGNvbW1hbmQgaGFzIGJlZW4gcnVuXHJcbiAgICBjb25zdCBzZWxlY3Rpb24gPSByZXNvbHZlRm9jdXNQb3NpdGlvbih0ci5kb2MsIHBvc2l0aW9uKSB8fCBlZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgY29uc3QgaXNTYW1lU2VsZWN0aW9uID0gZWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5lcShzZWxlY3Rpb24pO1xyXG4gICAgaWYgKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgaWYgKCFpc1NhbWVTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgdHIuc2V0U2VsZWN0aW9uKHNlbGVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGB0ci5zZXRTZWxlY3Rpb25gIHJlc2V0cyB0aGUgc3RvcmVkIG1hcmtzXHJcbiAgICAgICAgLy8gc28gd2XigJlsbCByZXN0b3JlIHRoZW0gaWYgdGhlIHNlbGVjdGlvbiBpcyB0aGUgc2FtZSBhcyBiZWZvcmVcclxuICAgICAgICBpZiAoaXNTYW1lU2VsZWN0aW9uICYmIHRyLnN0b3JlZE1hcmtzKSB7XHJcbiAgICAgICAgICAgIHRyLnNldFN0b3JlZE1hcmtzKHRyLnN0b3JlZE1hcmtzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsYXllZEZvY3VzKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3QgZm9yRWFjaCA9IChpdGVtcywgZm4pID0+IHByb3BzID0+IHtcclxuICAgIHJldHVybiBpdGVtcy5ldmVyeSgoaXRlbSwgaW5kZXgpID0+IGZuKGl0ZW0sIHsgLi4ucHJvcHMsIGluZGV4IH0pKTtcclxufTtcblxuY29uc3QgaW5zZXJ0Q29udGVudCA9ICh2YWx1ZSwgb3B0aW9ucykgPT4gKHsgdHIsIGNvbW1hbmRzIH0pID0+IHtcclxuICAgIHJldHVybiBjb21tYW5kcy5pbnNlcnRDb250ZW50QXQoeyBmcm9tOiB0ci5zZWxlY3Rpb24uZnJvbSwgdG86IHRyLnNlbGVjdGlvbi50byB9LCB2YWx1ZSwgb3B0aW9ucyk7XHJcbn07XG5cbmNvbnN0IHJlbW92ZVdoaXRlc3BhY2VzID0gKG5vZGUpID0+IHtcclxuICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xyXG4gICAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XHJcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDMgJiYgY2hpbGQubm9kZVZhbHVlICYmIC9eKFxcblxcc1xcc3xcXG4pJC8udGVzdChjaGlsZC5ub2RlVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICByZW1vdmVXaGl0ZXNwYWNlcyhjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5vZGU7XHJcbn07XHJcbmZ1bmN0aW9uIGVsZW1lbnRGcm9tU3RyaW5nKHZhbHVlKSB7XHJcbiAgICAvLyBhZGQgYSB3cmFwcGVyIHRvIHByZXNlcnZlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2VcclxuICAgIGNvbnN0IHdyYXBwZWRWYWx1ZSA9IGA8Ym9keT4ke3ZhbHVlfTwvYm9keT5gO1xyXG4gICAgY29uc3QgaHRtbCA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHdyYXBwZWRWYWx1ZSwgJ3RleHQvaHRtbCcpLmJvZHk7XHJcbiAgICByZXR1cm4gcmVtb3ZlV2hpdGVzcGFjZXMoaHRtbCk7XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZUZyb21Db250ZW50KGNvbnRlbnQsIHNjaGVtYSwgb3B0aW9ucykge1xyXG4gICAgb3B0aW9ucyA9IHtcclxuICAgICAgICBzbGljZTogdHJ1ZSxcclxuICAgICAgICBwYXJzZU9wdGlvbnM6IHt9LFxyXG4gICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICB9O1xyXG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0JyAmJiBjb250ZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGVudCkgJiYgY29udGVudC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRnJhZ21lbnQuZnJvbUFycmF5KGNvbnRlbnQubWFwKGl0ZW0gPT4gc2NoZW1hLm5vZGVGcm9tSlNPTihpdGVtKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEubm9kZUZyb21KU09OKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbdGlwdGFwIHdhcm5dOiBJbnZhbGlkIGNvbnRlbnQuJywgJ1Bhc3NlZCB2YWx1ZTonLCBjb250ZW50LCAnRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTm9kZUZyb21Db250ZW50KCcnLCBzY2hlbWEsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBjb25zdCBwYXJzZXIgPSBET01QYXJzZXIuZnJvbVNjaGVtYShzY2hlbWEpO1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zLnNsaWNlXHJcbiAgICAgICAgICAgID8gcGFyc2VyLnBhcnNlU2xpY2UoZWxlbWVudEZyb21TdHJpbmcoY29udGVudCksIG9wdGlvbnMucGFyc2VPcHRpb25zKS5jb250ZW50XHJcbiAgICAgICAgICAgIDogcGFyc2VyLnBhcnNlKGVsZW1lbnRGcm9tU3RyaW5nKGNvbnRlbnQpLCBvcHRpb25zLnBhcnNlT3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3JlYXRlTm9kZUZyb21Db250ZW50KCcnLCBzY2hlbWEsIG9wdGlvbnMpO1xyXG59XG5cbi8vIHNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL1Byb3NlTWlycm9yL3Byb3NlbWlycm9yLXN0YXRlL2Jsb2IvbWFzdGVyL3NyYy9zZWxlY3Rpb24uanMjTDQ2NlxyXG5mdW5jdGlvbiBzZWxlY3Rpb25Ub0luc2VydGlvbkVuZCh0ciwgc3RhcnRMZW4sIGJpYXMpIHtcclxuICAgIGNvbnN0IGxhc3QgPSB0ci5zdGVwcy5sZW5ndGggLSAxO1xyXG4gICAgaWYgKGxhc3QgPCBzdGFydExlbikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0ZXAgPSB0ci5zdGVwc1tsYXN0XTtcclxuICAgIGlmICghKHN0ZXAgaW5zdGFuY2VvZiBSZXBsYWNlU3RlcCB8fCBzdGVwIGluc3RhbmNlb2YgUmVwbGFjZUFyb3VuZFN0ZXApKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWFwID0gdHIubWFwcGluZy5tYXBzW2xhc3RdO1xyXG4gICAgbGV0IGVuZCA9IDA7XHJcbiAgICBtYXAuZm9yRWFjaCgoX2Zyb20sIF90bywgX25ld0Zyb20sIG5ld1RvKSA9PiB7XHJcbiAgICAgICAgaWYgKGVuZCA9PT0gMCkge1xyXG4gICAgICAgICAgICBlbmQgPSBuZXdUbztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRyLnNldFNlbGVjdGlvbihTZWxlY3Rpb24ubmVhcih0ci5kb2MucmVzb2x2ZShlbmQpLCBiaWFzKSk7XHJcbn1cblxuY29uc3QgaXNGcmFnbWVudCA9IChub2RlT3JGcmFnbWVudCkgPT4ge1xyXG4gICAgcmV0dXJuIG5vZGVPckZyYWdtZW50LnRvU3RyaW5nKCkuc3RhcnRzV2l0aCgnPCcpO1xyXG59O1xyXG5jb25zdCBpbnNlcnRDb250ZW50QXQgPSAocG9zaXRpb24sIHZhbHVlLCBvcHRpb25zKSA9PiAoeyB0ciwgZGlzcGF0Y2gsIGVkaXRvciB9KSA9PiB7XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBvcHRpb25zID0ge1xyXG4gICAgICAgICAgICBwYXJzZU9wdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICB1cGRhdGVTZWxlY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gY3JlYXRlTm9kZUZyb21Db250ZW50KHZhbHVlLCBlZGl0b3Iuc2NoZW1hLCB7XHJcbiAgICAgICAgICAgIHBhcnNlT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlOiAnZnVsbCcsXHJcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLnBhcnNlT3B0aW9ucyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBkb27igJl0IGRpc3BhdGNoIGFuIGVtcHR5IGZyYWdtZW50IGJlY2F1c2UgdGhpcyBjYW4gbGVhZCB0byBzdHJhbmdlIGVycm9yc1xyXG4gICAgICAgIGlmIChjb250ZW50LnRvU3RyaW5nKCkgPT09ICc8PicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0eXBlb2YgcG9zaXRpb24gPT09ICdudW1iZXInID8geyBmcm9tOiBwb3NpdGlvbiwgdG86IHBvc2l0aW9uIH0gOiB7IGZyb206IHBvc2l0aW9uLmZyb20sIHRvOiBwb3NpdGlvbi50byB9O1xyXG4gICAgICAgIGxldCBpc09ubHlUZXh0Q29udGVudCA9IHRydWU7XHJcbiAgICAgICAgbGV0IGlzT25seUJsb2NrQ29udGVudCA9IHRydWU7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSBpc0ZyYWdtZW50KGNvbnRlbnQpID8gY29udGVudCA6IFtjb250ZW50XTtcclxuICAgICAgICBub2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xyXG4gICAgICAgICAgICAvLyBjaGVjayBpZiBhZGRlZCBub2RlIGlzIHZhbGlkXHJcbiAgICAgICAgICAgIG5vZGUuY2hlY2soKTtcclxuICAgICAgICAgICAgaXNPbmx5VGV4dENvbnRlbnQgPSBpc09ubHlUZXh0Q29udGVudCA/IG5vZGUuaXNUZXh0ICYmIG5vZGUubWFya3MubGVuZ3RoID09PSAwIDogZmFsc2U7XHJcbiAgICAgICAgICAgIGlzT25seUJsb2NrQ29udGVudCA9IGlzT25seUJsb2NrQ29udGVudCA/IG5vZGUuaXNCbG9jayA6IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNoZWNrIGlmIHdlIGNhbiByZXBsYWNlIHRoZSB3cmFwcGluZyBub2RlIGJ5XHJcbiAgICAgICAgLy8gdGhlIG5ld2x5IGluc2VydGVkIGNvbnRlbnRcclxuICAgICAgICAvLyBleGFtcGxlOlxyXG4gICAgICAgIC8vIHJlcGxhY2UgYW4gZW1wdHkgcGFyYWdyYXBoIGJ5IGFuIGluc2VydGVkIGltYWdlXHJcbiAgICAgICAgLy8gaW5zdGVhZCBvZiBpbnNlcnRpbmcgdGhlIGltYWdlIGJlbG93IHRoZSBwYXJhZ3JhcGhcclxuICAgICAgICBpZiAoZnJvbSA9PT0gdG8gJiYgaXNPbmx5QmxvY2tDb250ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgcGFyZW50IH0gPSB0ci5kb2MucmVzb2x2ZShmcm9tKTtcclxuICAgICAgICAgICAgY29uc3QgaXNFbXB0eVRleHRCbG9jayA9IHBhcmVudC5pc1RleHRibG9jayAmJiAhcGFyZW50LnR5cGUuc3BlYy5jb2RlICYmICFwYXJlbnQuY2hpbGRDb3VudDtcclxuICAgICAgICAgICAgaWYgKGlzRW1wdHlUZXh0QmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGZyb20gLT0gMTtcclxuICAgICAgICAgICAgICAgIHRvICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBwbGFpbiB0ZXh0IHdlIGhhdmUgdG8gdXNlIGBpbnNlcnRUZXh0YFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyB3aWxsIGtlZXAgdGhlIGN1cnJlbnQgbWFya3NcclxuICAgICAgICBpZiAoaXNPbmx5VGV4dENvbnRlbnQpIHtcclxuICAgICAgICAgICAgLy8gaWYgdmFsdWUgaXMgc3RyaW5nLCB3ZSBjYW4gdXNlIGl0IGRpcmVjdGx5XHJcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpZiBpdCBpcyBhbiBhcnJheSwgd2UgaGF2ZSB0byBqb2luIGl0XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdHIuaW5zZXJ0VGV4dCh2YWx1ZS5tYXAodiA9PiB2LnRleHQgfHwgJycpLmpvaW4oJycpLCBmcm9tLCB0byk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhIXZhbHVlICYmICEhdmFsdWUudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdHIuaW5zZXJ0VGV4dCh2YWx1ZS50ZXh0LCBmcm9tLCB0byk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ci5pbnNlcnRUZXh0KHZhbHVlLCBmcm9tLCB0byk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRyLnJlcGxhY2VXaXRoKGZyb20sIHRvLCBjb250ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0IGN1cnNvciBhdCBlbmQgb2YgaW5zZXJ0ZWQgY29udGVudFxyXG4gICAgICAgIGlmIChvcHRpb25zLnVwZGF0ZVNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICBzZWxlY3Rpb25Ub0luc2VydGlvbkVuZCh0ciwgdHIuc3RlcHMubGVuZ3RoIC0gMSwgLTEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBqb2luVXAgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIGpvaW5VcCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XHJcbmNvbnN0IGpvaW5Eb3duID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBqb2luRG93biQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XHJcbmNvbnN0IGpvaW5CYWNrd2FyZCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gam9pbkJhY2t3YXJkJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcclxuY29uc3Qgam9pbkZvcndhcmQgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIGpvaW5Gb3J3YXJkJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxuY29uc3Qgam9pbkl0ZW1CYWNrd2FyZCA9ICgpID0+ICh7IHRyLCBzdGF0ZSwgZGlzcGF0Y2gsIH0pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSBqb2luUG9pbnQoc3RhdGUuZG9jLCBzdGF0ZS5zZWxlY3Rpb24uJGZyb20ucG9zLCAtMSk7XHJcbiAgICAgICAgaWYgKHBvaW50ID09PSBudWxsIHx8IHBvaW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ci5qb2luKHBvaW50LCAyKTtcclxuICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2godHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNhdGNoIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XG5cbmNvbnN0IGpvaW5JdGVtRm9yd2FyZCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCwgdHIsIH0pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSBqb2luUG9pbnQoc3RhdGUuZG9jLCBzdGF0ZS5zZWxlY3Rpb24uJGZyb20ucG9zLCArMSk7XHJcbiAgICAgICAgaWYgKHBvaW50ID09PSBudWxsIHx8IHBvaW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ci5qb2luKHBvaW50LCAyKTtcclxuICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2godHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xuXG5jb25zdCBqb2luVGV4dGJsb2NrQmFja3dhcmQgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIGpvaW5UZXh0YmxvY2tCYWNrd2FyZCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IGpvaW5UZXh0YmxvY2tGb3J3YXJkID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBqb2luVGV4dGJsb2NrRm9yd2FyZCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmZ1bmN0aW9uIGlzTWFjT1MoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCdcclxuICAgICAgICA/IC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxyXG4gICAgICAgIDogZmFsc2U7XHJcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lKSB7XHJcbiAgICBjb25zdCBwYXJ0cyA9IG5hbWUuc3BsaXQoLy0oPyEkKS8pO1xyXG4gICAgbGV0IHJlc3VsdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgaWYgKHJlc3VsdCA9PT0gJ1NwYWNlJykge1xyXG4gICAgICAgIHJlc3VsdCA9ICcgJztcclxuICAgIH1cclxuICAgIGxldCBhbHQ7XHJcbiAgICBsZXQgY3RybDtcclxuICAgIGxldCBzaGlmdDtcclxuICAgIGxldCBtZXRhO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCBtb2QgPSBwYXJ0c1tpXTtcclxuICAgICAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKSB7XHJcbiAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpIHtcclxuICAgICAgICAgICAgYWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QobW9kKSkge1xyXG4gICAgICAgICAgICBjdHJsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoL15zKGhpZnQpPyQvaS50ZXN0KG1vZCkpIHtcclxuICAgICAgICAgICAgc2hpZnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgvXm1vZCQvaS50ZXN0KG1vZCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzaU9TKCkgfHwgaXNNYWNPUygpKSB7XHJcbiAgICAgICAgICAgICAgICBtZXRhID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0cmwgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiAke21vZH1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoYWx0KSB7XHJcbiAgICAgICAgcmVzdWx0ID0gYEFsdC0ke3Jlc3VsdH1gO1xyXG4gICAgfVxyXG4gICAgaWYgKGN0cmwpIHtcclxuICAgICAgICByZXN1bHQgPSBgQ3RybC0ke3Jlc3VsdH1gO1xyXG4gICAgfVxyXG4gICAgaWYgKG1ldGEpIHtcclxuICAgICAgICByZXN1bHQgPSBgTWV0YS0ke3Jlc3VsdH1gO1xyXG4gICAgfVxyXG4gICAgaWYgKHNoaWZ0KSB7XHJcbiAgICAgICAgcmVzdWx0ID0gYFNoaWZ0LSR7cmVzdWx0fWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmNvbnN0IGtleWJvYXJkU2hvcnRjdXQgPSBuYW1lID0+ICh7IGVkaXRvciwgdmlldywgdHIsIGRpc3BhdGNoLCB9KSA9PiB7XHJcbiAgICBjb25zdCBrZXlzID0gbm9ybWFsaXplS2V5TmFtZShuYW1lKS5zcGxpdCgvLSg/ISQpLyk7XHJcbiAgICBjb25zdCBrZXkgPSBrZXlzLmZpbmQoaXRlbSA9PiAhWydBbHQnLCAnQ3RybCcsICdNZXRhJywgJ1NoaWZ0J10uaW5jbHVkZXMoaXRlbSkpO1xyXG4gICAgY29uc3QgZXZlbnQgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5ZG93bicsIHtcclxuICAgICAgICBrZXk6IGtleSA9PT0gJ1NwYWNlJ1xyXG4gICAgICAgICAgICA/ICcgJ1xyXG4gICAgICAgICAgICA6IGtleSxcclxuICAgICAgICBhbHRLZXk6IGtleXMuaW5jbHVkZXMoJ0FsdCcpLFxyXG4gICAgICAgIGN0cmxLZXk6IGtleXMuaW5jbHVkZXMoJ0N0cmwnKSxcclxuICAgICAgICBtZXRhS2V5OiBrZXlzLmluY2x1ZGVzKCdNZXRhJyksXHJcbiAgICAgICAgc2hpZnRLZXk6IGtleXMuaW5jbHVkZXMoJ1NoaWZ0JyksXHJcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjYXB0dXJlZFRyYW5zYWN0aW9uID0gZWRpdG9yLmNhcHR1cmVUcmFuc2FjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgdmlldy5zb21lUHJvcCgnaGFuZGxlS2V5RG93bicsIGYgPT4gZih2aWV3LCBldmVudCkpO1xyXG4gICAgfSk7XHJcbiAgICBjYXB0dXJlZFRyYW5zYWN0aW9uID09PSBudWxsIHx8IGNhcHR1cmVkVHJhbnNhY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhcHR1cmVkVHJhbnNhY3Rpb24uc3RlcHMuZm9yRWFjaChzdGVwID0+IHtcclxuICAgICAgICBjb25zdCBuZXdTdGVwID0gc3RlcC5tYXAodHIubWFwcGluZyk7XHJcbiAgICAgICAgaWYgKG5ld1N0ZXAgJiYgZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgdHIubWF5YmVTdGVwKG5ld1N0ZXApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmZ1bmN0aW9uIGlzTm9kZUFjdGl2ZShzdGF0ZSwgdHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGZyb20sIHRvLCBlbXB0eSB9ID0gc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgY29uc3QgdHlwZSA9IHR5cGVPck5hbWUgPyBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpIDogbnVsbDtcclxuICAgIGNvbnN0IG5vZGVSYW5nZXMgPSBbXTtcclxuICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcclxuICAgICAgICBpZiAobm9kZS5pc1RleHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZWxhdGl2ZUZyb20gPSBNYXRoLm1heChmcm9tLCBwb3MpO1xyXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlVG8gPSBNYXRoLm1pbih0bywgcG9zICsgbm9kZS5ub2RlU2l6ZSk7XHJcbiAgICAgICAgbm9kZVJhbmdlcy5wdXNoKHtcclxuICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgZnJvbTogcmVsYXRpdmVGcm9tLFxyXG4gICAgICAgICAgICB0bzogcmVsYXRpdmVUbyxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uUmFuZ2UgPSB0byAtIGZyb207XHJcbiAgICBjb25zdCBtYXRjaGVkTm9kZVJhbmdlcyA9IG5vZGVSYW5nZXNcclxuICAgICAgICAuZmlsdGVyKG5vZGVSYW5nZSA9PiB7XHJcbiAgICAgICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZS5uYW1lID09PSBub2RlUmFuZ2Uubm9kZS50eXBlLm5hbWU7XHJcbiAgICB9KVxyXG4gICAgICAgIC5maWx0ZXIobm9kZVJhbmdlID0+IG9iamVjdEluY2x1ZGVzKG5vZGVSYW5nZS5ub2RlLmF0dHJzLCBhdHRyaWJ1dGVzLCB7IHN0cmljdDogZmFsc2UgfSkpO1xyXG4gICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlZE5vZGVSYW5nZXMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmFuZ2UgPSBtYXRjaGVkTm9kZVJhbmdlcy5yZWR1Y2UoKHN1bSwgbm9kZVJhbmdlKSA9PiBzdW0gKyBub2RlUmFuZ2UudG8gLSBub2RlUmFuZ2UuZnJvbSwgMCk7XHJcbiAgICByZXR1cm4gcmFuZ2UgPj0gc2VsZWN0aW9uUmFuZ2U7XHJcbn1cblxuY29uc3QgbGlmdCA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gaXNOb2RlQWN0aXZlKHN0YXRlLCB0eXBlLCBhdHRyaWJ1dGVzKTtcclxuICAgIGlmICghaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlmdCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IGxpZnRFbXB0eUJsb2NrID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBsaWZ0RW1wdHlCbG9jayQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IGxpZnRMaXN0SXRlbSA9IHR5cGVPck5hbWUgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgcmV0dXJuIGxpZnRMaXN0SXRlbSQxKHR5cGUpKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IG5ld2xpbmVJbkNvZGUgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIG5ld2xpbmVJbkNvZGUkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG5mdW5jdGlvbiBnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZShuYW1lLCBzY2hlbWEpIHtcclxuICAgIGlmIChzY2hlbWEubm9kZXNbbmFtZV0pIHtcclxuICAgICAgICByZXR1cm4gJ25vZGUnO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjaGVtYS5tYXJrc1tuYW1lXSkge1xyXG4gICAgICAgIHJldHVybiAnbWFyayc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxuXG4vKipcclxuICogUmVtb3ZlIGEgcHJvcGVydHkgb3IgYW4gYXJyYXkgb2YgcHJvcGVydGllcyBmcm9tIGFuIG9iamVjdFxyXG4gKiBAcGFyYW0gb2JqIE9iamVjdFxyXG4gKiBAcGFyYW0ga2V5IEtleSB0byByZW1vdmVcclxuICovXHJcbmZ1bmN0aW9uIGRlbGV0ZVByb3BzKG9iaiwgcHJvcE9yUHJvcHMpIHtcclxuICAgIGNvbnN0IHByb3BzID0gdHlwZW9mIHByb3BPclByb3BzID09PSAnc3RyaW5nJ1xyXG4gICAgICAgID8gW3Byb3BPclByb3BzXVxyXG4gICAgICAgIDogcHJvcE9yUHJvcHM7XHJcbiAgICByZXR1cm4gT2JqZWN0XHJcbiAgICAgICAgLmtleXMob2JqKVxyXG4gICAgICAgIC5yZWR1Y2UoKG5ld09iaiwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghcHJvcHMuaW5jbHVkZXMocHJvcCkpIHtcclxuICAgICAgICAgICAgbmV3T2JqW3Byb3BdID0gb2JqW3Byb3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3T2JqO1xyXG4gICAgfSwge30pO1xyXG59XG5cbmNvbnN0IHJlc2V0QXR0cmlidXRlcyA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzKSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGxldCBub2RlVHlwZSA9IG51bGw7XHJcbiAgICBsZXQgbWFya1R5cGUgPSBudWxsO1xyXG4gICAgY29uc3Qgc2NoZW1hVHlwZSA9IGdldFNjaGVtYVR5cGVOYW1lQnlOYW1lKHR5cGVvZiB0eXBlT3JOYW1lID09PSAnc3RyaW5nJyA/IHR5cGVPck5hbWUgOiB0eXBlT3JOYW1lLm5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBpZiAoIXNjaGVtYVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoc2NoZW1hVHlwZSA9PT0gJ25vZGUnKSB7XHJcbiAgICAgICAgbm9kZVR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjaGVtYVR5cGUgPT09ICdtYXJrJykge1xyXG4gICAgICAgIG1hcmtUeXBlID0gZ2V0TWFya1R5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIH1cclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIHRyLnNlbGVjdGlvbi5yYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4ocmFuZ2UuJGZyb20ucG9zLCByYW5nZS4kdG8ucG9zLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgJiYgbm9kZVR5cGUgPT09IG5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIGRlbGV0ZVByb3BzKG5vZGUuYXR0cnMsIGF0dHJpYnV0ZXMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChtYXJrVHlwZSAmJiBub2RlLm1hcmtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUubWFya3MuZm9yRWFjaChtYXJrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtUeXBlID09PSBtYXJrLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFkZE1hcmsocG9zLCBwb3MgKyBub2RlLm5vZGVTaXplLCBtYXJrVHlwZS5jcmVhdGUoZGVsZXRlUHJvcHMobWFyay5hdHRycywgYXR0cmlidXRlcykpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBzY3JvbGxJbnRvVmlldyA9ICgpID0+ICh7IHRyLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICB0ci5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IHNlbGVjdEFsbCA9ICgpID0+ICh7IHRyLCBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICByZXR1cm4gY29tbWFuZHMuc2V0VGV4dFNlbGVjdGlvbih7XHJcbiAgICAgICAgZnJvbTogMCxcclxuICAgICAgICB0bzogdHIuZG9jLmNvbnRlbnQuc2l6ZSxcclxuICAgIH0pO1xyXG59O1xuXG5jb25zdCBzZWxlY3ROb2RlQmFja3dhcmQgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIHNlbGVjdE5vZGVCYWNrd2FyZCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IHNlbGVjdE5vZGVGb3J3YXJkID0gKCkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIHJldHVybiBzZWxlY3ROb2RlRm9yd2FyZCQxKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmNvbnN0IHNlbGVjdFBhcmVudE5vZGUgPSAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgcmV0dXJuIHNlbGVjdFBhcmVudE5vZGUkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG4vLyBAdHMtaWdub3JlXHJcbmNvbnN0IHNlbGVjdFRleHRibG9ja0VuZCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gc2VsZWN0VGV4dGJsb2NrRW5kJDEoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxuLy8gQHRzLWlnbm9yZVxyXG5jb25zdCBzZWxlY3RUZXh0YmxvY2tTdGFydCA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICByZXR1cm4gc2VsZWN0VGV4dGJsb2NrU3RhcnQkMShzdGF0ZSwgZGlzcGF0Y2gpO1xyXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVEb2N1bWVudChjb250ZW50LCBzY2hlbWEsIHBhcnNlT3B0aW9ucyA9IHt9KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlTm9kZUZyb21Db250ZW50KGNvbnRlbnQsIHNjaGVtYSwgeyBzbGljZTogZmFsc2UsIHBhcnNlT3B0aW9ucyB9KTtcclxufVxuXG5jb25zdCBzZXRDb250ZW50ID0gKGNvbnRlbnQsIGVtaXRVcGRhdGUgPSBmYWxzZSwgcGFyc2VPcHRpb25zID0ge30pID0+ICh7IHRyLCBlZGl0b3IsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHsgZG9jIH0gPSB0cjtcclxuICAgIGNvbnN0IGRvY3VtZW50ID0gY3JlYXRlRG9jdW1lbnQoY29udGVudCwgZWRpdG9yLnNjaGVtYSwgcGFyc2VPcHRpb25zKTtcclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIHRyLnJlcGxhY2VXaXRoKDAsIGRvYy5jb250ZW50LnNpemUsIGRvY3VtZW50KS5zZXRNZXRhKCdwcmV2ZW50VXBkYXRlJywgIWVtaXRVcGRhdGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmZ1bmN0aW9uIGdldE1hcmtBdHRyaWJ1dGVzKHN0YXRlLCB0eXBlT3JOYW1lKSB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0TWFya1R5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IHsgZnJvbSwgdG8sIGVtcHR5IH0gPSBzdGF0ZS5zZWxlY3Rpb247XHJcbiAgICBjb25zdCBtYXJrcyA9IFtdO1xyXG4gICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgaWYgKHN0YXRlLnN0b3JlZE1hcmtzKSB7XHJcbiAgICAgICAgICAgIG1hcmtzLnB1c2goLi4uc3RhdGUuc3RvcmVkTWFya3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtYXJrcy5wdXNoKC4uLnN0YXRlLnNlbGVjdGlvbi4kaGVhZC5tYXJrcygpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIG5vZGUgPT4ge1xyXG4gICAgICAgICAgICBtYXJrcy5wdXNoKC4uLm5vZGUubWFya3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbWFyayA9IG1hcmtzLmZpbmQobWFya0l0ZW0gPT4gbWFya0l0ZW0udHlwZS5uYW1lID09PSB0eXBlLm5hbWUpO1xyXG4gICAgaWYgKCFtYXJrKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgLi4ubWFyay5hdHRycyB9O1xyXG59XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGEgbmV3IGBUcmFuc2Zvcm1gIGJhc2VkIG9uIGFsbCBzdGVwcyBvZiB0aGUgcGFzc2VkIHRyYW5zYWN0aW9ucy5cclxuICovXHJcbmZ1bmN0aW9uIGNvbWJpbmVUcmFuc2FjdGlvblN0ZXBzKG9sZERvYywgdHJhbnNhY3Rpb25zKSB7XHJcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKG9sZERvYyk7XHJcbiAgICB0cmFuc2FjdGlvbnMuZm9yRWFjaCh0cmFuc2FjdGlvbiA9PiB7XHJcbiAgICAgICAgdHJhbnNhY3Rpb24uc3RlcHMuZm9yRWFjaChzdGVwID0+IHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtLnN0ZXAoc3RlcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cmFuc2Zvcm07XHJcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJsb2NrQXQobWF0Y2gpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2guZWRnZUNvdW50OyBpICs9IDEpIHtcclxuICAgICAgICBjb25zdCB7IHR5cGUgfSA9IG1hdGNoLmVkZ2UoaSk7XHJcbiAgICAgICAgaWYgKHR5cGUuaXNUZXh0YmxvY2sgJiYgIXR5cGUuaGFzUmVxdWlyZWRBdHRycygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XG5cbmZ1bmN0aW9uIGZpbmRDaGlsZHJlbihub2RlLCBwcmVkaWNhdGUpIHtcclxuICAgIGNvbnN0IG5vZGVzV2l0aFBvcyA9IFtdO1xyXG4gICAgbm9kZS5kZXNjZW5kYW50cygoY2hpbGQsIHBvcykgPT4ge1xyXG4gICAgICAgIGlmIChwcmVkaWNhdGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIG5vZGVzV2l0aFBvcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgICAgICAgcG9zLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBub2Rlc1dpdGhQb3M7XHJcbn1cblxuLyoqXHJcbiAqIFNhbWUgYXMgYGZpbmRDaGlsZHJlbmAgYnV0IHNlYXJjaGVzIG9ubHkgd2l0aGluIGEgYHJhbmdlYC5cclxuICovXHJcbmZ1bmN0aW9uIGZpbmRDaGlsZHJlbkluUmFuZ2Uobm9kZSwgcmFuZ2UsIHByZWRpY2F0ZSkge1xyXG4gICAgY29uc3Qgbm9kZXNXaXRoUG9zID0gW107XHJcbiAgICAvLyBpZiAocmFuZ2UuZnJvbSA9PT0gcmFuZ2UudG8pIHtcclxuICAgIC8vICAgY29uc3Qgbm9kZUF0ID0gbm9kZS5ub2RlQXQocmFuZ2UuZnJvbSlcclxuICAgIC8vICAgaWYgKG5vZGVBdCkge1xyXG4gICAgLy8gICAgIG5vZGVzV2l0aFBvcy5wdXNoKHtcclxuICAgIC8vICAgICAgIG5vZGU6IG5vZGVBdCxcclxuICAgIC8vICAgICAgIHBvczogcmFuZ2UuZnJvbSxcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9XHJcbiAgICBub2RlLm5vZGVzQmV0d2VlbihyYW5nZS5mcm9tLCByYW5nZS50bywgKGNoaWxkLCBwb3MpID0+IHtcclxuICAgICAgICBpZiAocHJlZGljYXRlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICBub2Rlc1dpdGhQb3MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBub2RlOiBjaGlsZCxcclxuICAgICAgICAgICAgICAgIHBvcyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbm9kZXNXaXRoUG9zO1xyXG59XG5cbmZ1bmN0aW9uIGZpbmRQYXJlbnROb2RlQ2xvc2VzdFRvUG9zKCRwb3MsIHByZWRpY2F0ZSkge1xyXG4gICAgZm9yIChsZXQgaSA9ICRwb3MuZGVwdGg7IGkgPiAwOyBpIC09IDEpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gJHBvcy5ub2RlKGkpO1xyXG4gICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBvczogaSA+IDAgPyAkcG9zLmJlZm9yZShpKSA6IDAsXHJcbiAgICAgICAgICAgICAgICBzdGFydDogJHBvcy5zdGFydChpKSxcclxuICAgICAgICAgICAgICAgIGRlcHRoOiBpLFxyXG4gICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gZmluZFBhcmVudE5vZGUocHJlZGljYXRlKSB7XHJcbiAgICByZXR1cm4gKHNlbGVjdGlvbikgPT4gZmluZFBhcmVudE5vZGVDbG9zZXN0VG9Qb3Moc2VsZWN0aW9uLiRmcm9tLCBwcmVkaWNhdGUpO1xyXG59XG5cbmZ1bmN0aW9uIGdldEhUTUxGcm9tRnJhZ21lbnQoZnJhZ21lbnQsIHNjaGVtYSkge1xyXG4gICAgY29uc3QgZG9jdW1lbnRGcmFnbWVudCA9IERPTVNlcmlhbGl6ZXIuZnJvbVNjaGVtYShzY2hlbWEpLnNlcmlhbGl6ZUZyYWdtZW50KGZyYWdtZW50KTtcclxuICAgIGNvbnN0IHRlbXBvcmFyeURvY3VtZW50ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCk7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSB0ZW1wb3JhcnlEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkb2N1bWVudEZyYWdtZW50KTtcclxuICAgIHJldHVybiBjb250YWluZXIuaW5uZXJIVE1MO1xyXG59XG5cbmZ1bmN0aW9uIGdldFNjaGVtYShleHRlbnNpb25zLCBlZGl0b3IpIHtcclxuICAgIGNvbnN0IHJlc29sdmVkRXh0ZW5zaW9ucyA9IEV4dGVuc2lvbk1hbmFnZXIucmVzb2x2ZShleHRlbnNpb25zKTtcclxuICAgIHJldHVybiBnZXRTY2hlbWFCeVJlc29sdmVkRXh0ZW5zaW9ucyhyZXNvbHZlZEV4dGVuc2lvbnMsIGVkaXRvcik7XHJcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVIVE1MKGRvYywgZXh0ZW5zaW9ucykge1xyXG4gICAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgY29udGVudE5vZGUgPSBOb2RlJDEuZnJvbUpTT04oc2NoZW1hLCBkb2MpO1xyXG4gICAgcmV0dXJuIGdldEhUTUxGcm9tRnJhZ21lbnQoY29udGVudE5vZGUuY29udGVudCwgc2NoZW1hKTtcclxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUpTT04oaHRtbCwgZXh0ZW5zaW9ucykge1xyXG4gICAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgZG9tID0gZWxlbWVudEZyb21TdHJpbmcoaHRtbCk7XHJcbiAgICByZXR1cm4gRE9NUGFyc2VyLmZyb21TY2hlbWEoc2NoZW1hKS5wYXJzZShkb20pLnRvSlNPTigpO1xyXG59XG5cbmZ1bmN0aW9uIGdldFRleHQobm9kZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgcmFuZ2UgPSB7XHJcbiAgICAgICAgZnJvbTogMCxcclxuICAgICAgICB0bzogbm9kZS5jb250ZW50LnNpemUsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGdldFRleHRCZXR3ZWVuKG5vZGUsIHJhbmdlLCBvcHRpb25zKTtcclxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRleHQoZG9jLCBleHRlbnNpb25zLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7IGJsb2NrU2VwYXJhdG9yID0gJ1xcblxcbicsIHRleHRTZXJpYWxpemVycyA9IHt9IH0gPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgY29uc3Qgc2NoZW1hID0gZ2V0U2NoZW1hKGV4dGVuc2lvbnMpO1xyXG4gICAgY29uc3QgY29udGVudE5vZGUgPSBOb2RlJDEuZnJvbUpTT04oc2NoZW1hLCBkb2MpO1xyXG4gICAgcmV0dXJuIGdldFRleHQoY29udGVudE5vZGUsIHtcclxuICAgICAgICBibG9ja1NlcGFyYXRvcixcclxuICAgICAgICB0ZXh0U2VyaWFsaXplcnM6IHtcclxuICAgICAgICAgICAgLi4uZ2V0VGV4dFNlcmlhbGl6ZXJzRnJvbVNjaGVtYShzY2hlbWEpLFxyXG4gICAgICAgICAgICAuLi50ZXh0U2VyaWFsaXplcnMsXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIGdldE5vZGVBdHRyaWJ1dGVzKHN0YXRlLCB0eXBlT3JOYW1lKSB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHN0YXRlLnNlbGVjdGlvbjtcclxuICAgIGNvbnN0IG5vZGVzID0gW107XHJcbiAgICBzdGF0ZS5kb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCBub2RlID0+IHtcclxuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBub2RlID0gbm9kZXMucmV2ZXJzZSgpLmZpbmQobm9kZUl0ZW0gPT4gbm9kZUl0ZW0udHlwZS5uYW1lID09PSB0eXBlLm5hbWUpO1xyXG4gICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgLi4ubm9kZS5hdHRycyB9O1xyXG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZXMoc3RhdGUsIHR5cGVPck5hbWUpIHtcclxuICAgIGNvbnN0IHNjaGVtYVR5cGUgPSBnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZSh0eXBlb2YgdHlwZU9yTmFtZSA9PT0gJ3N0cmluZycgPyB0eXBlT3JOYW1lIDogdHlwZU9yTmFtZS5uYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgaWYgKHNjaGVtYVR5cGUgPT09ICdub2RlJykge1xyXG4gICAgICAgIHJldHVybiBnZXROb2RlQXR0cmlidXRlcyhzdGF0ZSwgdHlwZU9yTmFtZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2NoZW1hVHlwZSA9PT0gJ21hcmsnKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldE1hcmtBdHRyaWJ1dGVzKHN0YXRlLCB0eXBlT3JOYW1lKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7fTtcclxufVxuXG4vKipcclxuICogUmVtb3ZlcyBkdXBsaWNhdGVkIHZhbHVlcyB3aXRoaW4gYW4gYXJyYXkuXHJcbiAqIFN1cHBvcnRzIG51bWJlcnMsIHN0cmluZ3MgYW5kIG9iamVjdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVEdXBsaWNhdGVzKGFycmF5LCBieSA9IEpTT04uc3RyaW5naWZ5KSB7XHJcbiAgICBjb25zdCBzZWVuID0ge307XHJcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGJ5KGl0ZW0pO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2Vlbiwga2V5KVxyXG4gICAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICAgIDogKHNlZW5ba2V5XSA9IHRydWUpO1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIFJlbW92ZXMgZHVwbGljYXRlZCByYW5nZXMgYW5kIHJhbmdlcyB0aGF0IGFyZVxyXG4gKiBmdWxseSBjYXB0dXJlZCBieSBvdGhlciByYW5nZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzaW1wbGlmeUNoYW5nZWRSYW5nZXMoY2hhbmdlcykge1xyXG4gICAgY29uc3QgdW5pcXVlQ2hhbmdlcyA9IHJlbW92ZUR1cGxpY2F0ZXMoY2hhbmdlcyk7XHJcbiAgICByZXR1cm4gdW5pcXVlQ2hhbmdlcy5sZW5ndGggPT09IDFcclxuICAgICAgICA/IHVuaXF1ZUNoYW5nZXNcclxuICAgICAgICA6IHVuaXF1ZUNoYW5nZXMuZmlsdGVyKChjaGFuZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3QgPSB1bmlxdWVDaGFuZ2VzLmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gIXJlc3Quc29tZShvdGhlckNoYW5nZSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlLm9sZFJhbmdlLmZyb20gPj0gb3RoZXJDaGFuZ2Uub2xkUmFuZ2UuZnJvbVxyXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZS5vbGRSYW5nZS50byA8PSBvdGhlckNoYW5nZS5vbGRSYW5nZS50b1xyXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZS5uZXdSYW5nZS5mcm9tID49IG90aGVyQ2hhbmdlLm5ld1JhbmdlLmZyb21cclxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2UubmV3UmFuZ2UudG8gPD0gb3RoZXJDaGFuZ2UubmV3UmFuZ2UudG87XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBjaGFuZ2VkIHJhbmdlc1xyXG4gKiBiYXNlZCBvbiB0aGUgZmlyc3QgYW5kIGxhc3Qgc3RhdGUgb2YgYWxsIHN0ZXBzLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q2hhbmdlZFJhbmdlcyh0cmFuc2Zvcm0pIHtcclxuICAgIGNvbnN0IHsgbWFwcGluZywgc3RlcHMgfSA9IHRyYW5zZm9ybTtcclxuICAgIGNvbnN0IGNoYW5nZXMgPSBbXTtcclxuICAgIG1hcHBpbmcubWFwcy5mb3JFYWNoKChzdGVwTWFwLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IFtdO1xyXG4gICAgICAgIC8vIFRoaXMgYWNjb3VudHMgZm9yIHN0ZXAgY2hhbmdlcyB3aGVyZSBubyByYW5nZSB3YXMgYWN0dWFsbHkgYWx0ZXJlZFxyXG4gICAgICAgIC8vIGUuZy4gd2hlbiBzZXR0aW5nIGEgbWFyaywgbm9kZSBhdHRyaWJ1dGUsIGV0Yy5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgaWYgKCFzdGVwTWFwLnJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gc3RlcHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkIHx8IHRvID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb20sIHRvIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3RlcE1hcC5mb3JFYWNoKChmcm9tLCB0bykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tLCB0byB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJhbmdlcy5mb3JFYWNoKCh7IGZyb20sIHRvIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3U3RhcnQgPSBtYXBwaW5nLnNsaWNlKGluZGV4KS5tYXAoZnJvbSwgLTEpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFbmQgPSBtYXBwaW5nLnNsaWNlKGluZGV4KS5tYXAodG8pO1xyXG4gICAgICAgICAgICBjb25zdCBvbGRTdGFydCA9IG1hcHBpbmcuaW52ZXJ0KCkubWFwKG5ld1N0YXJ0LCAtMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZEVuZCA9IG1hcHBpbmcuaW52ZXJ0KCkubWFwKG5ld0VuZCk7XHJcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBvbGRSYW5nZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IG9sZFN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRvOiBvbGRFbmQsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbmV3UmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBuZXdTdGFydCxcclxuICAgICAgICAgICAgICAgICAgICB0bzogbmV3RW5kLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzaW1wbGlmeUNoYW5nZWRSYW5nZXMoY2hhbmdlcyk7XHJcbn1cblxuZnVuY3Rpb24gZ2V0RGVidWdKU09OKG5vZGUsIHN0YXJ0T2Zmc2V0ID0gMCkge1xyXG4gICAgY29uc3QgaXNUb3BOb2RlID0gbm9kZS50eXBlID09PSBub2RlLnR5cGUuc2NoZW1hLnRvcE5vZGVUeXBlO1xyXG4gICAgY29uc3QgaW5jcmVtZW50ID0gaXNUb3BOb2RlID8gMCA6IDE7XHJcbiAgICBjb25zdCBmcm9tID0gc3RhcnRPZmZzZXQ7XHJcbiAgICBjb25zdCB0byA9IGZyb20gKyBub2RlLm5vZGVTaXplO1xyXG4gICAgY29uc3QgbWFya3MgPSBub2RlLm1hcmtzLm1hcChtYXJrID0+IHtcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IG1hcmsudHlwZS5uYW1lLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1hcmsuYXR0cnMpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBvdXRwdXQuYXR0cnMgPSB7IC4uLm1hcmsuYXR0cnMgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgYXR0cnMgPSB7IC4uLm5vZGUuYXR0cnMgfTtcclxuICAgIGNvbnN0IG91dHB1dCA9IHtcclxuICAgICAgICB0eXBlOiBub2RlLnR5cGUubmFtZSxcclxuICAgICAgICBmcm9tLFxyXG4gICAgICAgIHRvLFxyXG4gICAgfTtcclxuICAgIGlmIChPYmplY3Qua2V5cyhhdHRycykubGVuZ3RoKSB7XHJcbiAgICAgICAgb3V0cHV0LmF0dHJzID0gYXR0cnM7XHJcbiAgICB9XHJcbiAgICBpZiAobWFya3MubGVuZ3RoKSB7XHJcbiAgICAgICAgb3V0cHV0Lm1hcmtzID0gbWFya3M7XHJcbiAgICB9XHJcbiAgICBpZiAobm9kZS5jb250ZW50LmNoaWxkQ291bnQpIHtcclxuICAgICAgICBvdXRwdXQuY29udGVudCA9IFtdO1xyXG4gICAgICAgIG5vZGUuZm9yRWFjaCgoY2hpbGQsIG9mZnNldCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIChfYSA9IG91dHB1dC5jb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVzaChnZXREZWJ1Z0pTT04oY2hpbGQsIHN0YXJ0T2Zmc2V0ICsgb2Zmc2V0ICsgaW5jcmVtZW50KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAobm9kZS50ZXh0KSB7XHJcbiAgICAgICAgb3V0cHV0LnRleHQgPSBub2RlLnRleHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0cHV0O1xyXG59XG5cbmZ1bmN0aW9uIGdldE1hcmtzQmV0d2Vlbihmcm9tLCB0bywgZG9jKSB7XHJcbiAgICBjb25zdCBtYXJrcyA9IFtdO1xyXG4gICAgLy8gZ2V0IGFsbCBpbmNsdXNpdmUgbWFya3Mgb24gZW1wdHkgc2VsZWN0aW9uXHJcbiAgICBpZiAoZnJvbSA9PT0gdG8pIHtcclxuICAgICAgICBkb2NcclxuICAgICAgICAgICAgLnJlc29sdmUoZnJvbSlcclxuICAgICAgICAgICAgLm1hcmtzKClcclxuICAgICAgICAgICAgLmZvckVhY2gobWFyayA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRwb3MgPSBkb2MucmVzb2x2ZShmcm9tIC0gMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZ2V0TWFya1JhbmdlKCRwb3MsIG1hcmsudHlwZSk7XHJcbiAgICAgICAgICAgIGlmICghcmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXJrcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG1hcmssXHJcbiAgICAgICAgICAgICAgICAuLi5yYW5nZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb2Mubm9kZXNCZXR3ZWVuKGZyb20sIHRvLCAobm9kZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghbm9kZSB8fCAobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLm5vZGVTaXplKSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFya3MucHVzaCguLi5ub2RlLm1hcmtzLm1hcChtYXJrID0+ICh7XHJcbiAgICAgICAgICAgICAgICBmcm9tOiBwb3MsXHJcbiAgICAgICAgICAgICAgICB0bzogcG9zICsgbm9kZS5ub2RlU2l6ZSxcclxuICAgICAgICAgICAgICAgIG1hcmssXHJcbiAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFya3M7XHJcbn1cblxuLyoqXHJcbiAqIEZpbmRzIHRoZSBmaXJzdCBub2RlIG9mIGEgZ2l2ZW4gdHlwZSBvciBuYW1lIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cclxuICogQHBhcmFtIHN0YXRlIFRoZSBlZGl0b3Igc3RhdGUuXHJcbiAqIEBwYXJhbSB0eXBlT3JOYW1lIFRoZSBub2RlIHR5cGUgb3IgbmFtZS5cclxuICogQHBhcmFtIHBvcyBUaGUgcG9zaXRpb24gdG8gc3RhcnQgc2VhcmNoaW5nIGZyb20uXHJcbiAqIEBwYXJhbSBtYXhEZXB0aCBUaGUgbWF4aW11bSBkZXB0aCB0byBzZWFyY2guXHJcbiAqIEByZXR1cm5zIFRoZSBub2RlIGFuZCB0aGUgZGVwdGggYXMgYW4gYXJyYXkuXHJcbiAqL1xyXG5jb25zdCBnZXROb2RlQXRQb3NpdGlvbiA9IChzdGF0ZSwgdHlwZU9yTmFtZSwgcG9zLCBtYXhEZXB0aCA9IDIwKSA9PiB7XHJcbiAgICBjb25zdCAkcG9zID0gc3RhdGUuZG9jLnJlc29sdmUocG9zKTtcclxuICAgIGxldCBjdXJyZW50RGVwdGggPSBtYXhEZXB0aDtcclxuICAgIGxldCBub2RlID0gbnVsbDtcclxuICAgIHdoaWxlIChjdXJyZW50RGVwdGggPiAwICYmIG5vZGUgPT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9ICRwb3Mubm9kZShjdXJyZW50RGVwdGgpO1xyXG4gICAgICAgIGlmICgoY3VycmVudE5vZGUgPT09IG51bGwgfHwgY3VycmVudE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnROb2RlLnR5cGUubmFtZSkgPT09IHR5cGVPck5hbWUpIHtcclxuICAgICAgICAgICAgbm9kZSA9IGN1cnJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY3VycmVudERlcHRoIC09IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtub2RlLCBjdXJyZW50RGVwdGhdO1xyXG59O1xuXG5mdW5jdGlvbiBnZXRTcGxpdHRlZEF0dHJpYnV0ZXMoZXh0ZW5zaW9uQXR0cmlidXRlcywgdHlwZU5hbWUsIGF0dHJpYnV0ZXMpIHtcclxuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0XHJcbiAgICAgICAgLmVudHJpZXMoYXR0cmlidXRlcylcclxuICAgICAgICAuZmlsdGVyKChbbmFtZV0pID0+IHtcclxuICAgICAgICBjb25zdCBleHRlbnNpb25BdHRyaWJ1dGUgPSBleHRlbnNpb25BdHRyaWJ1dGVzLmZpbmQoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnR5cGUgPT09IHR5cGVOYW1lICYmIGl0ZW0ubmFtZSA9PT0gbmFtZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIWV4dGVuc2lvbkF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleHRlbnNpb25BdHRyaWJ1dGUuYXR0cmlidXRlLmtlZXBPblNwbGl0O1xyXG4gICAgfSkpO1xyXG59XG5cbmZ1bmN0aW9uIGlzTWFya0FjdGl2ZShzdGF0ZSwgdHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGVtcHR5LCByYW5nZXMgfSA9IHN0YXRlLnNlbGVjdGlvbjtcclxuICAgIGNvbnN0IHR5cGUgPSB0eXBlT3JOYW1lID8gZ2V0TWFya1R5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKSA6IG51bGw7XHJcbiAgICBpZiAoZW1wdHkpIHtcclxuICAgICAgICByZXR1cm4gISEoc3RhdGUuc3RvcmVkTWFya3MgfHwgc3RhdGUuc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCkpXHJcbiAgICAgICAgICAgIC5maWx0ZXIobWFyayA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHR5cGUubmFtZSA9PT0gbWFyay50eXBlLm5hbWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbmQobWFyayA9PiBvYmplY3RJbmNsdWRlcyhtYXJrLmF0dHJzLCBhdHRyaWJ1dGVzLCB7IHN0cmljdDogZmFsc2UgfSkpO1xyXG4gICAgfVxyXG4gICAgbGV0IHNlbGVjdGlvblJhbmdlID0gMDtcclxuICAgIGNvbnN0IG1hcmtSYW5nZXMgPSBbXTtcclxuICAgIHJhbmdlcy5mb3JFYWNoKCh7ICRmcm9tLCAkdG8gfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZyb20gPSAkZnJvbS5wb3M7XHJcbiAgICAgICAgY29uc3QgdG8gPSAkdG8ucG9zO1xyXG4gICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFub2RlLmlzVGV4dCAmJiAhbm9kZS5tYXJrcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZUZyb20gPSBNYXRoLm1heChmcm9tLCBwb3MpO1xyXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVRvID0gTWF0aC5taW4odG8sIHBvcyArIG5vZGUubm9kZVNpemUpO1xyXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHJlbGF0aXZlVG8gLSByZWxhdGl2ZUZyb207XHJcbiAgICAgICAgICAgIHNlbGVjdGlvblJhbmdlICs9IHJhbmdlO1xyXG4gICAgICAgICAgICBtYXJrUmFuZ2VzLnB1c2goLi4ubm9kZS5tYXJrcy5tYXAobWFyayA9PiAoe1xyXG4gICAgICAgICAgICAgICAgbWFyayxcclxuICAgICAgICAgICAgICAgIGZyb206IHJlbGF0aXZlRnJvbSxcclxuICAgICAgICAgICAgICAgIHRvOiByZWxhdGl2ZVRvLFxyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoc2VsZWN0aW9uUmFuZ2UgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBjYWxjdWxhdGUgcmFuZ2Ugb2YgbWF0Y2hlZCBtYXJrXHJcbiAgICBjb25zdCBtYXRjaGVkUmFuZ2UgPSBtYXJrUmFuZ2VzXHJcbiAgICAgICAgLmZpbHRlcihtYXJrUmFuZ2UgPT4ge1xyXG4gICAgICAgIGlmICghdHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHR5cGUubmFtZSA9PT0gbWFya1JhbmdlLm1hcmsudHlwZS5uYW1lO1xyXG4gICAgfSlcclxuICAgICAgICAuZmlsdGVyKG1hcmtSYW5nZSA9PiBvYmplY3RJbmNsdWRlcyhtYXJrUmFuZ2UubWFyay5hdHRycywgYXR0cmlidXRlcywgeyBzdHJpY3Q6IGZhbHNlIH0pKVxyXG4gICAgICAgIC5yZWR1Y2UoKHN1bSwgbWFya1JhbmdlKSA9PiBzdW0gKyBtYXJrUmFuZ2UudG8gLSBtYXJrUmFuZ2UuZnJvbSwgMCk7XHJcbiAgICAvLyBjYWxjdWxhdGUgcmFuZ2Ugb2YgbWFya3MgdGhhdCBleGNsdWRlcyB0aGUgc2VhcmNoZWQgbWFya1xyXG4gICAgLy8gZm9yIGV4YW1wbGUgYGNvZGVgIGRvZXNu4oCZdCBhbGxvdyBhbnkgb3RoZXIgbWFya3NcclxuICAgIGNvbnN0IGV4Y2x1ZGVkUmFuZ2UgPSBtYXJrUmFuZ2VzXHJcbiAgICAgICAgLmZpbHRlcihtYXJrUmFuZ2UgPT4ge1xyXG4gICAgICAgIGlmICghdHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hcmtSYW5nZS5tYXJrLnR5cGUgIT09IHR5cGUgJiYgbWFya1JhbmdlLm1hcmsudHlwZS5leGNsdWRlcyh0eXBlKTtcclxuICAgIH0pXHJcbiAgICAgICAgLnJlZHVjZSgoc3VtLCBtYXJrUmFuZ2UpID0+IHN1bSArIG1hcmtSYW5nZS50byAtIG1hcmtSYW5nZS5mcm9tLCAwKTtcclxuICAgIC8vIHdlIG9ubHkgaW5jbHVkZSB0aGUgcmVzdWx0IG9mIGBleGNsdWRlZFJhbmdlYFxyXG4gICAgLy8gaWYgdGhlcmUgaXMgYSBtYXRjaCBhdCBhbGxcclxuICAgIGNvbnN0IHJhbmdlID0gbWF0Y2hlZFJhbmdlID4gMCA/IG1hdGNoZWRSYW5nZSArIGV4Y2x1ZGVkUmFuZ2UgOiBtYXRjaGVkUmFuZ2U7XHJcbiAgICByZXR1cm4gcmFuZ2UgPj0gc2VsZWN0aW9uUmFuZ2U7XHJcbn1cblxuZnVuY3Rpb24gaXNBY3RpdmUoc3RhdGUsIG5hbWUsIGF0dHJpYnV0ZXMgPSB7fSkge1xyXG4gICAgaWYgKCFuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzTm9kZUFjdGl2ZShzdGF0ZSwgbnVsbCwgYXR0cmlidXRlcykgfHwgaXNNYXJrQWN0aXZlKHN0YXRlLCBudWxsLCBhdHRyaWJ1dGVzKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHNjaGVtYVR5cGUgPSBnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZShuYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgaWYgKHNjaGVtYVR5cGUgPT09ICdub2RlJykge1xyXG4gICAgICAgIHJldHVybiBpc05vZGVBY3RpdmUoc3RhdGUsIG5hbWUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjaGVtYVR5cGUgPT09ICdtYXJrJykge1xyXG4gICAgICAgIHJldHVybiBpc01hcmtBY3RpdmUoc3RhdGUsIG5hbWUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XG5cbmNvbnN0IGlzQXRFbmRPZk5vZGUgPSAoc3RhdGUsIG5vZGVUeXBlKSA9PiB7XHJcbiAgICBjb25zdCB7ICRmcm9tLCAkdG8sICRhbmNob3IgfSA9IHN0YXRlLnNlbGVjdGlvbjtcclxuICAgIGlmIChub2RlVHlwZSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSBmaW5kUGFyZW50Tm9kZShub2RlID0+IG5vZGUudHlwZS5uYW1lID09PSBub2RlVHlwZSkoc3RhdGUuc2VsZWN0aW9uKTtcclxuICAgICAgICBpZiAoIXBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCAkcGFyZW50UG9zID0gc3RhdGUuZG9jLnJlc29sdmUocGFyZW50Tm9kZS5wb3MgKyAxKTtcclxuICAgICAgICBpZiAoJGFuY2hvci5wb3MgKyAxID09PSAkcGFyZW50UG9zLmVuZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoJHRvLnBhcmVudE9mZnNldCA8ICR0by5wYXJlbnQubm9kZVNpemUgLSAyIHx8ICRmcm9tLnBvcyAhPT0gJHRvLnBvcykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBpc0F0U3RhcnRPZk5vZGUgPSAoc3RhdGUpID0+IHtcclxuICAgIGNvbnN0IHsgJGZyb20sICR0byB9ID0gc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgaWYgKCRmcm9tLnBhcmVudE9mZnNldCA+IDAgfHwgJGZyb20ucG9zICE9PSAkdG8ucG9zKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmZ1bmN0aW9uIGlzTGlzdChuYW1lLCBleHRlbnNpb25zKSB7XHJcbiAgICBjb25zdCB7IG5vZGVFeHRlbnNpb25zIH0gPSBzcGxpdEV4dGVuc2lvbnMoZXh0ZW5zaW9ucyk7XHJcbiAgICBjb25zdCBleHRlbnNpb24gPSBub2RlRXh0ZW5zaW9ucy5maW5kKGl0ZW0gPT4gaXRlbS5uYW1lID09PSBuYW1lKTtcclxuICAgIGlmICghZXh0ZW5zaW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY29udGV4dCA9IHtcclxuICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICBzdG9yYWdlOiBleHRlbnNpb24uc3RvcmFnZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBncm91cCA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdncm91cCcsIGNvbnRleHQpKTtcclxuICAgIGlmICh0eXBlb2YgZ3JvdXAgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdyb3VwLnNwbGl0KCcgJykuaW5jbHVkZXMoJ2xpc3QnKTtcclxufVxuXG5mdW5jdGlvbiBpc05vZGVFbXB0eShub2RlKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCBkZWZhdWx0Q29udGVudCA9IChfYSA9IG5vZGUudHlwZS5jcmVhdGVBbmRGaWxsKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0pTT04oKTtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBub2RlLnRvSlNPTigpO1xyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRlZmF1bHRDb250ZW50KSA9PT0gSlNPTi5zdHJpbmdpZnkoY29udGVudCk7XHJcbn1cblxuZnVuY3Rpb24gaXNOb2RlU2VsZWN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uO1xyXG59XG5cbmZ1bmN0aW9uIHBvc1RvRE9NUmVjdCh2aWV3LCBmcm9tLCB0bykge1xyXG4gICAgY29uc3QgbWluUG9zID0gMDtcclxuICAgIGNvbnN0IG1heFBvcyA9IHZpZXcuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTtcclxuICAgIGNvbnN0IHJlc29sdmVkRnJvbSA9IG1pbk1heChmcm9tLCBtaW5Qb3MsIG1heFBvcyk7XHJcbiAgICBjb25zdCByZXNvbHZlZEVuZCA9IG1pbk1heCh0bywgbWluUG9zLCBtYXhQb3MpO1xyXG4gICAgY29uc3Qgc3RhcnQgPSB2aWV3LmNvb3Jkc0F0UG9zKHJlc29sdmVkRnJvbSk7XHJcbiAgICBjb25zdCBlbmQgPSB2aWV3LmNvb3Jkc0F0UG9zKHJlc29sdmVkRW5kLCAtMSk7XHJcbiAgICBjb25zdCB0b3AgPSBNYXRoLm1pbihzdGFydC50b3AsIGVuZC50b3ApO1xyXG4gICAgY29uc3QgYm90dG9tID0gTWF0aC5tYXgoc3RhcnQuYm90dG9tLCBlbmQuYm90dG9tKTtcclxuICAgIGNvbnN0IGxlZnQgPSBNYXRoLm1pbihzdGFydC5sZWZ0LCBlbmQubGVmdCk7XHJcbiAgICBjb25zdCByaWdodCA9IE1hdGgubWF4KHN0YXJ0LnJpZ2h0LCBlbmQucmlnaHQpO1xyXG4gICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XHJcbiAgICBjb25zdCB4ID0gbGVmdDtcclxuICAgIGNvbnN0IHkgPSB0b3A7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIHRvcCxcclxuICAgICAgICBib3R0b20sXHJcbiAgICAgICAgbGVmdCxcclxuICAgICAgICByaWdodCxcclxuICAgICAgICB3aWR0aCxcclxuICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgeCxcclxuICAgICAgICB5LFxyXG4gICAgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4uZGF0YSxcclxuICAgICAgICB0b0pTT046ICgpID0+IGRhdGEsXHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIGNhblNldE1hcmsoc3RhdGUsIHRyLCBuZXdNYXJrVHlwZSkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRyO1xyXG4gICAgbGV0IGN1cnNvciA9IG51bGw7XHJcbiAgICBpZiAoaXNUZXh0U2VsZWN0aW9uKHNlbGVjdGlvbikpIHtcclxuICAgICAgICBjdXJzb3IgPSBzZWxlY3Rpb24uJGN1cnNvcjtcclxuICAgIH1cclxuICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50TWFya3MgPSAoX2EgPSBzdGF0ZS5zdG9yZWRNYXJrcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY3Vyc29yLm1hcmtzKCk7XHJcbiAgICAgICAgLy8gVGhlcmUgY2FuIGJlIG5vIGN1cnJlbnQgbWFya3MgdGhhdCBleGNsdWRlIHRoZSBuZXcgbWFya1xyXG4gICAgICAgIHJldHVybiAoISFuZXdNYXJrVHlwZS5pc0luU2V0KGN1cnJlbnRNYXJrcylcclxuICAgICAgICAgICAgfHwgIWN1cnJlbnRNYXJrcy5zb21lKG1hcmsgPT4gbWFyay50eXBlLmV4Y2x1ZGVzKG5ld01hcmtUeXBlKSkpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyByYW5nZXMgfSA9IHNlbGVjdGlvbjtcclxuICAgIHJldHVybiByYW5nZXMuc29tZSgoeyAkZnJvbSwgJHRvIH0pID0+IHtcclxuICAgICAgICBsZXQgc29tZU5vZGVTdXBwb3J0c01hcmsgPSAkZnJvbS5kZXB0aCA9PT0gMFxyXG4gICAgICAgICAgICA/IHN0YXRlLmRvYy5pbmxpbmVDb250ZW50ICYmIHN0YXRlLmRvYy50eXBlLmFsbG93c01hcmtUeXBlKG5ld01hcmtUeXBlKVxyXG4gICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oJGZyb20ucG9zLCAkdG8ucG9zLCAobm9kZSwgX3BvcywgcGFyZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlIGFscmVhZHkgZm91bmQgYSBtYXJrIHRoYXQgd2UgY2FuIGVuYWJsZSwgcmV0dXJuIGZhbHNlIHRvIGJ5cGFzcyB0aGUgcmVtYWluaW5nIHNlYXJjaFxyXG4gICAgICAgICAgICBpZiAoc29tZU5vZGVTdXBwb3J0c01hcmspIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobm9kZS5pc0lubGluZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50QWxsb3dzTWFya1R5cGUgPSAhcGFyZW50IHx8IHBhcmVudC50eXBlLmFsbG93c01hcmtUeXBlKG5ld01hcmtUeXBlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNYXJrc0FsbG93TWFya1R5cGUgPSAhIW5ld01hcmtUeXBlLmlzSW5TZXQobm9kZS5tYXJrcylcclxuICAgICAgICAgICAgICAgICAgICB8fCAhbm9kZS5tYXJrcy5zb21lKG90aGVyTWFyayA9PiBvdGhlck1hcmsudHlwZS5leGNsdWRlcyhuZXdNYXJrVHlwZSkpO1xyXG4gICAgICAgICAgICAgICAgc29tZU5vZGVTdXBwb3J0c01hcmsgPSBwYXJlbnRBbGxvd3NNYXJrVHlwZSAmJiBjdXJyZW50TWFya3NBbGxvd01hcmtUeXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAhc29tZU5vZGVTdXBwb3J0c01hcms7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHNvbWVOb2RlU3VwcG9ydHNNYXJrO1xyXG4gICAgfSk7XHJcbn1cclxuY29uc3Qgc2V0TWFyayA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHRyLCBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRyO1xyXG4gICAgY29uc3QgeyBlbXB0eSwgcmFuZ2VzIH0gPSBzZWxlY3Rpb247XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0TWFya1R5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIGlmIChlbXB0eSkge1xyXG4gICAgICAgICAgICBjb25zdCBvbGRBdHRyaWJ1dGVzID0gZ2V0TWFya0F0dHJpYnV0ZXMoc3RhdGUsIHR5cGUpO1xyXG4gICAgICAgICAgICB0ci5hZGRTdG9yZWRNYXJrKHR5cGUuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgIC4uLm9sZEF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgICAgICAuLi5hdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByYW5nZXMuZm9yRWFjaChyYW5nZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tID0gcmFuZ2UuJGZyb20ucG9zO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG8gPSByYW5nZS4kdG8ucG9zO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUuZG9jLm5vZGVzQmV0d2Vlbihmcm9tLCB0bywgKG5vZGUsIHBvcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRGcm9tID0gTWF0aC5tYXgocG9zLCBmcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkVG8gPSBNYXRoLm1pbihwb3MgKyBub2RlLm5vZGVTaXplLCB0byk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29tZUhhc01hcmsgPSBub2RlLm1hcmtzLmZpbmQobWFyayA9PiBtYXJrLnR5cGUgPT09IHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFscmVhZHkgYSBtYXJrIG9mIHRoaXMgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGtub3cgdGhhdCB3ZSBoYXZlIHRvIG1lcmdlIGl0cyBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIGFkZCBhIGZyZXNoIG5ldyBtYXJrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvbWVIYXNNYXJrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUubWFya3MuZm9yRWFjaChtYXJrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBtYXJrLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ci5hZGRNYXJrKHRyaW1tZWRGcm9tLCB0cmltbWVkVG8sIHR5cGUuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWFyay5hdHRycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHIuYWRkTWFyayh0cmltbWVkRnJvbSwgdHJpbW1lZFRvLCB0eXBlLmNyZWF0ZShhdHRyaWJ1dGVzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjYW5TZXRNYXJrKHN0YXRlLCB0ciwgdHlwZSk7XHJcbn07XG5cbmNvbnN0IHNldE1ldGEgPSAoa2V5LCB2YWx1ZSkgPT4gKHsgdHIgfSkgPT4ge1xyXG4gICAgdHIuc2V0TWV0YShrZXksIHZhbHVlKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBzZXROb2RlID0gKHR5cGVPck5hbWUsIGF0dHJpYnV0ZXMgPSB7fSkgPT4gKHsgc3RhdGUsIGRpc3BhdGNoLCBjaGFpbiB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIC8vIFRPRE86IHVzZSBhIGZhbGxiYWNrIGxpa2UgaW5zZXJ0Q29udGVudD9cclxuICAgIGlmICghdHlwZS5pc1RleHRibG9jaykge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignW3RpcHRhcCB3YXJuXTogQ3VycmVudGx5IFwic2V0Tm9kZSgpXCIgb25seSBzdXBwb3J0cyB0ZXh0IGJsb2NrIG5vZGVzLicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiAoY2hhaW4oKVxyXG4gICAgICAgIC8vIHRyeSB0byBjb252ZXJ0IG5vZGUgdG8gZGVmYXVsdCBub2RlIGlmIG5lZWRlZFxyXG4gICAgICAgIC5jb21tYW5kKCh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICBjb25zdCBjYW5TZXRCbG9jayA9IHNldEJsb2NrVHlwZSh0eXBlLCBhdHRyaWJ1dGVzKShzdGF0ZSk7XHJcbiAgICAgICAgaWYgKGNhblNldEJsb2NrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tbWFuZHMuY2xlYXJOb2RlcygpO1xyXG4gICAgfSlcclxuICAgICAgICAuY29tbWFuZCgoeyBzdGF0ZTogdXBkYXRlZFN0YXRlIH0pID0+IHtcclxuICAgICAgICByZXR1cm4gc2V0QmxvY2tUeXBlKHR5cGUsIGF0dHJpYnV0ZXMpKHVwZGF0ZWRTdGF0ZSwgZGlzcGF0Y2gpO1xyXG4gICAgfSlcclxuICAgICAgICAucnVuKCkpO1xyXG59O1xuXG5jb25zdCBzZXROb2RlU2VsZWN0aW9uID0gcG9zaXRpb24gPT4gKHsgdHIsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIGNvbnN0IHsgZG9jIH0gPSB0cjtcclxuICAgICAgICBjb25zdCBmcm9tID0gbWluTWF4KHBvc2l0aW9uLCAwLCBkb2MuY29udGVudC5zaXplKTtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBOb2RlU2VsZWN0aW9uLmNyZWF0ZShkb2MsIGZyb20pO1xyXG4gICAgICAgIHRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IHNldFRleHRTZWxlY3Rpb24gPSBwb3NpdGlvbiA9PiAoeyB0ciwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgaWYgKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgY29uc3QgeyBkb2MgfSA9IHRyO1xyXG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHR5cGVvZiBwb3NpdGlvbiA9PT0gJ251bWJlcicgPyB7IGZyb206IHBvc2l0aW9uLCB0bzogcG9zaXRpb24gfSA6IHBvc2l0aW9uO1xyXG4gICAgICAgIGNvbnN0IG1pblBvcyA9IFRleHRTZWxlY3Rpb24uYXRTdGFydChkb2MpLmZyb207XHJcbiAgICAgICAgY29uc3QgbWF4UG9zID0gVGV4dFNlbGVjdGlvbi5hdEVuZChkb2MpLnRvO1xyXG4gICAgICAgIGNvbnN0IHJlc29sdmVkRnJvbSA9IG1pbk1heChmcm9tLCBtaW5Qb3MsIG1heFBvcyk7XHJcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRFbmQgPSBtaW5NYXgodG8sIG1pblBvcywgbWF4UG9zKTtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIHJlc29sdmVkRnJvbSwgcmVzb2x2ZWRFbmQpO1xyXG4gICAgICAgIHRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IHNpbmtMaXN0SXRlbSA9IHR5cGVPck5hbWUgPT4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgcmV0dXJuIHNpbmtMaXN0SXRlbSQxKHR5cGUpKHN0YXRlLCBkaXNwYXRjaCk7XHJcbn07XG5cbmZ1bmN0aW9uIGVuc3VyZU1hcmtzKHN0YXRlLCBzcGxpdHRhYmxlTWFya3MpIHtcclxuICAgIGNvbnN0IG1hcmtzID0gc3RhdGUuc3RvcmVkTWFya3MgfHwgKHN0YXRlLnNlbGVjdGlvbi4kdG8ucGFyZW50T2Zmc2V0ICYmIHN0YXRlLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpKTtcclxuICAgIGlmIChtYXJrcykge1xyXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkTWFya3MgPSBtYXJrcy5maWx0ZXIobWFyayA9PiBzcGxpdHRhYmxlTWFya3MgPT09IG51bGwgfHwgc3BsaXR0YWJsZU1hcmtzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzcGxpdHRhYmxlTWFya3MuaW5jbHVkZXMobWFyay50eXBlLm5hbWUpKTtcclxuICAgICAgICBzdGF0ZS50ci5lbnN1cmVNYXJrcyhmaWx0ZXJlZE1hcmtzKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBzcGxpdEJsb2NrID0gKHsga2VlcE1hcmtzID0gdHJ1ZSB9ID0ge30pID0+ICh7IHRyLCBzdGF0ZSwgZGlzcGF0Y2gsIGVkaXRvciwgfSkgPT4ge1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24sIGRvYyB9ID0gdHI7XHJcbiAgICBjb25zdCB7ICRmcm9tLCAkdG8gfSA9IHNlbGVjdGlvbjtcclxuICAgIGNvbnN0IGV4dGVuc2lvbkF0dHJpYnV0ZXMgPSBlZGl0b3IuZXh0ZW5zaW9uTWFuYWdlci5hdHRyaWJ1dGVzO1xyXG4gICAgY29uc3QgbmV3QXR0cmlidXRlcyA9IGdldFNwbGl0dGVkQXR0cmlidXRlcyhleHRlbnNpb25BdHRyaWJ1dGVzLCAkZnJvbS5ub2RlKCkudHlwZS5uYW1lLCAkZnJvbS5ub2RlKCkuYXR0cnMpO1xyXG4gICAgaWYgKHNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24gJiYgc2VsZWN0aW9uLm5vZGUuaXNCbG9jaykge1xyXG4gICAgICAgIGlmICghJGZyb20ucGFyZW50T2Zmc2V0IHx8ICFjYW5TcGxpdChkb2MsICRmcm9tLnBvcykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgaWYgKGtlZXBNYXJrcykge1xyXG4gICAgICAgICAgICAgICAgZW5zdXJlTWFya3Moc3RhdGUsIGVkaXRvci5leHRlbnNpb25NYW5hZ2VyLnNwbGl0dGFibGVNYXJrcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHIuc3BsaXQoJGZyb20ucG9zKS5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICghJGZyb20ucGFyZW50LmlzQmxvY2spIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICBjb25zdCBhdEVuZCA9ICR0by5wYXJlbnRPZmZzZXQgPT09ICR0by5wYXJlbnQuY29udGVudC5zaXplO1xyXG4gICAgICAgIGlmIChzZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRyLmRlbGV0ZVNlbGVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkZWZsdCA9ICRmcm9tLmRlcHRoID09PSAwXHJcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIDogZGVmYXVsdEJsb2NrQXQoJGZyb20ubm9kZSgtMSkuY29udGVudE1hdGNoQXQoJGZyb20uaW5kZXhBZnRlcigtMSkpKTtcclxuICAgICAgICBsZXQgdHlwZXMgPSBhdEVuZCAmJiBkZWZsdFxyXG4gICAgICAgICAgICA/IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBkZWZsdCxcclxuICAgICAgICAgICAgICAgICAgICBhdHRyczogbmV3QXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgbGV0IGNhbiA9IGNhblNwbGl0KHRyLmRvYywgdHIubWFwcGluZy5tYXAoJGZyb20ucG9zKSwgMSwgdHlwZXMpO1xyXG4gICAgICAgIGlmICghdHlwZXNcclxuICAgICAgICAgICAgJiYgIWNhblxyXG4gICAgICAgICAgICAmJiBjYW5TcGxpdCh0ci5kb2MsIHRyLm1hcHBpbmcubWFwKCRmcm9tLnBvcyksIDEsIGRlZmx0ID8gW3sgdHlwZTogZGVmbHQgfV0gOiB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgIGNhbiA9IHRydWU7XHJcbiAgICAgICAgICAgIHR5cGVzID0gZGVmbHRcclxuICAgICAgICAgICAgICAgID8gW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZGVmbHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiBuZXdBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNhbikge1xyXG4gICAgICAgICAgICB0ci5zcGxpdCh0ci5tYXBwaW5nLm1hcCgkZnJvbS5wb3MpLCAxLCB0eXBlcyk7XHJcbiAgICAgICAgICAgIGlmIChkZWZsdCAmJiAhYXRFbmQgJiYgISRmcm9tLnBhcmVudE9mZnNldCAmJiAkZnJvbS5wYXJlbnQudHlwZSAhPT0gZGVmbHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gdHIubWFwcGluZy5tYXAoJGZyb20uYmVmb3JlKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJGZpcnN0ID0gdHIuZG9jLnJlc29sdmUoZmlyc3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRmcm9tLm5vZGUoLTEpLmNhblJlcGxhY2VXaXRoKCRmaXJzdC5pbmRleCgpLCAkZmlyc3QuaW5kZXgoKSArIDEsIGRlZmx0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLnNldE5vZGVNYXJrdXAodHIubWFwcGluZy5tYXAoJGZyb20uYmVmb3JlKCkpLCBkZWZsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGtlZXBNYXJrcykge1xyXG4gICAgICAgICAgICBlbnN1cmVNYXJrcyhzdGF0ZSwgZWRpdG9yLmV4dGVuc2lvbk1hbmFnZXIuc3BsaXR0YWJsZU1hcmtzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHIuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCBzcGxpdExpc3RJdGVtID0gdHlwZU9yTmFtZSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoLCBlZGl0b3IsIH0pID0+IHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHR5cGUgPSBnZXROb2RlVHlwZSh0eXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgY29uc3QgeyAkZnJvbSwgJHRvIH0gPSBzdGF0ZS5zZWxlY3Rpb247XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIGNvbnN0IG5vZGUgPSBzdGF0ZS5zZWxlY3Rpb24ubm9kZTtcclxuICAgIGlmICgobm9kZSAmJiBub2RlLmlzQmxvY2spIHx8ICRmcm9tLmRlcHRoIDwgMiB8fCAhJGZyb20uc2FtZVBhcmVudCgkdG8pKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZ3JhbmRQYXJlbnQgPSAkZnJvbS5ub2RlKC0xKTtcclxuICAgIGlmIChncmFuZFBhcmVudC50eXBlICE9PSB0eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZXh0ZW5zaW9uQXR0cmlidXRlcyA9IGVkaXRvci5leHRlbnNpb25NYW5hZ2VyLmF0dHJpYnV0ZXM7XHJcbiAgICBpZiAoJGZyb20ucGFyZW50LmNvbnRlbnQuc2l6ZSA9PT0gMCAmJiAkZnJvbS5ub2RlKC0xKS5jaGlsZENvdW50ID09PSAkZnJvbS5pbmRleEFmdGVyKC0xKSkge1xyXG4gICAgICAgIC8vIEluIGFuIGVtcHR5IGJsb2NrLiBJZiB0aGlzIGlzIGEgbmVzdGVkIGxpc3QsIHRoZSB3cmFwcGluZ1xyXG4gICAgICAgIC8vIGxpc3QgaXRlbSBzaG91bGQgYmUgc3BsaXQuIE90aGVyd2lzZSwgYmFpbCBvdXQgYW5kIGxldCBuZXh0XHJcbiAgICAgICAgLy8gY29tbWFuZCBoYW5kbGUgbGlmdGluZy5cclxuICAgICAgICBpZiAoJGZyb20uZGVwdGggPT09IDJcclxuICAgICAgICAgICAgfHwgJGZyb20ubm9kZSgtMykudHlwZSAhPT0gdHlwZVxyXG4gICAgICAgICAgICB8fCAkZnJvbS5pbmRleCgtMikgIT09ICRmcm9tLm5vZGUoLTIpLmNoaWxkQ291bnQgLSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc3BhdGNoKSB7XHJcbiAgICAgICAgICAgIGxldCB3cmFwID0gRnJhZ21lbnQuZW1wdHk7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICBjb25zdCBkZXB0aEJlZm9yZSA9ICRmcm9tLmluZGV4KC0xKSA/IDEgOiAkZnJvbS5pbmRleCgtMikgPyAyIDogMztcclxuICAgICAgICAgICAgLy8gQnVpbGQgYSBmcmFnbWVudCBjb250YWluaW5nIGVtcHR5IHZlcnNpb25zIG9mIHRoZSBzdHJ1Y3R1cmVcclxuICAgICAgICAgICAgLy8gZnJvbSB0aGUgb3V0ZXIgbGlzdCBpdGVtIHRvIHRoZSBwYXJlbnQgbm9kZSBvZiB0aGUgY3Vyc29yXHJcbiAgICAgICAgICAgIGZvciAobGV0IGQgPSAkZnJvbS5kZXB0aCAtIGRlcHRoQmVmb3JlOyBkID49ICRmcm9tLmRlcHRoIC0gMzsgZCAtPSAxKSB7XHJcbiAgICAgICAgICAgICAgICB3cmFwID0gRnJhZ21lbnQuZnJvbSgkZnJvbS5ub2RlKGQpLmNvcHkod3JhcCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICBjb25zdCBkZXB0aEFmdGVyID0gJGZyb20uaW5kZXhBZnRlcigtMSkgPCAkZnJvbS5ub2RlKC0yKS5jaGlsZENvdW50ID8gMSA6ICRmcm9tLmluZGV4QWZ0ZXIoLTIpIDwgJGZyb20ubm9kZSgtMykuY2hpbGRDb3VudCA/IDIgOiAzO1xyXG4gICAgICAgICAgICAvLyBBZGQgYSBzZWNvbmQgbGlzdCBpdGVtIHdpdGggYW4gZW1wdHkgZGVmYXVsdCBzdGFydCBub2RlXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld05leHRUeXBlQXR0cmlidXRlcyA9IGdldFNwbGl0dGVkQXR0cmlidXRlcyhleHRlbnNpb25BdHRyaWJ1dGVzLCAkZnJvbS5ub2RlKCkudHlwZS5uYW1lLCAkZnJvbS5ub2RlKCkuYXR0cnMpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0VHlwZSA9ICgoX2EgPSB0eXBlLmNvbnRlbnRNYXRjaC5kZWZhdWx0VHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNyZWF0ZUFuZEZpbGwobmV3TmV4dFR5cGVBdHRyaWJ1dGVzKSkgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB3cmFwID0gd3JhcC5hcHBlbmQoRnJhZ21lbnQuZnJvbSh0eXBlLmNyZWF0ZUFuZEZpbGwobnVsbCwgbmV4dFR5cGUpIHx8IHVuZGVmaW5lZCkpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGFydCA9ICRmcm9tLmJlZm9yZSgkZnJvbS5kZXB0aCAtIChkZXB0aEJlZm9yZSAtIDEpKTtcclxuICAgICAgICAgICAgdHIucmVwbGFjZShzdGFydCwgJGZyb20uYWZ0ZXIoLWRlcHRoQWZ0ZXIpLCBuZXcgU2xpY2Uod3JhcCwgNCAtIGRlcHRoQmVmb3JlLCAwKSk7XHJcbiAgICAgICAgICAgIGxldCBzZWwgPSAtMTtcclxuICAgICAgICAgICAgdHIuZG9jLm5vZGVzQmV0d2VlbihzdGFydCwgdHIuZG9jLmNvbnRlbnQuc2l6ZSwgKG4sIHBvcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG4uaXNUZXh0YmxvY2sgJiYgbi5jb250ZW50LnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWwgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHNlbCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5zZXRTZWxlY3Rpb24oVGV4dFNlbGVjdGlvbi5uZWFyKHRyLmRvYy5yZXNvbHZlKHNlbCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ci5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5leHRUeXBlID0gJHRvLnBvcyA9PT0gJGZyb20uZW5kKCkgPyBncmFuZFBhcmVudC5jb250ZW50TWF0Y2hBdCgwKS5kZWZhdWx0VHlwZSA6IG51bGw7XHJcbiAgICBjb25zdCBuZXdUeXBlQXR0cmlidXRlcyA9IGdldFNwbGl0dGVkQXR0cmlidXRlcyhleHRlbnNpb25BdHRyaWJ1dGVzLCBncmFuZFBhcmVudC50eXBlLm5hbWUsIGdyYW5kUGFyZW50LmF0dHJzKTtcclxuICAgIGNvbnN0IG5ld05leHRUeXBlQXR0cmlidXRlcyA9IGdldFNwbGl0dGVkQXR0cmlidXRlcyhleHRlbnNpb25BdHRyaWJ1dGVzLCAkZnJvbS5ub2RlKCkudHlwZS5uYW1lLCAkZnJvbS5ub2RlKCkuYXR0cnMpO1xyXG4gICAgdHIuZGVsZXRlKCRmcm9tLnBvcywgJHRvLnBvcyk7XHJcbiAgICBjb25zdCB0eXBlcyA9IG5leHRUeXBlXHJcbiAgICAgICAgPyBbXHJcbiAgICAgICAgICAgIHsgdHlwZSwgYXR0cnM6IG5ld1R5cGVBdHRyaWJ1dGVzIH0sXHJcbiAgICAgICAgICAgIHsgdHlwZTogbmV4dFR5cGUsIGF0dHJzOiBuZXdOZXh0VHlwZUF0dHJpYnV0ZXMgfSxcclxuICAgICAgICBdXHJcbiAgICAgICAgOiBbeyB0eXBlLCBhdHRyczogbmV3VHlwZUF0dHJpYnV0ZXMgfV07XHJcbiAgICBpZiAoIWNhblNwbGl0KHRyLmRvYywgJGZyb20ucG9zLCAyKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBzdG9yZWRNYXJrcyB9ID0gc3RhdGU7XHJcbiAgICAgICAgY29uc3QgeyBzcGxpdHRhYmxlTWFya3MgfSA9IGVkaXRvci5leHRlbnNpb25NYW5hZ2VyO1xyXG4gICAgICAgIGNvbnN0IG1hcmtzID0gc3RvcmVkTWFya3MgfHwgKHNlbGVjdGlvbi4kdG8ucGFyZW50T2Zmc2V0ICYmIHNlbGVjdGlvbi4kZnJvbS5tYXJrcygpKTtcclxuICAgICAgICB0ci5zcGxpdCgkZnJvbS5wb3MsIDIsIHR5cGVzKS5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIGlmICghbWFya3MgfHwgIWRpc3BhdGNoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmaWx0ZXJlZE1hcmtzID0gbWFya3MuZmlsdGVyKG1hcmsgPT4gc3BsaXR0YWJsZU1hcmtzLmluY2x1ZGVzKG1hcmsudHlwZS5uYW1lKSk7XHJcbiAgICAgICAgdHIuZW5zdXJlTWFya3MoZmlsdGVyZWRNYXJrcyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxuY29uc3Qgam9pbkxpc3RCYWNrd2FyZHMgPSAodHIsIGxpc3RUeXBlKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0ID0gZmluZFBhcmVudE5vZGUobm9kZSA9PiBub2RlLnR5cGUgPT09IGxpc3RUeXBlKSh0ci5zZWxlY3Rpb24pO1xyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBiZWZvcmUgPSB0ci5kb2MucmVzb2x2ZShNYXRoLm1heCgwLCBsaXN0LnBvcyAtIDEpKS5iZWZvcmUobGlzdC5kZXB0aCk7XHJcbiAgICBpZiAoYmVmb3JlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vZGVCZWZvcmUgPSB0ci5kb2Mubm9kZUF0KGJlZm9yZSk7XHJcbiAgICBjb25zdCBjYW5Kb2luQmFja3dhcmRzID0gbGlzdC5ub2RlLnR5cGUgPT09IChub2RlQmVmb3JlID09PSBudWxsIHx8IG5vZGVCZWZvcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGVCZWZvcmUudHlwZSkgJiYgY2FuSm9pbih0ci5kb2MsIGxpc3QucG9zKTtcclxuICAgIGlmICghY2FuSm9pbkJhY2t3YXJkcykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdHIuam9pbihsaXN0LnBvcyk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcclxuY29uc3Qgam9pbkxpc3RGb3J3YXJkcyA9ICh0ciwgbGlzdFR5cGUpID0+IHtcclxuICAgIGNvbnN0IGxpc3QgPSBmaW5kUGFyZW50Tm9kZShub2RlID0+IG5vZGUudHlwZSA9PT0gbGlzdFR5cGUpKHRyLnNlbGVjdGlvbik7XHJcbiAgICBpZiAoIWxpc3QpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnN0IGFmdGVyID0gdHIuZG9jLnJlc29sdmUobGlzdC5zdGFydCkuYWZ0ZXIobGlzdC5kZXB0aCk7XHJcbiAgICBpZiAoYWZ0ZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgbm9kZUFmdGVyID0gdHIuZG9jLm5vZGVBdChhZnRlcik7XHJcbiAgICBjb25zdCBjYW5Kb2luRm9yd2FyZHMgPSBsaXN0Lm5vZGUudHlwZSA9PT0gKG5vZGVBZnRlciA9PT0gbnVsbCB8fCBub2RlQWZ0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGVBZnRlci50eXBlKSAmJiBjYW5Kb2luKHRyLmRvYywgYWZ0ZXIpO1xyXG4gICAgaWYgKCFjYW5Kb2luRm9yd2FyZHMpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHRyLmpvaW4oYWZ0ZXIpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XHJcbmNvbnN0IHRvZ2dsZUxpc3QgPSAobGlzdFR5cGVPck5hbWUsIGl0ZW1UeXBlT3JOYW1lLCBrZWVwTWFya3MsIGF0dHJpYnV0ZXMgPSB7fSkgPT4gKHsgZWRpdG9yLCB0ciwgc3RhdGUsIGRpc3BhdGNoLCBjaGFpbiwgY29tbWFuZHMsIGNhbiwgfSkgPT4ge1xyXG4gICAgY29uc3QgeyBleHRlbnNpb25zLCBzcGxpdHRhYmxlTWFya3MgfSA9IGVkaXRvci5leHRlbnNpb25NYW5hZ2VyO1xyXG4gICAgY29uc3QgbGlzdFR5cGUgPSBnZXROb2RlVHlwZShsaXN0VHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IGl0ZW1UeXBlID0gZ2V0Tm9kZVR5cGUoaXRlbVR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBjb25zdCB7IHNlbGVjdGlvbiwgc3RvcmVkTWFya3MgfSA9IHN0YXRlO1xyXG4gICAgY29uc3QgeyAkZnJvbSwgJHRvIH0gPSBzZWxlY3Rpb247XHJcbiAgICBjb25zdCByYW5nZSA9ICRmcm9tLmJsb2NrUmFuZ2UoJHRvKTtcclxuICAgIGNvbnN0IG1hcmtzID0gc3RvcmVkTWFya3MgfHwgKHNlbGVjdGlvbi4kdG8ucGFyZW50T2Zmc2V0ICYmIHNlbGVjdGlvbi4kZnJvbS5tYXJrcygpKTtcclxuICAgIGlmICghcmFuZ2UpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJlbnRMaXN0ID0gZmluZFBhcmVudE5vZGUobm9kZSA9PiBpc0xpc3Qobm9kZS50eXBlLm5hbWUsIGV4dGVuc2lvbnMpKShzZWxlY3Rpb24pO1xyXG4gICAgaWYgKHJhbmdlLmRlcHRoID49IDEgJiYgcGFyZW50TGlzdCAmJiByYW5nZS5kZXB0aCAtIHBhcmVudExpc3QuZGVwdGggPD0gMSkge1xyXG4gICAgICAgIC8vIHJlbW92ZSBsaXN0XHJcbiAgICAgICAgaWYgKHBhcmVudExpc3Qubm9kZS50eXBlID09PSBsaXN0VHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tbWFuZHMubGlmdExpc3RJdGVtKGl0ZW1UeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hhbmdlIGxpc3QgdHlwZVxyXG4gICAgICAgIGlmIChpc0xpc3QocGFyZW50TGlzdC5ub2RlLnR5cGUubmFtZSwgZXh0ZW5zaW9ucylcclxuICAgICAgICAgICAgJiYgbGlzdFR5cGUudmFsaWRDb250ZW50KHBhcmVudExpc3Qubm9kZS5jb250ZW50KVxyXG4gICAgICAgICAgICAmJiBkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhaW4oKVxyXG4gICAgICAgICAgICAgICAgLmNvbW1hbmQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHIuc2V0Tm9kZU1hcmt1cChwYXJlbnRMaXN0LnBvcywgbGlzdFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY29tbWFuZCgoKSA9PiBqb2luTGlzdEJhY2t3YXJkcyh0ciwgbGlzdFR5cGUpKVxyXG4gICAgICAgICAgICAgICAgLmNvbW1hbmQoKCkgPT4gam9pbkxpc3RGb3J3YXJkcyh0ciwgbGlzdFR5cGUpKVxyXG4gICAgICAgICAgICAgICAgLnJ1bigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICgha2VlcE1hcmtzIHx8ICFtYXJrcyB8fCAhZGlzcGF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gY2hhaW4oKVxyXG4gICAgICAgICAgICAvLyB0cnkgdG8gY29udmVydCBub2RlIHRvIGRlZmF1bHQgbm9kZSBpZiBuZWVkZWRcclxuICAgICAgICAgICAgLmNvbW1hbmQoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYW5XcmFwSW5MaXN0ID0gY2FuKCkud3JhcEluTGlzdChsaXN0VHlwZSwgYXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgIGlmIChjYW5XcmFwSW5MaXN0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuY2xlYXJOb2RlcygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC53cmFwSW5MaXN0KGxpc3RUeXBlLCBhdHRyaWJ1dGVzKVxyXG4gICAgICAgICAgICAuY29tbWFuZCgoKSA9PiBqb2luTGlzdEJhY2t3YXJkcyh0ciwgbGlzdFR5cGUpKVxyXG4gICAgICAgICAgICAuY29tbWFuZCgoKSA9PiBqb2luTGlzdEZvcndhcmRzKHRyLCBsaXN0VHlwZSkpXHJcbiAgICAgICAgICAgIC5ydW4oKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoY2hhaW4oKVxyXG4gICAgICAgIC8vIHRyeSB0byBjb252ZXJ0IG5vZGUgdG8gZGVmYXVsdCBub2RlIGlmIG5lZWRlZFxyXG4gICAgICAgIC5jb21tYW5kKCgpID0+IHtcclxuICAgICAgICBjb25zdCBjYW5XcmFwSW5MaXN0ID0gY2FuKCkud3JhcEluTGlzdChsaXN0VHlwZSwgYXR0cmlidXRlcyk7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyZWRNYXJrcyA9IG1hcmtzLmZpbHRlcihtYXJrID0+IHNwbGl0dGFibGVNYXJrcy5pbmNsdWRlcyhtYXJrLnR5cGUubmFtZSkpO1xyXG4gICAgICAgIHRyLmVuc3VyZU1hcmtzKGZpbHRlcmVkTWFya3MpO1xyXG4gICAgICAgIGlmIChjYW5XcmFwSW5MaXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tbWFuZHMuY2xlYXJOb2RlcygpO1xyXG4gICAgfSlcclxuICAgICAgICAud3JhcEluTGlzdChsaXN0VHlwZSwgYXR0cmlidXRlcylcclxuICAgICAgICAuY29tbWFuZCgoKSA9PiBqb2luTGlzdEJhY2t3YXJkcyh0ciwgbGlzdFR5cGUpKVxyXG4gICAgICAgIC5jb21tYW5kKCgpID0+IGpvaW5MaXN0Rm9yd2FyZHModHIsIGxpc3RUeXBlKSlcclxuICAgICAgICAucnVuKCkpO1xyXG59O1xuXG5jb25zdCB0b2dnbGVNYXJrID0gKHR5cGVPck5hbWUsIGF0dHJpYnV0ZXMgPSB7fSwgb3B0aW9ucyA9IHt9KSA9PiAoeyBzdGF0ZSwgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgY29uc3QgeyBleHRlbmRFbXB0eU1hcmtSYW5nZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE1hcmtUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGlzTWFya0FjdGl2ZShzdGF0ZSwgdHlwZSwgYXR0cmlidXRlcyk7XHJcbiAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgICByZXR1cm4gY29tbWFuZHMudW5zZXRNYXJrKHR5cGUsIHsgZXh0ZW5kRW1wdHlNYXJrUmFuZ2UgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29tbWFuZHMuc2V0TWFyayh0eXBlLCBhdHRyaWJ1dGVzKTtcclxufTtcblxuY29uc3QgdG9nZ2xlTm9kZSA9ICh0eXBlT3JOYW1lLCB0b2dnbGVUeXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHN0YXRlLCBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IHRvZ2dsZVR5cGUgPSBnZXROb2RlVHlwZSh0b2dnbGVUeXBlT3JOYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgY29uc3QgaXNBY3RpdmUgPSBpc05vZGVBY3RpdmUoc3RhdGUsIHR5cGUsIGF0dHJpYnV0ZXMpO1xyXG4gICAgaWYgKGlzQWN0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnNldE5vZGUodG9nZ2xlVHlwZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29tbWFuZHMuc2V0Tm9kZSh0eXBlLCBhdHRyaWJ1dGVzKTtcclxufTtcblxuY29uc3QgdG9nZ2xlV3JhcCA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHN0YXRlLCBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gaXNOb2RlQWN0aXZlKHN0YXRlLCB0eXBlLCBhdHRyaWJ1dGVzKTtcclxuICAgIGlmIChpc0FjdGl2ZSkge1xyXG4gICAgICAgIHJldHVybiBjb21tYW5kcy5saWZ0KHR5cGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbW1hbmRzLndyYXBJbih0eXBlLCBhdHRyaWJ1dGVzKTtcclxufTtcblxuY29uc3QgdW5kb0lucHV0UnVsZSA9ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCBwbHVnaW5zID0gc3RhdGUucGx1Z2lucztcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IHBsdWdpbnNbaV07XHJcbiAgICAgICAgbGV0IHVuZG9hYmxlO1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICBpZiAocGx1Z2luLnNwZWMuaXNJbnB1dFJ1bGVzICYmICh1bmRvYWJsZSA9IHBsdWdpbi5nZXRTdGF0ZShzdGF0ZSkpKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHIgPSBzdGF0ZS50cjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvVW5kbyA9IHVuZG9hYmxlLnRyYW5zZm9ybTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSB0b1VuZG8uc3RlcHMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5zdGVwKHRvVW5kby5zdGVwc1tqXS5pbnZlcnQodG9VbmRvLmRvY3Nbal0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh1bmRvYWJsZS50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya3MgPSB0ci5kb2MucmVzb2x2ZSh1bmRvYWJsZS5mcm9tKS5tYXJrcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLnJlcGxhY2VXaXRoKHVuZG9hYmxlLmZyb20sIHVuZG9hYmxlLnRvLCBzdGF0ZS5zY2hlbWEudGV4dCh1bmRvYWJsZS50ZXh0LCBtYXJrcykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuZGVsZXRlKHVuZG9hYmxlLmZyb20sIHVuZG9hYmxlLnRvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn07XG5cbmNvbnN0IHVuc2V0QWxsTWFya3MgPSAoKSA9PiAoeyB0ciwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRyO1xyXG4gICAgY29uc3QgeyBlbXB0eSwgcmFuZ2VzIH0gPSBzZWxlY3Rpb247XHJcbiAgICBpZiAoZW1wdHkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChkaXNwYXRjaCkge1xyXG4gICAgICAgIHJhbmdlcy5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgdHIucmVtb3ZlTWFyayhyYW5nZS4kZnJvbS5wb3MsIHJhbmdlLiR0by5wb3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn07XG5cbmNvbnN0IHVuc2V0TWFyayA9ICh0eXBlT3JOYW1lLCBvcHRpb25zID0ge30pID0+ICh7IHRyLCBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgY29uc3QgeyBleHRlbmRFbXB0eU1hcmtSYW5nZSA9IGZhbHNlIH0gPSBvcHRpb25zO1xyXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRyO1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE1hcmtUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICBjb25zdCB7ICRmcm9tLCBlbXB0eSwgcmFuZ2VzIH0gPSBzZWxlY3Rpb247XHJcbiAgICBpZiAoIWRpc3BhdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoZW1wdHkgJiYgZXh0ZW5kRW1wdHlNYXJrUmFuZ2UpIHtcclxuICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gc2VsZWN0aW9uO1xyXG4gICAgICAgIGNvbnN0IGF0dHJzID0gKF9hID0gJGZyb20ubWFya3MoKS5maW5kKG1hcmsgPT4gbWFyay50eXBlID09PSB0eXBlKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmF0dHJzO1xyXG4gICAgICAgIGNvbnN0IHJhbmdlID0gZ2V0TWFya1JhbmdlKCRmcm9tLCB0eXBlLCBhdHRycyk7XHJcbiAgICAgICAgaWYgKHJhbmdlKSB7XHJcbiAgICAgICAgICAgIGZyb20gPSByYW5nZS5mcm9tO1xyXG4gICAgICAgICAgICB0byA9IHJhbmdlLnRvO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ci5yZW1vdmVNYXJrKGZyb20sIHRvLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJhbmdlcy5mb3JFYWNoKHJhbmdlID0+IHtcclxuICAgICAgICAgICAgdHIucmVtb3ZlTWFyayhyYW5nZS4kZnJvbS5wb3MsIHJhbmdlLiR0by5wb3MsIHR5cGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdHIucmVtb3ZlU3RvcmVkTWFyayh0eXBlKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCB1cGRhdGVBdHRyaWJ1dGVzID0gKHR5cGVPck5hbWUsIGF0dHJpYnV0ZXMgPSB7fSkgPT4gKHsgdHIsIHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBsZXQgbm9kZVR5cGUgPSBudWxsO1xyXG4gICAgbGV0IG1hcmtUeXBlID0gbnVsbDtcclxuICAgIGNvbnN0IHNjaGVtYVR5cGUgPSBnZXRTY2hlbWFUeXBlTmFtZUJ5TmFtZSh0eXBlb2YgdHlwZU9yTmFtZSA9PT0gJ3N0cmluZycgPyB0eXBlT3JOYW1lIDogdHlwZU9yTmFtZS5uYW1lLCBzdGF0ZS5zY2hlbWEpO1xyXG4gICAgaWYgKCFzY2hlbWFUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjaGVtYVR5cGUgPT09ICdub2RlJykge1xyXG4gICAgICAgIG5vZGVUeXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIH1cclxuICAgIGlmIChzY2hlbWFUeXBlID09PSAnbWFyaycpIHtcclxuICAgICAgICBtYXJrVHlwZSA9IGdldE1hcmtUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZGlzcGF0Y2gpIHtcclxuICAgICAgICB0ci5zZWxlY3Rpb24ucmFuZ2VzLmZvckVhY2gocmFuZ2UgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmcm9tID0gcmFuZ2UuJGZyb20ucG9zO1xyXG4gICAgICAgICAgICBjb25zdCB0byA9IHJhbmdlLiR0by5wb3M7XHJcbiAgICAgICAgICAgIHN0YXRlLmRvYy5ub2Rlc0JldHdlZW4oZnJvbSwgdG8sIChub2RlLCBwb3MpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlVHlwZSAmJiBub2RlVHlwZSA9PT0gbm9kZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuc2V0Tm9kZU1hcmt1cChwb3MsIHVuZGVmaW5lZCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5ub2RlLmF0dHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5hdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG1hcmtUeXBlICYmIG5vZGUubWFya3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXJrcy5mb3JFYWNoKG1hcmsgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFya1R5cGUgPT09IG1hcmsudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZEZyb20gPSBNYXRoLm1heChwb3MsIGZyb20pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZFRvID0gTWF0aC5taW4ocG9zICsgbm9kZS5ub2RlU2l6ZSwgdG8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIuYWRkTWFyayh0cmltbWVkRnJvbSwgdHJpbW1lZFRvLCBtYXJrVHlwZS5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1hcmsuYXR0cnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYXR0cmlidXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59O1xuXG5jb25zdCB3cmFwSW4gPSAodHlwZU9yTmFtZSwgYXR0cmlidXRlcyA9IHt9KSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgY29uc3QgdHlwZSA9IGdldE5vZGVUeXBlKHR5cGVPck5hbWUsIHN0YXRlLnNjaGVtYSk7XHJcbiAgICByZXR1cm4gd3JhcEluJDEodHlwZSwgYXR0cmlidXRlcykoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxuY29uc3Qgd3JhcEluTGlzdCA9ICh0eXBlT3JOYW1lLCBhdHRyaWJ1dGVzID0ge30pID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICBjb25zdCB0eXBlID0gZ2V0Tm9kZVR5cGUodHlwZU9yTmFtZSwgc3RhdGUuc2NoZW1hKTtcclxuICAgIHJldHVybiB3cmFwSW5MaXN0JDEodHlwZSwgYXR0cmlidXRlcykoc3RhdGUsIGRpc3BhdGNoKTtcclxufTtcblxudmFyIGNvbW1hbmRzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGJsdXI6IGJsdXIsXG4gIGNsZWFyQ29udGVudDogY2xlYXJDb250ZW50LFxuICBjbGVhck5vZGVzOiBjbGVhck5vZGVzLFxuICBjb21tYW5kOiBjb21tYW5kLFxuICBjcmVhdGVQYXJhZ3JhcGhOZWFyOiBjcmVhdGVQYXJhZ3JhcGhOZWFyLFxuICBjdXQ6IGN1dCxcbiAgZGVsZXRlQ3VycmVudE5vZGU6IGRlbGV0ZUN1cnJlbnROb2RlLFxuICBkZWxldGVOb2RlOiBkZWxldGVOb2RlLFxuICBkZWxldGVSYW5nZTogZGVsZXRlUmFuZ2UsXG4gIGRlbGV0ZVNlbGVjdGlvbjogZGVsZXRlU2VsZWN0aW9uLFxuICBlbnRlcjogZW50ZXIsXG4gIGV4aXRDb2RlOiBleGl0Q29kZSxcbiAgZXh0ZW5kTWFya1JhbmdlOiBleHRlbmRNYXJrUmFuZ2UsXG4gIGZpcnN0OiBmaXJzdCxcbiAgZm9jdXM6IGZvY3VzLFxuICBmb3JFYWNoOiBmb3JFYWNoLFxuICBpbnNlcnRDb250ZW50OiBpbnNlcnRDb250ZW50LFxuICBpbnNlcnRDb250ZW50QXQ6IGluc2VydENvbnRlbnRBdCxcbiAgam9pblVwOiBqb2luVXAsXG4gIGpvaW5Eb3duOiBqb2luRG93bixcbiAgam9pbkJhY2t3YXJkOiBqb2luQmFja3dhcmQsXG4gIGpvaW5Gb3J3YXJkOiBqb2luRm9yd2FyZCxcbiAgam9pbkl0ZW1CYWNrd2FyZDogam9pbkl0ZW1CYWNrd2FyZCxcbiAgam9pbkl0ZW1Gb3J3YXJkOiBqb2luSXRlbUZvcndhcmQsXG4gIGpvaW5UZXh0YmxvY2tCYWNrd2FyZDogam9pblRleHRibG9ja0JhY2t3YXJkLFxuICBqb2luVGV4dGJsb2NrRm9yd2FyZDogam9pblRleHRibG9ja0ZvcndhcmQsXG4gIGtleWJvYXJkU2hvcnRjdXQ6IGtleWJvYXJkU2hvcnRjdXQsXG4gIGxpZnQ6IGxpZnQsXG4gIGxpZnRFbXB0eUJsb2NrOiBsaWZ0RW1wdHlCbG9jayxcbiAgbGlmdExpc3RJdGVtOiBsaWZ0TGlzdEl0ZW0sXG4gIG5ld2xpbmVJbkNvZGU6IG5ld2xpbmVJbkNvZGUsXG4gIHJlc2V0QXR0cmlidXRlczogcmVzZXRBdHRyaWJ1dGVzLFxuICBzY3JvbGxJbnRvVmlldzogc2Nyb2xsSW50b1ZpZXcsXG4gIHNlbGVjdEFsbDogc2VsZWN0QWxsLFxuICBzZWxlY3ROb2RlQmFja3dhcmQ6IHNlbGVjdE5vZGVCYWNrd2FyZCxcbiAgc2VsZWN0Tm9kZUZvcndhcmQ6IHNlbGVjdE5vZGVGb3J3YXJkLFxuICBzZWxlY3RQYXJlbnROb2RlOiBzZWxlY3RQYXJlbnROb2RlLFxuICBzZWxlY3RUZXh0YmxvY2tFbmQ6IHNlbGVjdFRleHRibG9ja0VuZCxcbiAgc2VsZWN0VGV4dGJsb2NrU3RhcnQ6IHNlbGVjdFRleHRibG9ja1N0YXJ0LFxuICBzZXRDb250ZW50OiBzZXRDb250ZW50LFxuICBzZXRNYXJrOiBzZXRNYXJrLFxuICBzZXRNZXRhOiBzZXRNZXRhLFxuICBzZXROb2RlOiBzZXROb2RlLFxuICBzZXROb2RlU2VsZWN0aW9uOiBzZXROb2RlU2VsZWN0aW9uLFxuICBzZXRUZXh0U2VsZWN0aW9uOiBzZXRUZXh0U2VsZWN0aW9uLFxuICBzaW5rTGlzdEl0ZW06IHNpbmtMaXN0SXRlbSxcbiAgc3BsaXRCbG9jazogc3BsaXRCbG9jayxcbiAgc3BsaXRMaXN0SXRlbTogc3BsaXRMaXN0SXRlbSxcbiAgdG9nZ2xlTGlzdDogdG9nZ2xlTGlzdCxcbiAgdG9nZ2xlTWFyazogdG9nZ2xlTWFyayxcbiAgdG9nZ2xlTm9kZTogdG9nZ2xlTm9kZSxcbiAgdG9nZ2xlV3JhcDogdG9nZ2xlV3JhcCxcbiAgdW5kb0lucHV0UnVsZTogdW5kb0lucHV0UnVsZSxcbiAgdW5zZXRBbGxNYXJrczogdW5zZXRBbGxNYXJrcyxcbiAgdW5zZXRNYXJrOiB1bnNldE1hcmssXG4gIHVwZGF0ZUF0dHJpYnV0ZXM6IHVwZGF0ZUF0dHJpYnV0ZXMsXG4gIHdyYXBJbjogd3JhcEluLFxuICB3cmFwSW5MaXN0OiB3cmFwSW5MaXN0XG59KTtcblxuY29uc3QgQ29tbWFuZHMgPSBFeHRlbnNpb24uY3JlYXRlKHtcclxuICAgIG5hbWU6ICdjb21tYW5kcycsXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5jb21tYW5kcyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XG5cbmNvbnN0IEVkaXRhYmxlID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnZWRpdGFibGUnLFxyXG4gICAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgICAgICAgICAga2V5OiBuZXcgUGx1Z2luS2V5KCdlZGl0YWJsZScpLFxyXG4gICAgICAgICAgICAgICAgcHJvcHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogKCkgPT4gdGhpcy5lZGl0b3Iub3B0aW9ucy5lZGl0YWJsZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuY29uc3QgRm9jdXNFdmVudHMgPSBFeHRlbnNpb24uY3JlYXRlKHtcclxuICAgIG5hbWU6ICdmb2N1c0V2ZW50cycsXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgY29uc3QgeyBlZGl0b3IgfSA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbmV3IFBsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBrZXk6IG5ldyBQbHVnaW5LZXkoJ2ZvY3VzRXZlbnRzJyksXHJcbiAgICAgICAgICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZURPTUV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogKHZpZXcsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaXNGb2N1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZWRpdG9yLnN0YXRlLnRyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE1ldGEoJ2ZvY3VzJywgeyBldmVudCB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRNZXRhKCdhZGRUb0hpc3RvcnknLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyYW5zYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmx1cjogKHZpZXcsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaXNGb2N1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGVkaXRvci5zdGF0ZS50clxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRNZXRhKCdibHVyJywgeyBldmVudCB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRNZXRhKCdhZGRUb0hpc3RvcnknLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyYW5zYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5jb25zdCBLZXltYXAgPSBFeHRlbnNpb24uY3JlYXRlKHtcclxuICAgIG5hbWU6ICdrZXltYXAnLFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlQmFja3NwYWNlID0gKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuZmlyc3QoKHsgY29tbWFuZHMgfSkgPT4gW1xyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy51bmRvSW5wdXRSdWxlKCksXHJcbiAgICAgICAgICAgIC8vIG1heWJlIGNvbnZlcnQgZmlyc3QgdGV4dCBibG9jayBub2RlIHRvIGRlZmF1bHQgbm9kZVxyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy5jb21tYW5kKCh7IHRyIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBkb2MgfSA9IHRyO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbXB0eSwgJGFuY2hvciB9ID0gc2VsZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBwb3MsIHBhcmVudCB9ID0gJGFuY2hvcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRwYXJlbnRQb3MgPSAkYW5jaG9yLnBhcmVudC5pc1RleHRibG9jayA/IHRyLmRvYy5yZXNvbHZlKHBvcyAtIDEpIDogJGFuY2hvcjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudElzSXNvbGF0aW5nID0gJHBhcmVudFBvcy5wYXJlbnQudHlwZS5zcGVjLmlzb2xhdGluZztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFBvcyA9ICRhbmNob3IucG9zIC0gJGFuY2hvci5wYXJlbnRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0F0U3RhcnQgPSAocGFyZW50SXNJc29sYXRpbmcgJiYgJHBhcmVudFBvcy5wYXJlbnQuY2hpbGRDb3VudCA9PT0gMSlcclxuICAgICAgICAgICAgICAgICAgICA/IHBhcmVudFBvcyA9PT0gJGFuY2hvci5wb3NcclxuICAgICAgICAgICAgICAgICAgICA6IFNlbGVjdGlvbi5hdFN0YXJ0KGRvYykuZnJvbSA9PT0gcG9zO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbXB0eSB8fCAhaXNBdFN0YXJ0IHx8ICFwYXJlbnQudHlwZS5pc1RleHRibG9jayB8fCBwYXJlbnQudGV4dENvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLmNsZWFyTm9kZXMoKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLmRlbGV0ZVNlbGVjdGlvbigpLFxyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy5qb2luQmFja3dhcmQoKSxcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuc2VsZWN0Tm9kZUJhY2t3YXJkKCksXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlRGVsZXRlID0gKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuZmlyc3QoKHsgY29tbWFuZHMgfSkgPT4gW1xyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy5kZWxldGVTZWxlY3Rpb24oKSxcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuZGVsZXRlQ3VycmVudE5vZGUoKSxcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuam9pbkZvcndhcmQoKSxcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuc2VsZWN0Tm9kZUZvcndhcmQoKSxcclxuICAgICAgICBdKTtcclxuICAgICAgICBjb25zdCBoYW5kbGVFbnRlciA9ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLmZpcnN0KCh7IGNvbW1hbmRzIH0pID0+IFtcclxuICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMubmV3bGluZUluQ29kZSgpLFxyXG4gICAgICAgICAgICAoKSA9PiBjb21tYW5kcy5jcmVhdGVQYXJhZ3JhcGhOZWFyKCksXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLmxpZnRFbXB0eUJsb2NrKCksXHJcbiAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLnNwbGl0QmxvY2soKSxcclxuICAgICAgICBdKTtcclxuICAgICAgICBjb25zdCBiYXNlS2V5bWFwID0ge1xyXG4gICAgICAgICAgICBFbnRlcjogaGFuZGxlRW50ZXIsXHJcbiAgICAgICAgICAgICdNb2QtRW50ZXInOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5leGl0Q29kZSgpLFxyXG4gICAgICAgICAgICBCYWNrc3BhY2U6IGhhbmRsZUJhY2tzcGFjZSxcclxuICAgICAgICAgICAgJ01vZC1CYWNrc3BhY2UnOiBoYW5kbGVCYWNrc3BhY2UsXHJcbiAgICAgICAgICAgICdTaGlmdC1CYWNrc3BhY2UnOiBoYW5kbGVCYWNrc3BhY2UsXHJcbiAgICAgICAgICAgIERlbGV0ZTogaGFuZGxlRGVsZXRlLFxyXG4gICAgICAgICAgICAnTW9kLURlbGV0ZSc6IGhhbmRsZURlbGV0ZSxcclxuICAgICAgICAgICAgJ01vZC1hJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc2VsZWN0QWxsKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBwY0tleW1hcCA9IHtcclxuICAgICAgICAgICAgLi4uYmFzZUtleW1hcCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IG1hY0tleW1hcCA9IHtcclxuICAgICAgICAgICAgLi4uYmFzZUtleW1hcCxcclxuICAgICAgICAgICAgJ0N0cmwtaCc6IGhhbmRsZUJhY2tzcGFjZSxcclxuICAgICAgICAgICAgJ0FsdC1CYWNrc3BhY2UnOiBoYW5kbGVCYWNrc3BhY2UsXHJcbiAgICAgICAgICAgICdDdHJsLWQnOiBoYW5kbGVEZWxldGUsXHJcbiAgICAgICAgICAgICdDdHJsLUFsdC1CYWNrc3BhY2UnOiBoYW5kbGVEZWxldGUsXHJcbiAgICAgICAgICAgICdBbHQtRGVsZXRlJzogaGFuZGxlRGVsZXRlLFxyXG4gICAgICAgICAgICAnQWx0LWQnOiBoYW5kbGVEZWxldGUsXHJcbiAgICAgICAgICAgICdDdHJsLWEnOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5zZWxlY3RUZXh0YmxvY2tTdGFydCgpLFxyXG4gICAgICAgICAgICAnQ3RybC1lJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc2VsZWN0VGV4dGJsb2NrRW5kKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoaXNpT1MoKSB8fCBpc01hY09TKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hY0tleW1hcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBjS2V5bWFwO1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAvLyBXaXRoIHRoaXMgcGx1Z2luIHdlIGNoZWNrIGlmIHRoZSB3aG9sZSBkb2N1bWVudCB3YXMgc2VsZWN0ZWQgYW5kIGRlbGV0ZWQuXHJcbiAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSB3ZSB3aWxsIGFkZGl0aW9uYWxseSBjYWxsIGBjbGVhck5vZGVzKClgIHRvIGNvbnZlcnQgZS5nLiBhIGhlYWRpbmdcclxuICAgICAgICAgICAgLy8gdG8gYSBwYXJhZ3JhcGggaWYgbmVjZXNzYXJ5LlxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGFsdGVybmF0aXZlIHRvIFByb3NlTWlycm9yJ3MgYEFsbFNlbGVjdGlvbmAsIHdoaWNoIGRvZXNu4oCZdCB3b3JrIHdlbGxcclxuICAgICAgICAgICAgLy8gd2l0aCBtYW55IG90aGVyIGNvbW1hbmRzLlxyXG4gICAgICAgICAgICBuZXcgUGx1Z2luKHtcclxuICAgICAgICAgICAgICAgIGtleTogbmV3IFBsdWdpbktleSgnY2xlYXJEb2N1bWVudCcpLFxyXG4gICAgICAgICAgICAgICAgYXBwZW5kVHJhbnNhY3Rpb246ICh0cmFuc2FjdGlvbnMsIG9sZFN0YXRlLCBuZXdTdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY0NoYW5nZXMgPSB0cmFuc2FjdGlvbnMuc29tZSh0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5kb2NDaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAhb2xkU3RhdGUuZG9jLmVxKG5ld1N0YXRlLmRvYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb2NDaGFuZ2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlbXB0eSwgZnJvbSwgdG8gfSA9IG9sZFN0YXRlLnNlbGVjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxGcm9tID0gU2VsZWN0aW9uLmF0U3RhcnQob2xkU3RhdGUuZG9jKS5mcm9tO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEVuZCA9IFNlbGVjdGlvbi5hdEVuZChvbGRTdGF0ZS5kb2MpLnRvO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbFdhc1NlbGVjdGVkID0gZnJvbSA9PT0gYWxsRnJvbSAmJiB0byA9PT0gYWxsRW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbXB0eSB8fCAhYWxsV2FzU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0VtcHR5ID0gbmV3U3RhdGUuZG9jLnRleHRCZXR3ZWVuKDAsIG5ld1N0YXRlLmRvYy5jb250ZW50LnNpemUsICcgJywgJyAnKS5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHIgPSBuZXdTdGF0ZS50cjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGNyZWF0ZUNoYWluYWJsZVN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IG5ld1N0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjogdHIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb21tYW5kcyB9ID0gbmV3IENvbW1hbmRNYW5hZ2VyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLmVkaXRvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZHMuY2xlYXJOb2RlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdHIuc3RlcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5jb25zdCBUYWJpbmRleCA9IEV4dGVuc2lvbi5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ3RhYmluZGV4JyxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBuZXcgUGx1Z2luKHtcclxuICAgICAgICAgICAgICAgIGtleTogbmV3IFBsdWdpbktleSgndGFiaW5kZXgnKSxcclxuICAgICAgICAgICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogdGhpcy5lZGl0b3IuaXNFZGl0YWJsZSA/IHsgdGFiaW5kZXg6ICcwJyB9IDoge30sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbnZhciBleHRlbnNpb25zID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIENsaXBib2FyZFRleHRTZXJpYWxpemVyOiBDbGlwYm9hcmRUZXh0U2VyaWFsaXplcixcbiAgQ29tbWFuZHM6IENvbW1hbmRzLFxuICBFZGl0YWJsZTogRWRpdGFibGUsXG4gIEZvY3VzRXZlbnRzOiBGb2N1c0V2ZW50cyxcbiAgS2V5bWFwOiBLZXltYXAsXG4gIFRhYmluZGV4OiBUYWJpbmRleFxufSk7XG5cbmNsYXNzIE5vZGVQb3Mge1xyXG4gICAgY29uc3RydWN0b3IocG9zLCBlZGl0b3IsIGlzQmxvY2sgPSBmYWxzZSwgbm9kZSA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmFjdHVhbERlcHRoID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzQmxvY2sgPSBpc0Jsb2NrO1xyXG4gICAgICAgIHRoaXMucmVzb2x2ZWRQb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IG5vZGU7XHJcbiAgICB9XHJcbiAgICBnZXQgbmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLnR5cGUubmFtZTtcclxuICAgIH1cclxuICAgIGdldCBub2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnROb2RlIHx8IHRoaXMucmVzb2x2ZWRQb3Mubm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IGVsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLnZpZXcuZG9tQXRQb3ModGhpcy5wb3MpLm5vZGU7XHJcbiAgICB9XHJcbiAgICBnZXQgZGVwdGgoKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLmFjdHVhbERlcHRoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnJlc29sdmVkUG9zLmRlcHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0IHBvcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlZFBvcy5wb3M7XHJcbiAgICB9XHJcbiAgICBnZXQgY29udGVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmNvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICBzZXQgY29udGVudChjb250ZW50KSB7XHJcbiAgICAgICAgbGV0IGZyb20gPSB0aGlzLmZyb207XHJcbiAgICAgICAgbGV0IHRvID0gdGhpcy50bztcclxuICAgICAgICBpZiAodGhpcy5pc0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgWW91IGNhbuKAmXQgc2V0IGNvbnRlbnQgb24gYSBibG9jayBub2RlLiBUcmllZCB0byBzZXQgY29udGVudCBvbiAke3RoaXMubmFtZX0gYXQgJHt0aGlzLnBvc31gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmcm9tID0gdGhpcy5mcm9tICsgMTtcclxuICAgICAgICAgICAgdG8gPSB0aGlzLnRvIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lZGl0b3IuY29tbWFuZHMuaW5zZXJ0Q29udGVudEF0KHsgZnJvbSwgdG8gfSwgY29udGVudCk7XHJcbiAgICB9XHJcbiAgICBnZXQgYXR0cmlidXRlcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLmF0dHJzO1xyXG4gICAgfVxyXG4gICAgZ2V0IHRleHRDb250ZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUudGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub2RlLm5vZGVTaXplO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZyb20oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNCbG9jaykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVkUG9zLnN0YXJ0KHRoaXMucmVzb2x2ZWRQb3MuZGVwdGgpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHJhbmdlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGZyb206IHRoaXMuZnJvbSxcclxuICAgICAgICAgICAgdG86IHRoaXMudG8sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGdldCB0bygpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvcyArIHRoaXMuc2l6ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZWRQb3MuZW5kKHRoaXMucmVzb2x2ZWRQb3MuZGVwdGgpICsgKHRoaXMubm9kZS5pc1RleHQgPyAwIDogMSk7XHJcbiAgICB9XHJcbiAgICBnZXQgcGFyZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmRlcHRoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJlbnRQb3MgPSB0aGlzLnJlc29sdmVkUG9zLnN0YXJ0KHRoaXMucmVzb2x2ZWRQb3MuZGVwdGggLSAxKTtcclxuICAgICAgICBjb25zdCAkcG9zID0gdGhpcy5yZXNvbHZlZFBvcy5kb2MucmVzb2x2ZShwYXJlbnRQb3MpO1xyXG4gICAgICAgIHJldHVybiBuZXcgTm9kZVBvcygkcG9zLCB0aGlzLmVkaXRvcik7XHJcbiAgICB9XHJcbiAgICBnZXQgYmVmb3JlKCkge1xyXG4gICAgICAgIGxldCAkcG9zID0gdGhpcy5yZXNvbHZlZFBvcy5kb2MucmVzb2x2ZSh0aGlzLmZyb20gLSAodGhpcy5pc0Jsb2NrID8gMSA6IDIpKTtcclxuICAgICAgICBpZiAoJHBvcy5kZXB0aCAhPT0gdGhpcy5kZXB0aCkge1xyXG4gICAgICAgICAgICAkcG9zID0gdGhpcy5yZXNvbHZlZFBvcy5kb2MucmVzb2x2ZSh0aGlzLmZyb20gLSAzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlUG9zKCRwb3MsIHRoaXMuZWRpdG9yKTtcclxuICAgIH1cclxuICAgIGdldCBhZnRlcigpIHtcclxuICAgICAgICBsZXQgJHBvcyA9IHRoaXMucmVzb2x2ZWRQb3MuZG9jLnJlc29sdmUodGhpcy50byArICh0aGlzLmlzQmxvY2sgPyAyIDogMSkpO1xyXG4gICAgICAgIGlmICgkcG9zLmRlcHRoICE9PSB0aGlzLmRlcHRoKSB7XHJcbiAgICAgICAgICAgICRwb3MgPSB0aGlzLnJlc29sdmVkUG9zLmRvYy5yZXNvbHZlKHRoaXMudG8gKyAzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlUG9zKCRwb3MsIHRoaXMuZWRpdG9yKTtcclxuICAgIH1cclxuICAgIGdldCBjaGlsZHJlbigpIHtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgIHRoaXMubm9kZS5jb250ZW50LmZvckVhY2goKG5vZGUsIG9mZnNldCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0Jsb2NrID0gbm9kZS5pc0Jsb2NrICYmICFub2RlLmlzVGV4dGJsb2NrO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRQb3MgPSB0aGlzLnBvcyArIG9mZnNldCArIChpc0Jsb2NrID8gMCA6IDEpO1xyXG4gICAgICAgICAgICBjb25zdCAkcG9zID0gdGhpcy5yZXNvbHZlZFBvcy5kb2MucmVzb2x2ZSh0YXJnZXRQb3MpO1xyXG4gICAgICAgICAgICBpZiAoIWlzQmxvY2sgJiYgJHBvcy5kZXB0aCA8PSB0aGlzLmRlcHRoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlUG9zID0gbmV3IE5vZGVQb3MoJHBvcywgdGhpcy5lZGl0b3IsIGlzQmxvY2ssIGlzQmxvY2sgPyBub2RlIDogbnVsbCk7XHJcbiAgICAgICAgICAgIGlmIChpc0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGVQb3MuYWN0dWFsRGVwdGggPSB0aGlzLmRlcHRoICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5ldyBOb2RlUG9zKCRwb3MsIHRoaXMuZWRpdG9yLCBpc0Jsb2NrLCBpc0Jsb2NrID8gbm9kZSA6IG51bGwpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICBnZXQgZmlyc3RDaGlsZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlblswXSB8fCBudWxsO1xyXG4gICAgfVxyXG4gICAgZ2V0IGxhc3RDaGlsZCgpIHtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdIHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICBjbG9zZXN0KHNlbGVjdG9yLCBhdHRyaWJ1dGVzID0ge30pIHtcclxuICAgICAgICBsZXQgbm9kZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IGN1cnJlbnROb2RlID0gdGhpcy5wYXJlbnQ7XHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnROb2RlICYmICFub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Tm9kZS5ub2RlLnR5cGUubmFtZSA9PT0gc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZUF0dHJpYnV0ZXMgPSBjdXJyZW50Tm9kZS5ub2RlLmF0dHJzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJLZXlzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGF0dHJLZXlzLmxlbmd0aDsgaW5kZXggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhdHRyS2V5c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlQXR0cmlidXRlc1trZXldICE9PSBhdHRyaWJ1dGVzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGN1cnJlbnROb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUucGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbm9kZTtcclxuICAgIH1cclxuICAgIHF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IsIGF0dHJpYnV0ZXMgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IsIGF0dHJpYnV0ZXMsIHRydWUpWzBdIHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICBxdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yLCBhdHRyaWJ1dGVzID0ge30sIGZpcnN0SXRlbU9ubHkgPSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBub2RlcyA9IFtdO1xyXG4gICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCBjaGlsZHJlbiByZWN1cnNpdmVseSBmaW5kaW5nIGFsbCBub2RlcyB3aGljaCBtYXRjaCB0aGUgc2VsZWN0b3Igd2l0aCB0aGUgbm9kZSBuYW1lXHJcbiAgICAgICAgaWYgKHRoaXMuaXNCbG9jayB8fCAhdGhpcy5jaGlsZHJlbiB8fCB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9kZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjaGlsZFBvcyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZFBvcy5ub2RlLnR5cGUubmFtZSA9PT0gc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZUF0dHJpYnV0ZXMgPSBjaGlsZFBvcy5ub2RlLmF0dHJzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJLZXlzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGF0dHJLZXlzLmxlbmd0aDsgaW5kZXggKz0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhdHRyS2V5c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlQXR0cmlidXRlc1trZXldICE9PSBhdHRyaWJ1dGVzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goY2hpbGRQb3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0SXRlbU9ubHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZXMgPSBub2Rlcy5jb25jYXQoY2hpbGRQb3MucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBub2RlcztcclxuICAgIH1cclxuICAgIHNldEF0dHJpYnV0ZShhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkU2VsZWN0aW9uID0gdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLmNoYWluKCkuc2V0VGV4dFNlbGVjdGlvbih0aGlzLmZyb20pLnVwZGF0ZUF0dHJpYnV0ZXModGhpcy5ub2RlLnR5cGUubmFtZSwgYXR0cmlidXRlcykuc2V0VGV4dFNlbGVjdGlvbihvbGRTZWxlY3Rpb24uZnJvbSlcclxuICAgICAgICAgICAgLnJ1bigpO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IHN0eWxlID0gYC5Qcm9zZU1pcnJvciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLlByb3NlTWlycm9yIHtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gIHdoaXRlLXNwYWNlOiBicmVhay1zcGFjZXM7XG4gIC13ZWJraXQtZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTtcbiAgZm9udC12YXJpYW50LWxpZ2F0dXJlczogbm9uZTtcbiAgZm9udC1mZWF0dXJlLXNldHRpbmdzOiBcImxpZ2FcIiAwOyAvKiB0aGUgYWJvdmUgZG9lc24ndCBzZWVtIHRvIHdvcmsgaW4gRWRnZSAqL1xufVxuXG4uUHJvc2VNaXJyb3IgW2NvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCJdIHtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbn1cblxuLlByb3NlTWlycm9yIFtjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiXSBbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiXSB7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuLlByb3NlTWlycm9yIHByZSB7XG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbn1cblxuaW1nLlByb3NlTWlycm9yLXNlcGFyYXRvciB7XG4gIGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50O1xuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAxcHggIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAxcHggIWltcG9ydGFudDtcbn1cblxuLlByb3NlTWlycm9yLWdhcGN1cnNvciB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1hcmdpbjogMDtcbn1cblxuLlByb3NlTWlycm9yLWdhcGN1cnNvcjphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogLTJweDtcbiAgd2lkdGg6IDIwcHg7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCBibGFjaztcbiAgYW5pbWF0aW9uOiBQcm9zZU1pcnJvci1jdXJzb3ItYmxpbmsgMS4xcyBzdGVwcygyLCBzdGFydCkgaW5maW5pdGU7XG59XG5cbkBrZXlmcmFtZXMgUHJvc2VNaXJyb3ItY3Vyc29yLWJsaW5rIHtcbiAgdG8ge1xuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgfVxufVxuXG4uUHJvc2VNaXJyb3ItaGlkZXNlbGVjdGlvbiAqOjpzZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKjo6LW1vei1zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb24gKiB7XG4gIGNhcmV0LWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuLlByb3NlTWlycm9yLWZvY3VzZWQgLlByb3NlTWlycm9yLWdhcGN1cnNvciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4udGlwcHktYm94W2RhdGEtYW5pbWF0aW9uPWZhZGVdW2RhdGEtc3RhdGU9aGlkZGVuXSB7XG4gIG9wYWNpdHk6IDBcbn1gO1xuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZVRhZyhzdHlsZSwgbm9uY2UsIHN1ZmZpeCkge1xyXG4gICAgY29uc3QgdGlwdGFwU3R5bGVUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzdHlsZVtkYXRhLXRpcHRhcC1zdHlsZSR7c3VmZml4ID8gYC0ke3N1ZmZpeH1gIDogJyd9XWApO1xyXG4gICAgaWYgKHRpcHRhcFN0eWxlVGFnICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRpcHRhcFN0eWxlVGFnO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc3R5bGVOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgIGlmIChub25jZSkge1xyXG4gICAgICAgIHN0eWxlTm9kZS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xyXG4gICAgfVxyXG4gICAgc3R5bGVOb2RlLnNldEF0dHJpYnV0ZShgZGF0YS10aXB0YXAtc3R5bGUke3N1ZmZpeCA/IGAtJHtzdWZmaXh9YCA6ICcnfWAsICcnKTtcclxuICAgIHN0eWxlTm9kZS5pbm5lckhUTUwgPSBzdHlsZTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGVOb2RlKTtcclxuICAgIHJldHVybiBzdHlsZU5vZGU7XHJcbn1cblxuY2xhc3MgRWRpdG9yIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pc0ZvY3VzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmV4dGVuc2lvblN0b3JhZ2UgPSB7fTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICAgICAgICBjb250ZW50OiAnJyxcclxuICAgICAgICAgICAgaW5qZWN0Q1NTOiB0cnVlLFxyXG4gICAgICAgICAgICBpbmplY3ROb25jZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBleHRlbnNpb25zOiBbXSxcclxuICAgICAgICAgICAgYXV0b2ZvY3VzOiBmYWxzZSxcclxuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGVkaXRvclByb3BzOiB7fSxcclxuICAgICAgICAgICAgcGFyc2VPcHRpb25zOiB7fSxcclxuICAgICAgICAgICAgZW5hYmxlSW5wdXRSdWxlczogdHJ1ZSxcclxuICAgICAgICAgICAgZW5hYmxlUGFzdGVSdWxlczogdHJ1ZSxcclxuICAgICAgICAgICAgZW5hYmxlQ29yZUV4dGVuc2lvbnM6IHRydWUsXHJcbiAgICAgICAgICAgIG9uQmVmb3JlQ3JlYXRlOiAoKSA9PiBudWxsLFxyXG4gICAgICAgICAgICBvbkNyZWF0ZTogKCkgPT4gbnVsbCxcclxuICAgICAgICAgICAgb25VcGRhdGU6ICgpID0+IG51bGwsXHJcbiAgICAgICAgICAgIG9uU2VsZWN0aW9uVXBkYXRlOiAoKSA9PiBudWxsLFxyXG4gICAgICAgICAgICBvblRyYW5zYWN0aW9uOiAoKSA9PiBudWxsLFxyXG4gICAgICAgICAgICBvbkZvY3VzOiAoKSA9PiBudWxsLFxyXG4gICAgICAgICAgICBvbkJsdXI6ICgpID0+IG51bGwsXHJcbiAgICAgICAgICAgIG9uRGVzdHJveTogKCkgPT4gbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuaXNDYXB0dXJpbmdUcmFuc2FjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FwdHVyZWRUcmFuc2FjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlRXh0ZW5zaW9uTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29tbWFuZE1hbmFnZXIoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVNjaGVtYSgpO1xyXG4gICAgICAgIHRoaXMub24oJ2JlZm9yZUNyZWF0ZScsIHRoaXMub3B0aW9ucy5vbkJlZm9yZUNyZWF0ZSk7XHJcbiAgICAgICAgdGhpcy5lbWl0KCdiZWZvcmVDcmVhdGUnLCB7IGVkaXRvcjogdGhpcyB9KTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoKTtcclxuICAgICAgICB0aGlzLmluamVjdENTUygpO1xyXG4gICAgICAgIHRoaXMub24oJ2NyZWF0ZScsIHRoaXMub3B0aW9ucy5vbkNyZWF0ZSk7XHJcbiAgICAgICAgdGhpcy5vbigndXBkYXRlJywgdGhpcy5vcHRpb25zLm9uVXBkYXRlKTtcclxuICAgICAgICB0aGlzLm9uKCdzZWxlY3Rpb25VcGRhdGUnLCB0aGlzLm9wdGlvbnMub25TZWxlY3Rpb25VcGRhdGUpO1xyXG4gICAgICAgIHRoaXMub24oJ3RyYW5zYWN0aW9uJywgdGhpcy5vcHRpb25zLm9uVHJhbnNhY3Rpb24pO1xyXG4gICAgICAgIHRoaXMub24oJ2ZvY3VzJywgdGhpcy5vcHRpb25zLm9uRm9jdXMpO1xyXG4gICAgICAgIHRoaXMub24oJ2JsdXInLCB0aGlzLm9wdGlvbnMub25CbHVyKTtcclxuICAgICAgICB0aGlzLm9uKCdkZXN0cm95JywgdGhpcy5vcHRpb25zLm9uRGVzdHJveSk7XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuZm9jdXModGhpcy5vcHRpb25zLmF1dG9mb2N1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY3JlYXRlJywgeyBlZGl0b3I6IHRoaXMgfSk7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGVkaXRvciBzdG9yYWdlLlxyXG4gICAgICovXHJcbiAgICBnZXQgc3RvcmFnZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb25TdG9yYWdlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBbiBvYmplY3Qgb2YgYWxsIHJlZ2lzdGVyZWQgY29tbWFuZHMuXHJcbiAgICAgKi9cclxuICAgIGdldCBjb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21tYW5kTWFuYWdlci5jb21tYW5kcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgY29tbWFuZCBjaGFpbiB0byBjYWxsIG11bHRpcGxlIGNvbW1hbmRzIGF0IG9uY2UuXHJcbiAgICAgKi9cclxuICAgIGNoYWluKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYW5hZ2VyLmNoYWluKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgY29tbWFuZCBvciBhIGNvbW1hbmQgY2hhaW4gY2FuIGJlIGV4ZWN1dGVkLiBXaXRob3V0IGV4ZWN1dGluZyBpdC5cclxuICAgICAqL1xyXG4gICAgY2FuKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRNYW5hZ2VyLmNhbigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbmplY3QgQ1NTIHN0eWxlcy5cclxuICAgICAqL1xyXG4gICAgaW5qZWN0Q1NTKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5qZWN0Q1NTICYmIGRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3NzID0gY3JlYXRlU3R5bGVUYWcoc3R5bGUsIHRoaXMub3B0aW9ucy5pbmplY3ROb25jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgZWRpdG9yIG9wdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQSBsaXN0IG9mIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zID0ge30pIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMub3B0aW9ucyxcclxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICghdGhpcy52aWV3IHx8ICF0aGlzLnN0YXRlIHx8IHRoaXMuaXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmVkaXRvclByb3BzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5zZXRQcm9wcyh0aGlzLm9wdGlvbnMuZWRpdG9yUHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy5zdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBlZGl0YWJsZSBzdGF0ZSBvZiB0aGUgZWRpdG9yLlxyXG4gICAgICovXHJcbiAgICBzZXRFZGl0YWJsZShlZGl0YWJsZSwgZW1pdFVwZGF0ZSA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLnNldE9wdGlvbnMoeyBlZGl0YWJsZSB9KTtcclxuICAgICAgICBpZiAoZW1pdFVwZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHsgZWRpdG9yOiB0aGlzLCB0cmFuc2FjdGlvbjogdGhpcy5zdGF0ZS50ciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgZWRpdG9yIGlzIGVkaXRhYmxlLlxyXG4gICAgICovXHJcbiAgICBnZXQgaXNFZGl0YWJsZSgpIHtcclxuICAgICAgICAvLyBzaW5jZSBwbHVnaW5zIGFyZSBhcHBsaWVkIGFmdGVyIGNyZWF0aW5nIHRoZSB2aWV3XHJcbiAgICAgICAgLy8gYGVkaXRhYmxlYCBpcyBhbHdheXMgYHRydWVgIGZvciBvbmUgdGljay5cclxuICAgICAgICAvLyB0aGF04oCZcyB3aHkgd2UgYWxzbyBoYXZlIHRvIGNoZWNrIGZvciBgb3B0aW9ucy5lZGl0YWJsZWBcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmVkaXRhYmxlICYmIHRoaXMudmlldyAmJiB0aGlzLnZpZXcuZWRpdGFibGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGVkaXRvciBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IHN0YXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc3RhdGU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgUHJvc2VNaXJyb3IgcGx1Z2luLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwbHVnaW4gQSBQcm9zZU1pcnJvciBwbHVnaW5cclxuICAgICAqIEBwYXJhbSBoYW5kbGVQbHVnaW5zIENvbnRyb2wgaG93IHRvIG1lcmdlIHRoZSBwbHVnaW4gaW50byB0aGUgZXhpc3RpbmcgcGx1Z2lucy5cclxuICAgICAqL1xyXG4gICAgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luLCBoYW5kbGVQbHVnaW5zKSB7XHJcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IGlzRnVuY3Rpb24oaGFuZGxlUGx1Z2lucylcclxuICAgICAgICAgICAgPyBoYW5kbGVQbHVnaW5zKHBsdWdpbiwgWy4uLnRoaXMuc3RhdGUucGx1Z2luc10pXHJcbiAgICAgICAgICAgIDogWy4uLnRoaXMuc3RhdGUucGx1Z2lucywgcGx1Z2luXTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUucmVjb25maWd1cmUoeyBwbHVnaW5zIH0pO1xyXG4gICAgICAgIHRoaXMudmlldy51cGRhdGVTdGF0ZShzdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVucmVnaXN0ZXIgYSBQcm9zZU1pcnJvciBwbHVnaW4uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWVPclBsdWdpbktleSBUaGUgcGx1Z2lucyBuYW1lXHJcbiAgICAgKi9cclxuICAgIHVucmVnaXN0ZXJQbHVnaW4obmFtZU9yUGx1Z2luS2V5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHR5cGVvZiBuYW1lT3JQbHVnaW5LZXkgPT09ICdzdHJpbmcnID8gYCR7bmFtZU9yUGx1Z2luS2V5fSRgIDogbmFtZU9yUGx1Z2luS2V5LmtleTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RhdGUucmVjb25maWd1cmUoe1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHBsdWdpbnM6IHRoaXMuc3RhdGUucGx1Z2lucy5maWx0ZXIocGx1Z2luID0+ICFwbHVnaW4ua2V5LnN0YXJ0c1dpdGgobmFtZSkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudmlldy51cGRhdGVTdGF0ZShzdGF0ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gZXh0ZW5zaW9uIG1hbmFnZXIuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUV4dGVuc2lvbk1hbmFnZXIoKSB7XHJcbiAgICAgICAgY29uc3QgY29yZUV4dGVuc2lvbnMgPSB0aGlzLm9wdGlvbnMuZW5hYmxlQ29yZUV4dGVuc2lvbnMgPyBPYmplY3QudmFsdWVzKGV4dGVuc2lvbnMpIDogW107XHJcbiAgICAgICAgY29uc3QgYWxsRXh0ZW5zaW9ucyA9IFsuLi5jb3JlRXh0ZW5zaW9ucywgLi4udGhpcy5vcHRpb25zLmV4dGVuc2lvbnNdLmZpbHRlcihleHRlbnNpb24gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gWydleHRlbnNpb24nLCAnbm9kZScsICdtYXJrJ10uaW5jbHVkZXMoZXh0ZW5zaW9uID09PSBudWxsIHx8IGV4dGVuc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0ZW5zaW9uLnR5cGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uTWFuYWdlciA9IG5ldyBFeHRlbnNpb25NYW5hZ2VyKGFsbEV4dGVuc2lvbnMsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIGNvbW1hbmQgbWFuYWdlci5cclxuICAgICAqL1xyXG4gICAgY3JlYXRlQ29tbWFuZE1hbmFnZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kTWFuYWdlciA9IG5ldyBDb21tYW5kTWFuYWdlcih7XHJcbiAgICAgICAgICAgIGVkaXRvcjogdGhpcyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIFByb3NlTWlycm9yIHNjaGVtYS5cclxuICAgICAqL1xyXG4gICAgY3JlYXRlU2NoZW1hKCkge1xyXG4gICAgICAgIHRoaXMuc2NoZW1hID0gdGhpcy5leHRlbnNpb25NYW5hZ2VyLnNjaGVtYTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIFByb3NlTWlycm9yIHZpZXcuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVZpZXcoKSB7XHJcbiAgICAgICAgY29uc3QgZG9jID0gY3JlYXRlRG9jdW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnQsIHRoaXMuc2NoZW1hLCB0aGlzLm9wdGlvbnMucGFyc2VPcHRpb25zKTtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSByZXNvbHZlRm9jdXNQb3NpdGlvbihkb2MsIHRoaXMub3B0aW9ucy5hdXRvZm9jdXMpO1xyXG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBFZGl0b3JWaWV3KHRoaXMub3B0aW9ucy5lbGVtZW50LCB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMub3B0aW9ucy5lZGl0b3JQcm9wcyxcclxuICAgICAgICAgICAgZGlzcGF0Y2hUcmFuc2FjdGlvbjogdGhpcy5kaXNwYXRjaFRyYW5zYWN0aW9uLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgIHN0YXRlOiBFZGl0b3JTdGF0ZS5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgICAgZG9jLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBzZWxlY3Rpb24gfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBgZWRpdG9yLnZpZXdgIGlzIG5vdCB5ZXQgYXZhaWxhYmxlIGF0IHRoaXMgdGltZS5cclxuICAgICAgICAvLyBUaGVyZWZvcmUgd2Ugd2lsbCBhZGQgYWxsIHBsdWdpbnMgYW5kIG5vZGUgdmlld3MgZGlyZWN0bHkgYWZ0ZXJ3YXJkcy5cclxuICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHRoaXMuc3RhdGUucmVjb25maWd1cmUoe1xyXG4gICAgICAgICAgICBwbHVnaW5zOiB0aGlzLmV4dGVuc2lvbk1hbmFnZXIucGx1Z2lucyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnZpZXcudXBkYXRlU3RhdGUobmV3U3RhdGUpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlTm9kZVZpZXdzKCk7XHJcbiAgICAgICAgdGhpcy5wcmVwZW5kQ2xhc3MoKTtcclxuICAgICAgICAvLyBMZXTigJlzIHN0b3JlIHRoZSBlZGl0b3IgaW5zdGFuY2UgaW4gdGhlIERPTSBlbGVtZW50LlxyXG4gICAgICAgIC8vIFNvIHdl4oCZbGwgaGF2ZSBhY2Nlc3MgdG8gaXQgZm9yIHRlc3RzLlxyXG4gICAgICAgIGNvbnN0IGRvbSA9IHRoaXMudmlldy5kb207XHJcbiAgICAgICAgZG9tLmVkaXRvciA9IHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYWxsIG5vZGUgdmlld3MuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZU5vZGVWaWV3cygpIHtcclxuICAgICAgICB0aGlzLnZpZXcuc2V0UHJvcHMoe1xyXG4gICAgICAgICAgICBub2RlVmlld3M6IHRoaXMuZXh0ZW5zaW9uTWFuYWdlci5ub2RlVmlld3MsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFByZXBlbmQgY2xhc3MgbmFtZSB0byBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBwcmVwZW5kQ2xhc3MoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3LmRvbS5jbGFzc05hbWUgPSBgdGlwdGFwICR7dGhpcy52aWV3LmRvbS5jbGFzc05hbWV9YDtcclxuICAgIH1cclxuICAgIGNhcHR1cmVUcmFuc2FjdGlvbihmbikge1xyXG4gICAgICAgIHRoaXMuaXNDYXB0dXJpbmdUcmFuc2FjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgZm4oKTtcclxuICAgICAgICB0aGlzLmlzQ2FwdHVyaW5nVHJhbnNhY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICBjb25zdCB0ciA9IHRoaXMuY2FwdHVyZWRUcmFuc2FjdGlvbjtcclxuICAgICAgICB0aGlzLmNhcHR1cmVkVHJhbnNhY3Rpb24gPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB0cjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNhbGxiYWNrIG92ZXIgd2hpY2ggdG8gc2VuZCB0cmFuc2FjdGlvbnMgKHN0YXRlIHVwZGF0ZXMpIHByb2R1Y2VkIGJ5IHRoZSB2aWV3LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiBBbiBlZGl0b3Igc3RhdGUgdHJhbnNhY3Rpb25cclxuICAgICAqL1xyXG4gICAgZGlzcGF0Y2hUcmFuc2FjdGlvbih0cmFuc2FjdGlvbikge1xyXG4gICAgICAgIC8vIGlmIHRoZSBlZGl0b3IgLyB0aGUgdmlldyBvZiB0aGUgZWRpdG9yIHdhcyBkZXN0cm95ZWRcclxuICAgICAgICAvLyB0aGUgdHJhbnNhY3Rpb24gc2hvdWxkIG5vdCBiZSBkaXNwYXRjaGVkIGFzIHRoZXJlIGlzIG5vIHZpZXcgYW55bW9yZS5cclxuICAgICAgICBpZiAodGhpcy52aWV3LmlzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDYXB0dXJpbmdUcmFuc2FjdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2FwdHVyZWRUcmFuc2FjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXB0dXJlZFRyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb247XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJhbnNhY3Rpb24uc3RlcHMuZm9yRWFjaChzdGVwID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdGhpcy5jYXB0dXJlZFRyYW5zYWN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RlcChzdGVwKTsgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlLmFwcGx5KHRyYW5zYWN0aW9uKTtcclxuICAgICAgICBjb25zdCBzZWxlY3Rpb25IYXNDaGFuZ2VkID0gIXRoaXMuc3RhdGUuc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbik7XHJcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZVN0YXRlKHN0YXRlKTtcclxuICAgICAgICB0aGlzLmVtaXQoJ3RyYW5zYWN0aW9uJywge1xyXG4gICAgICAgICAgICBlZGl0b3I6IHRoaXMsXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChzZWxlY3Rpb25IYXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc2VsZWN0aW9uVXBkYXRlJywge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb2N1cyA9IHRyYW5zYWN0aW9uLmdldE1ldGEoJ2ZvY3VzJyk7XHJcbiAgICAgICAgY29uc3QgYmx1ciA9IHRyYW5zYWN0aW9uLmdldE1ldGEoJ2JsdXInKTtcclxuICAgICAgICBpZiAoZm9jdXMpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdmb2N1cycsIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcyxcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBmb2N1cy5ldmVudCxcclxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJsdXIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCdibHVyJywge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGJsdXIuZXZlbnQsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdHJhbnNhY3Rpb24uZG9jQ2hhbmdlZCB8fCB0cmFuc2FjdGlvbi5nZXRNZXRhKCdwcmV2ZW50VXBkYXRlJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHtcclxuICAgICAgICAgICAgZWRpdG9yOiB0aGlzLFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGF0dHJpYnV0ZXMgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBub2RlIG9yIG1hcmsuXHJcbiAgICAgKi9cclxuICAgIGdldEF0dHJpYnV0ZXMobmFtZU9yVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVzKHRoaXMuc3RhdGUsIG5hbWVPclR5cGUpO1xyXG4gICAgfVxyXG4gICAgaXNBY3RpdmUobmFtZU9yQXR0cmlidXRlcywgYXR0cmlidXRlc09yVW5kZWZpbmVkKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IHR5cGVvZiBuYW1lT3JBdHRyaWJ1dGVzID09PSAnc3RyaW5nJyA/IG5hbWVPckF0dHJpYnV0ZXMgOiBudWxsO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB0eXBlb2YgbmFtZU9yQXR0cmlidXRlcyA9PT0gJ3N0cmluZycgPyBhdHRyaWJ1dGVzT3JVbmRlZmluZWQgOiBuYW1lT3JBdHRyaWJ1dGVzO1xyXG4gICAgICAgIHJldHVybiBpc0FjdGl2ZSh0aGlzLnN0YXRlLCBuYW1lLCBhdHRyaWJ1dGVzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBkb2N1bWVudCBhcyBKU09OLlxyXG4gICAgICovXHJcbiAgICBnZXRKU09OKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmRvYy50b0pTT04oKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBkb2N1bWVudCBhcyBIVE1MLlxyXG4gICAgICovXHJcbiAgICBnZXRIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBnZXRIVE1MRnJvbUZyYWdtZW50KHRoaXMuc3RhdGUuZG9jLmNvbnRlbnQsIHRoaXMuc2NoZW1hKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBkb2N1bWVudCBhcyB0ZXh0LlxyXG4gICAgICovXHJcbiAgICBnZXRUZXh0KG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCB7IGJsb2NrU2VwYXJhdG9yID0gJ1xcblxcbicsIHRleHRTZXJpYWxpemVycyA9IHt9IH0gPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHJldHVybiBnZXRUZXh0KHRoaXMuc3RhdGUuZG9jLCB7XHJcbiAgICAgICAgICAgIGJsb2NrU2VwYXJhdG9yLFxyXG4gICAgICAgICAgICB0ZXh0U2VyaWFsaXplcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLmdldFRleHRTZXJpYWxpemVyc0Zyb21TY2hlbWEodGhpcy5zY2hlbWEpLFxyXG4gICAgICAgICAgICAgICAgLi4udGV4dFNlcmlhbGl6ZXJzLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiB0aGVyZSBpcyBubyBjb250ZW50LlxyXG4gICAgICovXHJcbiAgICBnZXQgaXNFbXB0eSgpIHtcclxuICAgICAgICByZXR1cm4gaXNOb2RlRW1wdHkodGhpcy5zdGF0ZS5kb2MpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGZvciB0aGUgY3VycmVudCBkb2N1bWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZFxyXG4gICAgICovXHJcbiAgICBnZXRDaGFyYWN0ZXJDb3VudCgpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1t0aXB0YXAgd2Fybl06IFwiZWRpdG9yLmdldENoYXJhY3RlckNvdW50KClcIiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFwiZWRpdG9yLnN0b3JhZ2UuY2hhcmFjdGVyQ291bnQuY2hhcmFjdGVycygpXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5kb2MuY29udGVudC5zaXplIC0gMjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSB0aGUgZWRpdG9yLlxyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZW1pdCgnZGVzdHJveScpO1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlIGVkaXRvciBpcyBhbHJlYWR5IGRlc3Ryb3llZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGlzRGVzdHJveWVkKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgcmV0dXJuICEoKF9hID0gdGhpcy52aWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZG9jVmlldyk7XHJcbiAgICB9XHJcbiAgICAkbm9kZShzZWxlY3RvciwgYXR0cmlidXRlcykge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gKChfYSA9IHRoaXMuJGRvYykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IsIGF0dHJpYnV0ZXMpKSB8fCBudWxsO1xyXG4gICAgfVxyXG4gICAgJG5vZGVzKHNlbGVjdG9yLCBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiAoKF9hID0gdGhpcy4kZG9jKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciwgYXR0cmlidXRlcykpIHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICAkcG9zKHBvcykge1xyXG4gICAgICAgIGNvbnN0ICRwb3MgPSB0aGlzLnN0YXRlLmRvYy5yZXNvbHZlKHBvcyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlUG9zKCRwb3MsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZ2V0ICRkb2MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJHBvcygwKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQnVpbGQgYW4gaW5wdXQgcnVsZSB0aGF0IGFkZHMgYSBtYXJrIHdoZW4gdGhlXHJcbiAqIG1hdGNoZWQgdGV4dCBpcyB0eXBlZCBpbnRvIGl0LlxyXG4gKi9cclxuZnVuY3Rpb24gbWFya0lucHV0UnVsZShjb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgSW5wdXRSdWxlKHtcclxuICAgICAgICBmaW5kOiBjb25maWcuZmluZCxcclxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZSwgcmFuZ2UsIG1hdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGNhbGxPclJldHVybihjb25maWcuZ2V0QXR0cmlidXRlcywgdW5kZWZpbmVkLCBtYXRjaCk7XHJcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzID09PSBmYWxzZSB8fCBhdHRyaWJ1dGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IHRyIH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgY29uc3QgY2FwdHVyZUdyb3VwID0gbWF0Y2hbbWF0Y2gubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxNYXRjaCA9IG1hdGNoWzBdO1xyXG4gICAgICAgICAgICBpZiAoY2FwdHVyZUdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFNwYWNlcyA9IGZ1bGxNYXRjaC5zZWFyY2goL1xcUy8pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dFN0YXJ0ID0gcmFuZ2UuZnJvbSArIGZ1bGxNYXRjaC5pbmRleE9mKGNhcHR1cmVHcm91cCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0RW5kID0gdGV4dFN0YXJ0ICsgY2FwdHVyZUdyb3VwLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2x1ZGVkTWFya3MgPSBnZXRNYXJrc0JldHdlZW4ocmFuZ2UuZnJvbSwgcmFuZ2UudG8sIHN0YXRlLmRvYylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGNsdWRlZCA9IGl0ZW0ubWFyay50eXBlLmV4Y2x1ZGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGNsdWRlZC5maW5kKHR5cGUgPT4gdHlwZSA9PT0gY29uZmlnLnR5cGUgJiYgdHlwZSAhPT0gaXRlbS5tYXJrLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS50byA+IHRleHRTdGFydCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZWRNYXJrcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0RW5kIDwgcmFuZ2UudG8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5kZWxldGUodGV4dEVuZCwgcmFuZ2UudG8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRTdGFydCA+IHJhbmdlLmZyb20pIHtcclxuICAgICAgICAgICAgICAgICAgICB0ci5kZWxldGUocmFuZ2UuZnJvbSArIHN0YXJ0U3BhY2VzLCB0ZXh0U3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFya0VuZCA9IHJhbmdlLmZyb20gKyBzdGFydFNwYWNlcyArIGNhcHR1cmVHcm91cC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB0ci5hZGRNYXJrKHJhbmdlLmZyb20gKyBzdGFydFNwYWNlcywgbWFya0VuZCwgY29uZmlnLnR5cGUuY3JlYXRlKGF0dHJpYnV0ZXMgfHwge30pKTtcclxuICAgICAgICAgICAgICAgIHRyLnJlbW92ZVN0b3JlZE1hcmsoY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbi8qKlxyXG4gKiBCdWlsZCBhbiBpbnB1dCBydWxlIHRoYXQgYWRkcyBhIG5vZGUgd2hlbiB0aGVcclxuICogbWF0Y2hlZCB0ZXh0IGlzIHR5cGVkIGludG8gaXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBub2RlSW5wdXRSdWxlKGNvbmZpZykge1xyXG4gICAgcmV0dXJuIG5ldyBJbnB1dFJ1bGUoe1xyXG4gICAgICAgIGZpbmQ6IGNvbmZpZy5maW5kLFxyXG4gICAgICAgIGhhbmRsZXI6ICh7IHN0YXRlLCByYW5nZSwgbWF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gY2FsbE9yUmV0dXJuKGNvbmZpZy5nZXRBdHRyaWJ1dGVzLCB1bmRlZmluZWQsIG1hdGNoKSB8fCB7fTtcclxuICAgICAgICAgICAgY29uc3QgeyB0ciB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcmFuZ2UuZnJvbTtcclxuICAgICAgICAgICAgbGV0IGVuZCA9IHJhbmdlLnRvO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gY29uZmlnLnR5cGUuY3JlYXRlKGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IG1hdGNoWzBdLmxhc3RJbmRleE9mKG1hdGNoWzFdKTtcclxuICAgICAgICAgICAgICAgIGxldCBtYXRjaFN0YXJ0ID0gc3RhcnQgKyBvZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hTdGFydCA+IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoU3RhcnQgPSBlbmQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBtYXRjaFN0YXJ0ICsgbWF0Y2hbMV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IGxhc3QgdHlwZWQgY2hhcmFjdGVyXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhciA9IG1hdGNoWzBdW21hdGNoWzBdLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgdHIuaW5zZXJ0VGV4dChsYXN0Q2hhciwgc3RhcnQgKyBtYXRjaFswXS5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgICAgIC8vIGluc2VydCBub2RlIGZyb20gaW5wdXQgcnVsZVxyXG4gICAgICAgICAgICAgICAgdHIucmVwbGFjZVdpdGgobWF0Y2hTdGFydCwgZW5kLCBuZXdOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXRjaFswXSkge1xyXG4gICAgICAgICAgICAgICAgdHIuaW5zZXJ0KHN0YXJ0IC0gMSwgY29uZmlnLnR5cGUuY3JlYXRlKGF0dHJpYnV0ZXMpKS5kZWxldGUodHIubWFwcGluZy5tYXAoc3RhcnQpLCB0ci5tYXBwaW5nLm1hcChlbmQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ci5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQnVpbGQgYW4gaW5wdXQgcnVsZSB0aGF0IGNoYW5nZXMgdGhlIHR5cGUgb2YgYSB0ZXh0YmxvY2sgd2hlbiB0aGVcclxuICogbWF0Y2hlZCB0ZXh0IGlzIHR5cGVkIGludG8gaXQuIFdoZW4gdXNpbmcgYSByZWd1bGFyIGV4cHJlc2lvbiB5b3XigJlsbFxyXG4gKiBwcm9iYWJseSB3YW50IHRoZSByZWdleHAgdG8gc3RhcnQgd2l0aCBgXmAsIHNvIHRoYXQgdGhlIHBhdHRlcm4gY2FuXHJcbiAqIG9ubHkgb2NjdXIgYXQgdGhlIHN0YXJ0IG9mIGEgdGV4dGJsb2NrLlxyXG4gKi9cclxuZnVuY3Rpb24gdGV4dGJsb2NrVHlwZUlucHV0UnVsZShjb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgSW5wdXRSdWxlKHtcclxuICAgICAgICBmaW5kOiBjb25maWcuZmluZCxcclxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZSwgcmFuZ2UsIG1hdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgJHN0YXJ0ID0gc3RhdGUuZG9jLnJlc29sdmUocmFuZ2UuZnJvbSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBjYWxsT3JSZXR1cm4oY29uZmlnLmdldEF0dHJpYnV0ZXMsIHVuZGVmaW5lZCwgbWF0Y2gpIHx8IHt9O1xyXG4gICAgICAgICAgICBpZiAoISRzdGFydC5ub2RlKC0xKS5jYW5SZXBsYWNlV2l0aCgkc3RhcnQuaW5kZXgoLTEpLCAkc3RhcnQuaW5kZXhBZnRlcigtMSksIGNvbmZpZy50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RhdGUudHJcclxuICAgICAgICAgICAgICAgIC5kZWxldGUocmFuZ2UuZnJvbSwgcmFuZ2UudG8pXHJcbiAgICAgICAgICAgICAgICAuc2V0QmxvY2tUeXBlKHJhbmdlLmZyb20sIHJhbmdlLmZyb20sIGNvbmZpZy50eXBlLCBhdHRyaWJ1dGVzKTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEJ1aWxkIGFuIGlucHV0IHJ1bGUgdGhhdCByZXBsYWNlcyB0ZXh0IHdoZW4gdGhlXHJcbiAqIG1hdGNoZWQgdGV4dCBpcyB0eXBlZCBpbnRvIGl0LlxyXG4gKi9cclxuZnVuY3Rpb24gdGV4dElucHV0UnVsZShjb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgSW5wdXRSdWxlKHtcclxuICAgICAgICBmaW5kOiBjb25maWcuZmluZCxcclxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZSwgcmFuZ2UsIG1hdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgbGV0IGluc2VydCA9IGNvbmZpZy5yZXBsYWNlO1xyXG4gICAgICAgICAgICBsZXQgc3RhcnQgPSByYW5nZS5mcm9tO1xyXG4gICAgICAgICAgICBjb25zdCBlbmQgPSByYW5nZS50bztcclxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBtYXRjaFswXS5sYXN0SW5kZXhPZihtYXRjaFsxXSk7XHJcbiAgICAgICAgICAgICAgICBpbnNlcnQgKz0gbWF0Y2hbMF0uc2xpY2Uob2Zmc2V0ICsgbWF0Y2hbMV0ubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ICs9IG9mZnNldDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1dE9mZiA9IHN0YXJ0IC0gZW5kO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1dE9mZiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBtYXRjaFswXS5zbGljZShvZmZzZXQgLSBjdXRPZmYsIG9mZnNldCkgKyBpbnNlcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBlbmQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RhdGUudHIuaW5zZXJ0VGV4dChpbnNlcnQsIHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQnVpbGQgYW4gaW5wdXQgcnVsZSBmb3IgYXV0b21hdGljYWxseSB3cmFwcGluZyBhIHRleHRibG9jayB3aGVuIGFcclxuICogZ2l2ZW4gc3RyaW5nIGlzIHR5cGVkLiBXaGVuIHVzaW5nIGEgcmVndWxhciBleHByZXNpb24geW914oCZbGxcclxuICogcHJvYmFibHkgd2FudCB0aGUgcmVnZXhwIHRvIHN0YXJ0IHdpdGggYF5gLCBzbyB0aGF0IHRoZSBwYXR0ZXJuIGNhblxyXG4gKiBvbmx5IG9jY3VyIGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jay5cclxuICpcclxuICogYHR5cGVgIGlzIHRoZSB0eXBlIG9mIG5vZGUgdG8gd3JhcCBpbi5cclxuICpcclxuICogQnkgZGVmYXVsdCwgaWYgdGhlcmXigJlzIGEgbm9kZSB3aXRoIHRoZSBzYW1lIHR5cGUgYWJvdmUgdGhlIG5ld2x5XHJcbiAqIHdyYXBwZWQgbm9kZSwgdGhlIHJ1bGUgd2lsbCB0cnkgdG8gam9pbiB0aG9zZVxyXG4gKiB0d28gbm9kZXMuIFlvdSBjYW4gcGFzcyBhIGpvaW4gcHJlZGljYXRlLCB3aGljaCB0YWtlcyBhIHJlZ3VsYXJcclxuICogZXhwcmVzc2lvbiBtYXRjaCBhbmQgdGhlIG5vZGUgYmVmb3JlIHRoZSB3cmFwcGVkIG5vZGUsIGFuZCBjYW5cclxuICogcmV0dXJuIGEgYm9vbGVhbiB0byBpbmRpY2F0ZSB3aGV0aGVyIGEgam9pbiBzaG91bGQgaGFwcGVuLlxyXG4gKi9cclxuZnVuY3Rpb24gd3JhcHBpbmdJbnB1dFJ1bGUoY29uZmlnKSB7XHJcbiAgICByZXR1cm4gbmV3IElucHV0UnVsZSh7XHJcbiAgICAgICAgZmluZDogY29uZmlnLmZpbmQsXHJcbiAgICAgICAgaGFuZGxlcjogKHsgc3RhdGUsIHJhbmdlLCBtYXRjaCwgY2hhaW4sIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGNhbGxPclJldHVybihjb25maWcuZ2V0QXR0cmlidXRlcywgdW5kZWZpbmVkLCBtYXRjaCkgfHwge307XHJcbiAgICAgICAgICAgIGNvbnN0IHRyID0gc3RhdGUudHIuZGVsZXRlKHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcclxuICAgICAgICAgICAgY29uc3QgJHN0YXJ0ID0gdHIuZG9jLnJlc29sdmUocmFuZ2UuZnJvbSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrUmFuZ2UgPSAkc3RhcnQuYmxvY2tSYW5nZSgpO1xyXG4gICAgICAgICAgICBjb25zdCB3cmFwcGluZyA9IGJsb2NrUmFuZ2UgJiYgZmluZFdyYXBwaW5nKGJsb2NrUmFuZ2UsIGNvbmZpZy50eXBlLCBhdHRyaWJ1dGVzKTtcclxuICAgICAgICAgICAgaWYgKCF3cmFwcGluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHIud3JhcChibG9ja1JhbmdlLCB3cmFwcGluZyk7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcua2VlcE1hcmtzICYmIGNvbmZpZy5lZGl0b3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBzdG9yZWRNYXJrcyB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNwbGl0dGFibGVNYXJrcyB9ID0gY29uZmlnLmVkaXRvci5leHRlbnNpb25NYW5hZ2VyO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFya3MgPSBzdG9yZWRNYXJrcyB8fCAoc2VsZWN0aW9uLiR0by5wYXJlbnRPZmZzZXQgJiYgc2VsZWN0aW9uLiRmcm9tLm1hcmtzKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hcmtzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRNYXJrcyA9IG1hcmtzLmZpbHRlcihtYXJrID0+IHNwbGl0dGFibGVNYXJrcy5pbmNsdWRlcyhtYXJrLnR5cGUubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyLmVuc3VyZU1hcmtzKGZpbHRlcmVkTWFya3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb25maWcua2VlcEF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIC8qKiBJZiB0aGUgbm9kZVR5cGUgaXMgYGJ1bGxldExpc3RgIG9yIGBvcmRlcmVkTGlzdGAgc2V0IHRoZSBgbm9kZVR5cGVgIGFzIGBsaXN0SXRlbWAgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVUeXBlID0gY29uZmlnLnR5cGUubmFtZSA9PT0gJ2J1bGxldExpc3QnIHx8IGNvbmZpZy50eXBlLm5hbWUgPT09ICdvcmRlcmVkTGlzdCcgPyAnbGlzdEl0ZW0nIDogJ3Rhc2tMaXN0JztcclxuICAgICAgICAgICAgICAgIGNoYWluKCkudXBkYXRlQXR0cmlidXRlcyhub2RlVHlwZSwgYXR0cmlidXRlcykucnVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gdHIuZG9jLnJlc29sdmUocmFuZ2UuZnJvbSAtIDEpLm5vZGVCZWZvcmU7XHJcbiAgICAgICAgICAgIGlmIChiZWZvcmVcclxuICAgICAgICAgICAgICAgICYmIGJlZm9yZS50eXBlID09PSBjb25maWcudHlwZVxyXG4gICAgICAgICAgICAgICAgJiYgY2FuSm9pbih0ci5kb2MsIHJhbmdlLmZyb20gLSAxKVxyXG4gICAgICAgICAgICAgICAgJiYgKCFjb25maWcuam9pblByZWRpY2F0ZSB8fCBjb25maWcuam9pblByZWRpY2F0ZShtYXRjaCwgYmVmb3JlKSkpIHtcclxuICAgICAgICAgICAgICAgIHRyLmpvaW4ocmFuZ2UuZnJvbSAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbmNsYXNzIE1hcmsge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnbWFyayc7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ21hcmsnO1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uczoge30sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXHJcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uZmlnLm5hbWU7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5kZWZhdWx0T3B0aW9ucyAmJiBPYmplY3Qua2V5cyhjb25maWcuZGVmYXVsdE9wdGlvbnMpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdGlwdGFwIHdhcm5dOiBCUkVBS0lORyBDSEFOR0U6IFwiZGVmYXVsdE9wdGlvbnNcIiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFwiYWRkT3B0aW9uc1wiIGluc3RlYWQuIEZvdW5kIGluIGV4dGVuc2lvbjogXCIke3RoaXMubmFtZX1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIGBhZGRPcHRpb25zYCBmYWxsYmFja1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuY29uZmlnLmRlZmF1bHRPcHRpb25zO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5hZGRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZCh0aGlzLCAnYWRkT3B0aW9ucycsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQodGhpcywgJ2FkZFN0b3JhZ2UnLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxyXG4gICAgICAgIH0pKSB8fCB7fTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjcmVhdGUoY29uZmlnID0ge30pIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hcmsoY29uZmlnKTtcclxuICAgIH1cclxuICAgIGNvbmZpZ3VyZShvcHRpb25zID0ge30pIHtcclxuICAgICAgICAvLyByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugc28gd2UgY2FuIHVzZSB0aGUgc2FtZSBleHRlbnNpb25cclxuICAgICAgICAvLyB3aXRoIGRpZmZlcmVudCBjYWxscyBvZiBgY29uZmlndXJlYFxyXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IHRoaXMuZXh0ZW5kKCk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLm9wdGlvbnMgPSBtZXJnZURlZXAodGhpcy5vcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICBleHRlbnNpb24uc3RvcmFnZSA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRTdG9yYWdlJywge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICAgICAgb3B0aW9uczogZXh0ZW5zaW9uLm9wdGlvbnMsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHJldHVybiBleHRlbnNpb247XHJcbiAgICB9XHJcbiAgICBleHRlbmQoZXh0ZW5kZWRDb25maWcgPSB7fSkge1xyXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbiA9IG5ldyBNYXJrKHsgLi4udGhpcy5jb25maWcsIC4uLmV4dGVuZGVkQ29uZmlnIH0pO1xyXG4gICAgICAgIGV4dGVuc2lvbi5wYXJlbnQgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY2hpbGQgPSBleHRlbnNpb247XHJcbiAgICAgICAgZXh0ZW5zaW9uLm5hbWUgPSBleHRlbmRlZENvbmZpZy5uYW1lID8gZXh0ZW5kZWRDb25maWcubmFtZSA6IGV4dGVuc2lvbi5wYXJlbnQubmFtZTtcclxuICAgICAgICBpZiAoZXh0ZW5kZWRDb25maWcuZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbdGlwdGFwIHdhcm5dOiBCUkVBS0lORyBDSEFOR0U6IFwiZGVmYXVsdE9wdGlvbnNcIiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFwiYWRkT3B0aW9uc1wiIGluc3RlYWQuIEZvdW5kIGluIGV4dGVuc2lvbjogXCIke2V4dGVuc2lvbi5uYW1lfVwiLmApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHRlbnNpb24ub3B0aW9ucyA9IGNhbGxPclJldHVybihnZXRFeHRlbnNpb25GaWVsZChleHRlbnNpb24sICdhZGRPcHRpb25zJywge1xyXG4gICAgICAgICAgICBuYW1lOiBleHRlbnNpb24ubmFtZSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGhhbmRsZUV4aXQoeyBlZGl0b3IsIG1hcmsgfSkge1xyXG4gICAgICAgIGNvbnN0IHsgdHIgfSA9IGVkaXRvci5zdGF0ZTtcclxuICAgICAgICBjb25zdCBjdXJyZW50UG9zID0gZWRpdG9yLnN0YXRlLnNlbGVjdGlvbi4kZnJvbTtcclxuICAgICAgICBjb25zdCBpc0F0RW5kID0gY3VycmVudFBvcy5wb3MgPT09IGN1cnJlbnRQb3MuZW5kKCk7XHJcbiAgICAgICAgaWYgKGlzQXRFbmQpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudE1hcmtzID0gY3VycmVudFBvcy5tYXJrcygpO1xyXG4gICAgICAgICAgICBjb25zdCBpc0luTWFyayA9ICEhY3VycmVudE1hcmtzLmZpbmQobSA9PiAobSA9PT0gbnVsbCB8fCBtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtLnR5cGUubmFtZSkgPT09IG1hcmsubmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghaXNJbk1hcmspIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVNYXJrID0gY3VycmVudE1hcmtzLmZpbmQobSA9PiAobSA9PT0gbnVsbCB8fCBtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtLnR5cGUubmFtZSkgPT09IG1hcmsubmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChyZW1vdmVNYXJrKSB7XHJcbiAgICAgICAgICAgICAgICB0ci5yZW1vdmVTdG9yZWRNYXJrKHJlbW92ZU1hcmspO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyLmluc2VydFRleHQoJyAnLCBjdXJyZW50UG9zLnBvcyk7XHJcbiAgICAgICAgICAgIGVkaXRvci52aWV3LmRpc3BhdGNoKHRyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxuXG5jbGFzcyBOb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ25vZGUnO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdub2RlJztcclxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuY29uZmlnLFxyXG4gICAgICAgICAgICAuLi5jb25maWcsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbmZpZy5uYW1lO1xyXG4gICAgICAgIGlmIChjb25maWcuZGVmYXVsdE9wdGlvbnMgJiYgT2JqZWN0LmtleXMoY29uZmlnLmRlZmF1bHRPcHRpb25zKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW3RpcHRhcCB3YXJuXTogQlJFQUtJTkcgQ0hBTkdFOiBcImRlZmF1bHRPcHRpb25zXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcImFkZE9wdGlvbnNcIiBpbnN0ZWFkLiBGb3VuZCBpbiBleHRlbnNpb246IFwiJHt0aGlzLm5hbWV9XCIuYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSBgYWRkT3B0aW9uc2AgZmFsbGJhY2tcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmNvbmZpZy5kZWZhdWx0T3B0aW9ucztcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuYWRkT3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQodGhpcywgJ2FkZE9wdGlvbnMnLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKHRoaXMsICdhZGRTdG9yYWdlJywge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcclxuICAgICAgICB9KSkgfHwge307XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZyA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlKGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBjb25maWd1cmUob3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgLy8gcmV0dXJuIGEgbmV3IGluc3RhbmNlIHNvIHdlIGNhbiB1c2UgdGhlIHNhbWUgZXh0ZW5zaW9uXHJcbiAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgY2FsbHMgb2YgYGNvbmZpZ3VyZWBcclxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSB0aGlzLmV4dGVuZCgpO1xyXG4gICAgICAgIGV4dGVuc2lvbi5vcHRpb25zID0gbWVyZ2VEZWVwKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgZXh0ZW5zaW9uLnN0b3JhZ2UgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkU3RvcmFnZScsIHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uO1xyXG4gICAgfVxyXG4gICAgZXh0ZW5kKGV4dGVuZGVkQ29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBleHRlbnNpb24gPSBuZXcgTm9kZSh7IC4uLnRoaXMuY29uZmlnLCAuLi5leHRlbmRlZENvbmZpZyB9KTtcclxuICAgICAgICBleHRlbnNpb24ucGFyZW50ID0gdGhpcztcclxuICAgICAgICB0aGlzLmNoaWxkID0gZXh0ZW5zaW9uO1xyXG4gICAgICAgIGV4dGVuc2lvbi5uYW1lID0gZXh0ZW5kZWRDb25maWcubmFtZSA/IGV4dGVuZGVkQ29uZmlnLm5hbWUgOiBleHRlbnNpb24ucGFyZW50Lm5hbWU7XHJcbiAgICAgICAgaWYgKGV4dGVuZGVkQ29uZmlnLmRlZmF1bHRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgW3RpcHRhcCB3YXJuXTogQlJFQUtJTkcgQ0hBTkdFOiBcImRlZmF1bHRPcHRpb25zXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcImFkZE9wdGlvbnNcIiBpbnN0ZWFkLiBGb3VuZCBpbiBleHRlbnNpb246IFwiJHtleHRlbnNpb24ubmFtZX1cIi5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXh0ZW5zaW9uLm9wdGlvbnMgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWRkT3B0aW9ucycsIHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGV4dGVuc2lvbi5zdG9yYWdlID0gY2FsbE9yUmV0dXJuKGdldEV4dGVuc2lvbkZpZWxkKGV4dGVuc2lvbiwgJ2FkZFN0b3JhZ2UnLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGV4dGVuc2lvbi5uYW1lLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBleHRlbnNpb24ub3B0aW9ucyxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbjtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBpc0FuZHJvaWQoKSB7XHJcbiAgICByZXR1cm4gbmF2aWdhdG9yLnBsYXRmb3JtID09PSAnQW5kcm9pZCcgfHwgL2FuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG59XG5cbmNsYXNzIE5vZGVWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgcHJvcHMsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuICAgICAgICB0aGlzLmVkaXRvciA9IHByb3BzLmVkaXRvcjtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIHN0b3BFdmVudDogbnVsbCxcclxuICAgICAgICAgICAgaWdub3JlTXV0YXRpb246IG51bGwsXHJcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHByb3BzLmV4dGVuc2lvbjtcclxuICAgICAgICB0aGlzLm5vZGUgPSBwcm9wcy5ub2RlO1xyXG4gICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBwcm9wcy5kZWNvcmF0aW9ucztcclxuICAgICAgICB0aGlzLmdldFBvcyA9IHByb3BzLmdldFBvcztcclxuICAgICAgICB0aGlzLm1vdW50KCk7XHJcbiAgICB9XHJcbiAgICBtb3VudCgpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBnZXQgZG9tKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRvci52aWV3LmRvbTtcclxuICAgIH1cclxuICAgIGdldCBjb250ZW50RE9NKCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgb25EcmFnU3RhcnQoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XHJcbiAgICAgICAgY29uc3QgeyB2aWV3IH0gPSB0aGlzLmVkaXRvcjtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBkcmFnIGhhbmRsZSBlbGVtZW50XHJcbiAgICAgICAgLy8gYGNsb3Nlc3RgIGlzIG5vdCBhdmFpbGFibGUgZm9yIHRleHQgbm9kZXMgc28gd2UgbWF5IGhhdmUgdG8gdXNlIGl0cyBwYXJlbnRcclxuICAgICAgICBjb25zdCBkcmFnSGFuZGxlID0gdGFyZ2V0Lm5vZGVUeXBlID09PSAzXHJcbiAgICAgICAgICAgID8gKF9hID0gdGFyZ2V0LnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZXN0KCdbZGF0YS1kcmFnLWhhbmRsZV0nKVxyXG4gICAgICAgICAgICA6IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1kcmFnLWhhbmRsZV0nKTtcclxuICAgICAgICBpZiAoIXRoaXMuZG9tIHx8ICgoX2IgPSB0aGlzLmNvbnRlbnRET00pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jb250YWlucyh0YXJnZXQpKSB8fCAhZHJhZ0hhbmRsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB4ID0gMDtcclxuICAgICAgICBsZXQgeSA9IDA7XHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIG9mZnNldCBmb3IgZHJhZyBlbGVtZW50IGlmIHdlIHVzZSBhIGRpZmZlcmVudCBkcmFnIGhhbmRsZSBlbGVtZW50XHJcbiAgICAgICAgaWYgKHRoaXMuZG9tICE9PSBkcmFnSGFuZGxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvbUJveCA9IHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVCb3ggPSBkcmFnSGFuZGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAvLyBJbiBSZWFjdCwgd2UgaGF2ZSB0byBnbyB0aHJvdWdoIG5hdGl2ZUV2ZW50IHRvIHJlYWNoIG9mZnNldFgvb2Zmc2V0WS5cclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IChfYyA9IGV2ZW50Lm9mZnNldFgpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChfZCA9IGV2ZW50Lm5hdGl2ZUV2ZW50KSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Qub2Zmc2V0WDtcclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IChfZSA9IGV2ZW50Lm9mZnNldFkpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IChfZiA9IGV2ZW50Lm5hdGl2ZUV2ZW50KSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Yub2Zmc2V0WTtcclxuICAgICAgICAgICAgeCA9IGhhbmRsZUJveC54IC0gZG9tQm94LnggKyBvZmZzZXRYO1xyXG4gICAgICAgICAgICB5ID0gaGFuZGxlQm94LnkgLSBkb21Cb3gueSArIG9mZnNldFk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIChfZyA9IGV2ZW50LmRhdGFUcmFuc2ZlcikgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNldERyYWdJbWFnZSh0aGlzLmRvbSwgeCwgeSk7XHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byB0ZWxsIFByb3NlTWlycm9yIHRoYXQgd2Ugd2FudCB0byBtb3ZlIHRoZSB3aG9sZSBub2RlXHJcbiAgICAgICAgLy8gc28gd2UgY3JlYXRlIGEgTm9kZVNlbGVjdGlvblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IE5vZGVTZWxlY3Rpb24uY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCB0aGlzLmdldFBvcygpKTtcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKHNlbGVjdGlvbik7XHJcbiAgICAgICAgdmlldy5kaXNwYXRjaCh0cmFuc2FjdGlvbik7XHJcbiAgICB9XHJcbiAgICBzdG9wRXZlbnQoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRvbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnN0b3BFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnN0b3BFdmVudCh7IGV2ZW50IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgY29uc3QgaXNJbkVsZW1lbnQgPSB0aGlzLmRvbS5jb250YWlucyh0YXJnZXQpICYmICEoKF9hID0gdGhpcy5jb250ZW50RE9NKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnModGFyZ2V0KSk7XHJcbiAgICAgICAgLy8gYW55IGV2ZW50IGZyb20gY2hpbGQgbm9kZXMgc2hvdWxkIGJlIGhhbmRsZWQgYnkgUHJvc2VNaXJyb3JcclxuICAgICAgICBpZiAoIWlzSW5FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXNEcmFnRXZlbnQgPSBldmVudC50eXBlLnN0YXJ0c1dpdGgoJ2RyYWcnKTtcclxuICAgICAgICBjb25zdCBpc0Ryb3BFdmVudCA9IGV2ZW50LnR5cGUgPT09ICdkcm9wJztcclxuICAgICAgICBjb25zdCBpc0lucHV0ID0gWydJTlBVVCcsICdCVVRUT04nLCAnU0VMRUNUJywgJ1RFWFRBUkVBJ10uaW5jbHVkZXModGFyZ2V0LnRhZ05hbWUpIHx8IHRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZTtcclxuICAgICAgICAvLyBhbnkgaW5wdXQgZXZlbnQgd2l0aGluIG5vZGUgdmlld3Mgc2hvdWxkIGJlIGlnbm9yZWQgYnkgUHJvc2VNaXJyb3JcclxuICAgICAgICBpZiAoaXNJbnB1dCAmJiAhaXNEcm9wRXZlbnQgJiYgIWlzRHJhZ0V2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IGlzRWRpdGFibGUgfSA9IHRoaXMuZWRpdG9yO1xyXG4gICAgICAgIGNvbnN0IHsgaXNEcmFnZ2luZyB9ID0gdGhpcztcclxuICAgICAgICBjb25zdCBpc0RyYWdnYWJsZSA9ICEhdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGU7XHJcbiAgICAgICAgY29uc3QgaXNTZWxlY3RhYmxlID0gTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUodGhpcy5ub2RlKTtcclxuICAgICAgICBjb25zdCBpc0NvcHlFdmVudCA9IGV2ZW50LnR5cGUgPT09ICdjb3B5JztcclxuICAgICAgICBjb25zdCBpc1Bhc3RlRXZlbnQgPSBldmVudC50eXBlID09PSAncGFzdGUnO1xyXG4gICAgICAgIGNvbnN0IGlzQ3V0RXZlbnQgPSBldmVudC50eXBlID09PSAnY3V0JztcclxuICAgICAgICBjb25zdCBpc0NsaWNrRXZlbnQgPSBldmVudC50eXBlID09PSAnbW91c2Vkb3duJztcclxuICAgICAgICAvLyBQcm9zZU1pcnJvciB0cmllcyB0byBkcmFnIHNlbGVjdGFibGUgbm9kZXNcclxuICAgICAgICAvLyBldmVuIGlmIGBkcmFnZ2FibGVgIGlzIHNldCB0byBgZmFsc2VgXHJcbiAgICAgICAgLy8gdGhpcyBmaXggcHJldmVudHMgdGhhdFxyXG4gICAgICAgIGlmICghaXNEcmFnZ2FibGUgJiYgaXNTZWxlY3RhYmxlICYmIGlzRHJhZ0V2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0RyYWdnYWJsZSAmJiBpc0RyYWdFdmVudCAmJiAhaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gc3RvcmUgdGhhdCBkcmFnZ2luZyBzdGFydGVkXHJcbiAgICAgICAgaWYgKGlzRHJhZ2dhYmxlICYmIGlzRWRpdGFibGUgJiYgIWlzRHJhZ2dpbmcgJiYgaXNDbGlja0V2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyYWdIYW5kbGUgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtZHJhZy1oYW5kbGVdJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzVmFsaWREcmFnSGFuZGxlID0gZHJhZ0hhbmRsZSAmJiAodGhpcy5kb20gPT09IGRyYWdIYW5kbGUgfHwgdGhpcy5kb20uY29udGFpbnMoZHJhZ0hhbmRsZSkpO1xyXG4gICAgICAgICAgICBpZiAoaXNWYWxpZERyYWdIYW5kbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBoYW5kbGVkIGJ5IHByb3NlbWlycm9yXHJcbiAgICAgICAgaWYgKGlzRHJhZ2dpbmdcclxuICAgICAgICAgICAgfHwgaXNEcm9wRXZlbnRcclxuICAgICAgICAgICAgfHwgaXNDb3B5RXZlbnRcclxuICAgICAgICAgICAgfHwgaXNQYXN0ZUV2ZW50XHJcbiAgICAgICAgICAgIHx8IGlzQ3V0RXZlbnRcclxuICAgICAgICAgICAgfHwgKGlzQ2xpY2tFdmVudCAmJiBpc1NlbGVjdGFibGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZ25vcmVNdXRhdGlvbihtdXRhdGlvbikge1xyXG4gICAgICAgIGlmICghdGhpcy5kb20gfHwgIXRoaXMuY29udGVudERPTSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaWdub3JlTXV0YXRpb24gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pZ25vcmVNdXRhdGlvbih7IG11dGF0aW9uIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhIGxlYWYvYXRvbSBub2RlIGlzIGxpa2UgYSBibGFjayBib3ggZm9yIFByb3NlTWlycm9yXHJcbiAgICAgICAgLy8gYW5kIHNob3VsZCBiZSBmdWxseSBoYW5kbGVkIGJ5IHRoZSBub2RlIHZpZXdcclxuICAgICAgICBpZiAodGhpcy5ub2RlLmlzTGVhZiB8fCB0aGlzLm5vZGUuaXNBdG9tKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQcm9zZU1pcnJvciBzaG91bGQgaGFuZGxlIGFueSBzZWxlY3Rpb25zXHJcbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdzZWxlY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdHJ5IHRvIHByZXZlbnQgYSBidWcgb24gaU9TIGFuZCBBbmRyb2lkIHRoYXQgd2lsbCBicmVhayBub2RlIHZpZXdzIG9uIGVudGVyXHJcbiAgICAgICAgLy8gdGhpcyBpcyBiZWNhdXNlIFByb3NlTWlycm9yIGNhbuKAmXQgcHJldmVudERpc3BhdGNoIG9uIGVudGVyXHJcbiAgICAgICAgLy8gdGhpcyB3aWxsIGxlYWQgdG8gYSByZS1yZW5kZXIgb2YgdGhlIG5vZGUgdmlldyBvbiBlbnRlclxyXG4gICAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3VlYmVyZG9zaXMvdGlwdGFwL2lzc3Vlcy8xMjE0XHJcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vdWViZXJkb3Npcy90aXB0YXAvaXNzdWVzLzI1MzRcclxuICAgICAgICBpZiAodGhpcy5kb20uY29udGFpbnMobXV0YXRpb24udGFyZ2V0KVxyXG4gICAgICAgICAgICAmJiBtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0J1xyXG4gICAgICAgICAgICAmJiAoaXNpT1MoKSB8fCBpc0FuZHJvaWQoKSlcclxuICAgICAgICAgICAgJiYgdGhpcy5lZGl0b3IuaXNGb2N1c2VkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWROb2RlcyA9IFtcclxuICAgICAgICAgICAgICAgIC4uLkFycmF5LmZyb20obXV0YXRpb24uYWRkZWROb2RlcyksXHJcbiAgICAgICAgICAgICAgICAuLi5BcnJheS5mcm9tKG11dGF0aW9uLnJlbW92ZWROb2RlcyksXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIC8vIHdl4oCZbGwgY2hlY2sgaWYgZXZlcnkgY2hhbmdlZCBub2RlIGlzIGNvbnRlbnRFZGl0YWJsZVxyXG4gICAgICAgICAgICAvLyB0byBtYWtlIHN1cmUgaXTigJlzIHByb2JhYmx5IG11dGF0ZWQgYnkgUHJvc2VNaXJyb3JcclxuICAgICAgICAgICAgaWYgKGNoYW5nZWROb2Rlcy5ldmVyeShub2RlID0+IG5vZGUuaXNDb250ZW50RWRpdGFibGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gd2Ugd2lsbCBhbGxvdyBtdXRhdGlvbiBjb250ZW50RE9NIHdpdGggYXR0cmlidXRlc1xyXG4gICAgICAgIC8vIHNvIHdlIGNhbiBmb3IgZXhhbXBsZSBhZGRpbmcgY2xhc3NlcyB3aXRoaW4gb3VyIG5vZGUgdmlld1xyXG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRET00gPT09IG11dGF0aW9uLnRhcmdldCAmJiBtdXRhdGlvbi50eXBlID09PSAnYXR0cmlidXRlcycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFByb3NlTWlycm9yIHNob3VsZCBoYW5kbGUgYW55IGNoYW5nZXMgd2l0aGluIGNvbnRlbnRET01cclxuICAgICAgICBpZiAodGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKG11dGF0aW9uLnRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUF0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLmNvbW1hbmRzLmNvbW1hbmQoKHsgdHIgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmdldFBvcygpO1xyXG4gICAgICAgICAgICB0ci5zZXROb2RlTWFya3VwKHBvcywgdW5kZWZpbmVkLCB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLm5vZGUuYXR0cnMsXHJcbiAgICAgICAgICAgICAgICAuLi5hdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBkZWxldGVOb2RlKCkge1xyXG4gICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmdldFBvcygpO1xyXG4gICAgICAgIGNvbnN0IHRvID0gZnJvbSArIHRoaXMubm9kZS5ub2RlU2l6ZTtcclxuICAgICAgICB0aGlzLmVkaXRvci5jb21tYW5kcy5kZWxldGVSYW5nZSh7IGZyb20sIHRvIH0pO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBCdWlsZCBhbiBwYXN0ZSBydWxlIHRoYXQgYWRkcyBhIG1hcmsgd2hlbiB0aGVcclxuICogbWF0Y2hlZCB0ZXh0IGlzIHBhc3RlZCBpbnRvIGl0LlxyXG4gKi9cclxuZnVuY3Rpb24gbWFya1Bhc3RlUnVsZShjb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgUGFzdGVSdWxlKHtcclxuICAgICAgICBmaW5kOiBjb25maWcuZmluZCxcclxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZSwgcmFuZ2UsIG1hdGNoLCBwYXN0ZUV2ZW50LCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBjYWxsT3JSZXR1cm4oY29uZmlnLmdldEF0dHJpYnV0ZXMsIHVuZGVmaW5lZCwgbWF0Y2gsIHBhc3RlRXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gZmFsc2UgfHwgYXR0cmlidXRlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgeyB0ciB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcHR1cmVHcm91cCA9IG1hdGNoW21hdGNoLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBjb25zdCBmdWxsTWF0Y2ggPSBtYXRjaFswXTtcclxuICAgICAgICAgICAgbGV0IG1hcmtFbmQgPSByYW5nZS50bztcclxuICAgICAgICAgICAgaWYgKGNhcHR1cmVHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRTcGFjZXMgPSBmdWxsTWF0Y2guc2VhcmNoKC9cXFMvKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRTdGFydCA9IHJhbmdlLmZyb20gKyBmdWxsTWF0Y2guaW5kZXhPZihjYXB0dXJlR3JvdXApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dEVuZCA9IHRleHRTdGFydCArIGNhcHR1cmVHcm91cC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBleGNsdWRlZE1hcmtzID0gZ2V0TWFya3NCZXR3ZWVuKHJhbmdlLmZyb20sIHJhbmdlLnRvLCBzdGF0ZS5kb2MpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhjbHVkZWQgPSBpdGVtLm1hcmsudHlwZS5leGNsdWRlZDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhjbHVkZWQuZmluZCh0eXBlID0+IHR5cGUgPT09IGNvbmZpZy50eXBlICYmIHR5cGUgIT09IGl0ZW0ubWFyay50eXBlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0udG8gPiB0ZXh0U3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4Y2x1ZGVkTWFya3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dEVuZCA8IHJhbmdlLnRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuZGVsZXRlKHRleHRFbmQsIHJhbmdlLnRvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0ZXh0U3RhcnQgPiByYW5nZS5mcm9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHIuZGVsZXRlKHJhbmdlLmZyb20gKyBzdGFydFNwYWNlcywgdGV4dFN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1hcmtFbmQgPSByYW5nZS5mcm9tICsgc3RhcnRTcGFjZXMgKyBjYXB0dXJlR3JvdXAubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdHIuYWRkTWFyayhyYW5nZS5mcm9tICsgc3RhcnRTcGFjZXMsIG1hcmtFbmQsIGNvbmZpZy50eXBlLmNyZWF0ZShhdHRyaWJ1dGVzIHx8IHt9KSk7XHJcbiAgICAgICAgICAgICAgICB0ci5yZW1vdmVTdG9yZWRNYXJrKGNvbmZpZy50eXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG4vLyBzb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS82OTY5NDg2XHJcbmZ1bmN0aW9uIGVzY2FwZUZvclJlZ0V4KHN0cmluZykge1xyXG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bLS9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XHJcbn1cblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xyXG59XG5cbi8qKlxyXG4gKiBCdWlsZCBhbiBwYXN0ZSBydWxlIHRoYXQgYWRkcyBhIG5vZGUgd2hlbiB0aGVcclxuICogbWF0Y2hlZCB0ZXh0IGlzIHBhc3RlZCBpbnRvIGl0LlxyXG4gKi9cclxuZnVuY3Rpb24gbm9kZVBhc3RlUnVsZShjb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgUGFzdGVSdWxlKHtcclxuICAgICAgICBmaW5kOiBjb25maWcuZmluZCxcclxuICAgICAgICBoYW5kbGVyKHsgbWF0Y2gsIGNoYWluLCByYW5nZSwgcGFzdGVFdmVudCwgfSkge1xyXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gY2FsbE9yUmV0dXJuKGNvbmZpZy5nZXRBdHRyaWJ1dGVzLCB1bmRlZmluZWQsIG1hdGNoLCBwYXN0ZUV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMgPT09IGZhbHNlIHx8IGF0dHJpYnV0ZXMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtYXRjaC5pbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgY2hhaW4oKS5kZWxldGVSYW5nZShyYW5nZSkuaW5zZXJ0Q29udGVudEF0KHJhbmdlLmZyb20sIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBjb25maWcudHlwZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzOiBhdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEJ1aWxkIGFuIHBhc3RlIHJ1bGUgdGhhdCByZXBsYWNlcyB0ZXh0IHdoZW4gdGhlXHJcbiAqIG1hdGNoZWQgdGV4dCBpcyBwYXN0ZWQgaW50byBpdC5cclxuICovXHJcbmZ1bmN0aW9uIHRleHRQYXN0ZVJ1bGUoY29uZmlnKSB7XHJcbiAgICByZXR1cm4gbmV3IFBhc3RlUnVsZSh7XHJcbiAgICAgICAgZmluZDogY29uZmlnLmZpbmQsXHJcbiAgICAgICAgaGFuZGxlcjogKHsgc3RhdGUsIHJhbmdlLCBtYXRjaCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbnNlcnQgPSBjb25maWcucmVwbGFjZTtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gcmFuZ2UuZnJvbTtcclxuICAgICAgICAgICAgY29uc3QgZW5kID0gcmFuZ2UudG87XHJcbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbWF0Y2hbMF0ubGFzdEluZGV4T2YobWF0Y2hbMV0pO1xyXG4gICAgICAgICAgICAgICAgaW5zZXJ0ICs9IG1hdGNoWzBdLnNsaWNlKG9mZnNldCArIG1hdGNoWzFdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBzdGFydCArPSBvZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXRPZmYgPSBzdGFydCAtIGVuZDtcclxuICAgICAgICAgICAgICAgIGlmIChjdXRPZmYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ID0gbWF0Y2hbMF0uc2xpY2Uob2Zmc2V0IC0gY3V0T2ZmLCBvZmZzZXQpICsgaW5zZXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gZW5kO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0YXRlLnRyLmluc2VydFRleHQoaW5zZXJ0LCBzdGFydCwgZW5kKTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cblxuY2xhc3MgVHJhY2tlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0cmFuc2FjdGlvbikge1xyXG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvbjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTdGVwID0gdGhpcy50cmFuc2FjdGlvbi5zdGVwcy5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICBtYXAocG9zaXRpb24pIHtcclxuICAgICAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IG1hcHBlZFBvc2l0aW9uID0gdGhpcy50cmFuc2FjdGlvbi5zdGVwc1xyXG4gICAgICAgICAgICAuc2xpY2UodGhpcy5jdXJyZW50U3RlcClcclxuICAgICAgICAgICAgLnJlZHVjZSgobmV3UG9zaXRpb24sIHN0ZXApID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWFwUmVzdWx0ID0gc3RlcC5nZXRNYXAoKS5tYXBSZXN1bHQobmV3UG9zaXRpb24pO1xyXG4gICAgICAgICAgICBpZiAobWFwUmVzdWx0LmRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtYXBSZXN1bHQucG9zO1xyXG4gICAgICAgIH0sIHBvc2l0aW9uKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogbWFwcGVkUG9zaXRpb24sXHJcbiAgICAgICAgICAgIGRlbGV0ZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBDb21tYW5kTWFuYWdlciwgRWRpdG9yLCBFeHRlbnNpb24sIElucHV0UnVsZSwgTWFyaywgTm9kZSwgTm9kZVBvcywgTm9kZVZpZXcsIFBhc3RlUnVsZSwgVHJhY2tlciwgY2FsbE9yUmV0dXJuLCBjb21iaW5lVHJhbnNhY3Rpb25TdGVwcywgY3JlYXRlQ2hhaW5hYmxlU3RhdGUsIGNyZWF0ZURvY3VtZW50LCBjcmVhdGVOb2RlRnJvbUNvbnRlbnQsIGNyZWF0ZVN0eWxlVGFnLCBkZWZhdWx0QmxvY2tBdCwgZGVsZXRlUHJvcHMsIGVsZW1lbnRGcm9tU3RyaW5nLCBlc2NhcGVGb3JSZWdFeCwgZXh0ZW5zaW9ucywgZmluZENoaWxkcmVuLCBmaW5kQ2hpbGRyZW5JblJhbmdlLCBmaW5kRHVwbGljYXRlcywgZmluZFBhcmVudE5vZGUsIGZpbmRQYXJlbnROb2RlQ2xvc2VzdFRvUG9zLCBmcm9tU3RyaW5nLCBnZW5lcmF0ZUhUTUwsIGdlbmVyYXRlSlNPTiwgZ2VuZXJhdGVUZXh0LCBnZXRBdHRyaWJ1dGVzLCBnZXRBdHRyaWJ1dGVzRnJvbUV4dGVuc2lvbnMsIGdldENoYW5nZWRSYW5nZXMsIGdldERlYnVnSlNPTiwgZ2V0RXh0ZW5zaW9uRmllbGQsIGdldEhUTUxGcm9tRnJhZ21lbnQsIGdldE1hcmtBdHRyaWJ1dGVzLCBnZXRNYXJrUmFuZ2UsIGdldE1hcmtUeXBlLCBnZXRNYXJrc0JldHdlZW4sIGdldE5vZGVBdFBvc2l0aW9uLCBnZXROb2RlQXR0cmlidXRlcywgZ2V0Tm9kZVR5cGUsIGdldFJlbmRlcmVkQXR0cmlidXRlcywgZ2V0U2NoZW1hLCBnZXRTY2hlbWFCeVJlc29sdmVkRXh0ZW5zaW9ucywgZ2V0U2NoZW1hVHlwZUJ5TmFtZSwgZ2V0U2NoZW1hVHlwZU5hbWVCeU5hbWUsIGdldFNwbGl0dGVkQXR0cmlidXRlcywgZ2V0VGV4dCwgZ2V0VGV4dEJldHdlZW4sIGdldFRleHRDb250ZW50RnJvbU5vZGVzLCBnZXRUZXh0U2VyaWFsaXplcnNGcm9tU2NoZW1hLCBpbmplY3RFeHRlbnNpb25BdHRyaWJ1dGVzVG9QYXJzZVJ1bGUsIGlucHV0UnVsZXNQbHVnaW4sIGlzQWN0aXZlLCBpc0F0RW5kT2ZOb2RlLCBpc0F0U3RhcnRPZk5vZGUsIGlzRW1wdHlPYmplY3QsIGlzRXh0ZW5zaW9uUnVsZXNFbmFibGVkLCBpc0Z1bmN0aW9uLCBpc0xpc3QsIGlzTWFjT1MsIGlzTWFya0FjdGl2ZSwgaXNOb2RlQWN0aXZlLCBpc05vZGVFbXB0eSwgaXNOb2RlU2VsZWN0aW9uLCBpc051bWJlciwgaXNQbGFpbk9iamVjdCwgaXNSZWdFeHAsIGlzU3RyaW5nLCBpc1RleHRTZWxlY3Rpb24sIGlzaU9TLCBtYXJrSW5wdXRSdWxlLCBtYXJrUGFzdGVSdWxlLCBtZXJnZUF0dHJpYnV0ZXMsIG1lcmdlRGVlcCwgbWluTWF4LCBub2RlSW5wdXRSdWxlLCBub2RlUGFzdGVSdWxlLCBvYmplY3RJbmNsdWRlcywgcGFzdGVSdWxlc1BsdWdpbiwgcG9zVG9ET01SZWN0LCByZW1vdmVEdXBsaWNhdGVzLCByZXNvbHZlRm9jdXNQb3NpdGlvbiwgc2VsZWN0aW9uVG9JbnNlcnRpb25FbmQsIHNwbGl0RXh0ZW5zaW9ucywgdGV4dElucHV0UnVsZSwgdGV4dFBhc3RlUnVsZSwgdGV4dGJsb2NrVHlwZUlucHV0UnVsZSwgd3JhcHBpbmdJbnB1dFJ1bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIlBsdWdpbiIsIlBsdWdpbktleSIsIlRleHRTZWxlY3Rpb24iLCJTZWxlY3Rpb24iLCJOb2RlU2VsZWN0aW9uIiwiRWRpdG9yU3RhdGUiLCJFZGl0b3JWaWV3Iiwia2V5bWFwIiwiU2NoZW1hIiwiRnJhZ21lbnQiLCJET01QYXJzZXIiLCJET01TZXJpYWxpemVyIiwiTm9kZSIsIk5vZGUkMSIsIlNsaWNlIiwibGlmdFRhcmdldCIsIlJlcGxhY2VTdGVwIiwiUmVwbGFjZUFyb3VuZFN0ZXAiLCJqb2luUG9pbnQiLCJUcmFuc2Zvcm0iLCJjYW5TcGxpdCIsImNhbkpvaW4iLCJmaW5kV3JhcHBpbmciLCJjcmVhdGVQYXJhZ3JhcGhOZWFyIiwiY3JlYXRlUGFyYWdyYXBoTmVhciQxIiwiZGVsZXRlU2VsZWN0aW9uIiwiZGVsZXRlU2VsZWN0aW9uJDEiLCJleGl0Q29kZSIsImV4aXRDb2RlJDEiLCJqb2luVXAiLCJqb2luVXAkMSIsImpvaW5Eb3duIiwiam9pbkRvd24kMSIsImpvaW5CYWNrd2FyZCIsImpvaW5CYWNrd2FyZCQxIiwiam9pbkZvcndhcmQiLCJqb2luRm9yd2FyZCQxIiwiam9pblRleHRibG9ja0JhY2t3YXJkIiwiam9pblRleHRibG9ja0JhY2t3YXJkJDEiLCJqb2luVGV4dGJsb2NrRm9yd2FyZCIsImpvaW5UZXh0YmxvY2tGb3J3YXJkJDEiLCJsaWZ0IiwibGlmdCQxIiwibGlmdEVtcHR5QmxvY2siLCJsaWZ0RW1wdHlCbG9jayQxIiwibmV3bGluZUluQ29kZSIsIm5ld2xpbmVJbkNvZGUkMSIsInNlbGVjdE5vZGVCYWNrd2FyZCIsInNlbGVjdE5vZGVCYWNrd2FyZCQxIiwic2VsZWN0Tm9kZUZvcndhcmQiLCJzZWxlY3ROb2RlRm9yd2FyZCQxIiwic2VsZWN0UGFyZW50Tm9kZSIsInNlbGVjdFBhcmVudE5vZGUkMSIsInNlbGVjdFRleHRibG9ja0VuZCIsInNlbGVjdFRleHRibG9ja0VuZCQxIiwic2VsZWN0VGV4dGJsb2NrU3RhcnQiLCJzZWxlY3RUZXh0YmxvY2tTdGFydCQxIiwic2V0QmxvY2tUeXBlIiwid3JhcEluIiwid3JhcEluJDEiLCJsaWZ0TGlzdEl0ZW0iLCJsaWZ0TGlzdEl0ZW0kMSIsInNpbmtMaXN0SXRlbSIsInNpbmtMaXN0SXRlbSQxIiwid3JhcEluTGlzdCIsIndyYXBJbkxpc3QkMSIsImNyZWF0ZUNoYWluYWJsZVN0YXRlIiwiY29uZmlnIiwic3RhdGUiLCJ0cmFuc2FjdGlvbiIsInNlbGVjdGlvbiIsImRvYyIsInN0b3JlZE1hcmtzIiwiYXBwbHkiLCJiaW5kIiwiYXBwbHlUcmFuc2FjdGlvbiIsInBsdWdpbnMiLCJzY2hlbWEiLCJyZWNvbmZpZ3VyZSIsInRvSlNPTiIsInRyIiwiQ29tbWFuZE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwiZWRpdG9yIiwicmF3Q29tbWFuZHMiLCJleHRlbnNpb25NYW5hZ2VyIiwiY29tbWFuZHMiLCJjdXN0b21TdGF0ZSIsImhhc0N1c3RvbVN0YXRlIiwidmlldyIsImJ1aWxkUHJvcHMiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJtYXAiLCJuYW1lIiwiY29tbWFuZCIsIm1ldGhvZCIsImFyZ3MiLCJjYWxsYmFjayIsImdldE1ldGEiLCJkaXNwYXRjaCIsImNoYWluIiwiY3JlYXRlQ2hhaW4iLCJjYW4iLCJjcmVhdGVDYW4iLCJzdGFydFRyIiwic2hvdWxkRGlzcGF0Y2giLCJjYWxsYmFja3MiLCJoYXNTdGFydFRyYW5zYWN0aW9uIiwicnVuIiwiZXZlcnkiLCJjaGFpbmVkQ29tbWFuZCIsInB1c2giLCJmb3JtYXR0ZWRDb21tYW5kcyIsInVuZGVmaW5lZCIsIkV2ZW50RW1pdHRlciIsIm9uIiwiZXZlbnQiLCJmbiIsImVtaXQiLCJmb3JFYWNoIiwib2ZmIiwiZmlsdGVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZ2V0RXh0ZW5zaW9uRmllbGQiLCJleHRlbnNpb24iLCJmaWVsZCIsImNvbnRleHQiLCJwYXJlbnQiLCJ2YWx1ZSIsInNwbGl0RXh0ZW5zaW9ucyIsImV4dGVuc2lvbnMiLCJiYXNlRXh0ZW5zaW9ucyIsInR5cGUiLCJub2RlRXh0ZW5zaW9ucyIsIm1hcmtFeHRlbnNpb25zIiwiZ2V0QXR0cmlidXRlc0Zyb21FeHRlbnNpb25zIiwiZXh0ZW5zaW9uQXR0cmlidXRlcyIsIm5vZGVBbmRNYXJrRXh0ZW5zaW9ucyIsImRlZmF1bHRBdHRyaWJ1dGUiLCJkZWZhdWx0IiwicmVuZGVyZWQiLCJyZW5kZXJIVE1MIiwicGFyc2VIVE1MIiwia2VlcE9uU3BsaXQiLCJpc1JlcXVpcmVkIiwib3B0aW9ucyIsInN0b3JhZ2UiLCJhZGRHbG9iYWxBdHRyaWJ1dGVzIiwiZ2xvYmFsQXR0cmlidXRlcyIsImdsb2JhbEF0dHJpYnV0ZSIsInR5cGVzIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsImFkZEF0dHJpYnV0ZXMiLCJtZXJnZWRBdHRyIiwiZ2V0Tm9kZVR5cGUiLCJuYW1lT3JUeXBlIiwibm9kZXMiLCJFcnJvciIsIm1lcmdlQXR0cmlidXRlcyIsIm9iamVjdHMiLCJpdGVtIiwicmVkdWNlIiwiaXRlbXMiLCJtZXJnZWRBdHRyaWJ1dGVzIiwia2V5IiwiZXhpc3RzIiwidmFsdWVDbGFzc2VzIiwic3BsaXQiLCJleGlzdGluZ0NsYXNzZXMiLCJpbnNlcnRDbGFzc2VzIiwidmFsdWVDbGFzcyIsImluY2x1ZGVzIiwiam9pbiIsImdldFJlbmRlcmVkQXR0cmlidXRlcyIsIm5vZGVPck1hcmsiLCJhdHRycyIsImlzRnVuY3Rpb24iLCJjYWxsT3JSZXR1cm4iLCJpc0VtcHR5T2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImZyb21TdHJpbmciLCJtYXRjaCIsIk51bWJlciIsImluamVjdEV4dGVuc2lvbkF0dHJpYnV0ZXNUb1BhcnNlUnVsZSIsInBhcnNlUnVsZSIsInN0eWxlIiwiZ2V0QXR0cnMiLCJub2RlIiwib2xkQXR0cmlidXRlcyIsIm5ld0F0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGUiLCJjbGVhblVwU2NoZW1hSXRlbSIsImRhdGEiLCJnZXRTY2hlbWFCeVJlc29sdmVkRXh0ZW5zaW9ucyIsIl9hIiwiYWxsQXR0cmlidXRlcyIsInRvcE5vZGUiLCJmaW5kIiwiZXh0cmFOb2RlRmllbGRzIiwiZmllbGRzIiwiZSIsImV4dGVuZE5vZGVTY2hlbWEiLCJjb250ZW50IiwibWFya3MiLCJncm91cCIsImlubGluZSIsImF0b20iLCJzZWxlY3RhYmxlIiwiZHJhZ2dhYmxlIiwiY29kZSIsImRlZmluaW5nIiwiaXNvbGF0aW5nIiwiZXh0ZW5zaW9uQXR0cmlidXRlIiwicGFyc2VET00iLCJ0b0RPTSIsIkhUTUxBdHRyaWJ1dGVzIiwicmVuZGVyVGV4dCIsInRvVGV4dCIsImV4dHJhTWFya0ZpZWxkcyIsImV4dGVuZE1hcmtTY2hlbWEiLCJpbmNsdXNpdmUiLCJleGNsdWRlcyIsInNwYW5uaW5nIiwibWFyayIsImdldFNjaGVtYVR5cGVCeU5hbWUiLCJpc0V4dGVuc2lvblJ1bGVzRW5hYmxlZCIsImVuYWJsZWQiLCJBcnJheSIsImlzQXJyYXkiLCJzb21lIiwiZW5hYmxlZEV4dGVuc2lvbiIsImdldFRleHRDb250ZW50RnJvbU5vZGVzIiwiJGZyb20iLCJtYXhNYXRjaCIsInRleHRCZWZvcmUiLCJzbGljZUVuZFBvcyIsInBhcmVudE9mZnNldCIsIm5vZGVzQmV0d2VlbiIsIk1hdGgiLCJtYXgiLCJwb3MiLCJpbmRleCIsIl9iIiwiY2h1bmsiLCJzcGVjIiwiY2FsbCIsInRleHRDb250ZW50Iiwic2xpY2UiLCJpc1JlZ0V4cCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiSW5wdXRSdWxlIiwiaGFuZGxlciIsImlucHV0UnVsZU1hdGNoZXJIYW5kbGVyIiwidGV4dCIsImV4ZWMiLCJpbnB1dFJ1bGVNYXRjaCIsInJlc3VsdCIsImlucHV0IiwicmVwbGFjZVdpdGgiLCJjb25zb2xlIiwid2FybiIsInJ1biQxIiwiZnJvbSIsInRvIiwicnVsZXMiLCJwbHVnaW4iLCJjb21wb3NpbmciLCJyZXNvbHZlIiwibm9kZUJlZm9yZSIsIm5vZGVBZnRlciIsIm1hdGNoZWQiLCJydWxlIiwicmFuZ2UiLCJzdGVwcyIsInNldE1ldGEiLCJ0cmFuc2Zvcm0iLCJpbnB1dFJ1bGVzUGx1Z2luIiwiaW5pdCIsInByZXYiLCJzdG9yZWQiLCJzZWxlY3Rpb25TZXQiLCJkb2NDaGFuZ2VkIiwiaGFuZGxlVGV4dElucHV0IiwiaGFuZGxlRE9NRXZlbnRzIiwiY29tcG9zaXRpb25lbmQiLCJzZXRUaW1lb3V0IiwiJGN1cnNvciIsImhhbmRsZUtleURvd24iLCJpc0lucHV0UnVsZXMiLCJpc051bWJlciIsIlBhc3RlUnVsZSIsInBhc3RlUnVsZU1hdGNoZXJIYW5kbGVyIiwibWF0Y2hBbGwiLCJtYXRjaGVzIiwicGFzdGVSdWxlTWF0Y2giLCJwYXN0ZUV2ZW50IiwiZHJvcEV2ZW50IiwiaGFuZGxlcnMiLCJpc1RleHRibG9jayIsInJlc29sdmVkRnJvbSIsInJlc29sdmVkVG8iLCJtaW4iLCJzaXplIiwidGV4dFRvTWF0Y2giLCJ0ZXh0QmV0d2VlbiIsInN0YXJ0IiwiZW5kIiwibWFwcGluZyIsInN1Y2Nlc3MiLCJwYXN0ZVJ1bGVzUGx1Z2luIiwiZHJhZ1NvdXJjZUVsZW1lbnQiLCJpc1Bhc3RlZEZyb21Qcm9zZU1pcnJvciIsImlzRHJvcHBlZEZyb21Qcm9zZU1pcnJvciIsIkNsaXBib2FyZEV2ZW50IiwiRHJhZ0V2ZW50IiwiaGFuZGxlRHJhZ3N0YXJ0IiwiZG9tIiwicGFyZW50RWxlbWVudCIsImNvbnRhaW5zIiwidGFyZ2V0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRlc3Ryb3kiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZHJvcCIsInBhc3RlIiwiX3ZpZXciLCJodG1sIiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJhcHBlbmRUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9ucyIsIm9sZFN0YXRlIiwiaXNQYXN0ZSIsImlzRHJvcCIsImZpbmREaWZmU3RhcnQiLCJmaW5kRGlmZkVuZCIsImIiLCJjaGFpbmFibGVTdGF0ZSIsImZpbmREdXBsaWNhdGVzIiwiZmlsdGVyZWQiLCJlbCIsImluZGV4T2YiLCJTZXQiLCJFeHRlbnNpb25NYW5hZ2VyIiwic3BsaXR0YWJsZU1hcmtzIiwiZXh0ZW5zaW9uU3RvcmFnZSIsIm9uQmVmb3JlQ3JlYXRlIiwib25DcmVhdGUiLCJvblVwZGF0ZSIsIm9uU2VsZWN0aW9uVXBkYXRlIiwib25UcmFuc2FjdGlvbiIsIm9uRm9jdXMiLCJvbkJsdXIiLCJvbkRlc3Ryb3kiLCJyZXNvbHZlZEV4dGVuc2lvbnMiLCJzb3J0IiwiZmxhdHRlbiIsImR1cGxpY2F0ZWROYW1lcyIsImFkZEV4dGVuc2lvbnMiLCJmbGF0IiwiZGVmYXVsdFByaW9yaXR5IiwiYSIsInByaW9yaXR5QSIsInByaW9yaXR5QiIsImFkZENvbW1hbmRzIiwicmV2ZXJzZSIsImlucHV0UnVsZXMiLCJwYXN0ZVJ1bGVzIiwiYWxsUGx1Z2lucyIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZGVmYXVsdEJpbmRpbmdzIiwiZXhpdGFibGUiLCJBcnJvd1JpZ2h0IiwiTWFyayIsImhhbmRsZUV4aXQiLCJiaW5kaW5ncyIsInNob3J0Y3V0Iiwia2V5TWFwUGx1Z2luIiwiYWRkSW5wdXRSdWxlcyIsImVuYWJsZUlucHV0UnVsZXMiLCJhZGRQYXN0ZVJ1bGVzIiwiZW5hYmxlUGFzdGVSdWxlcyIsImFkZFByb3NlTWlycm9yUGx1Z2lucyIsInByb3NlTWlycm9yUGx1Z2lucyIsIm5vZGVWaWV3cyIsImFkZE5vZGVWaWV3Iiwibm9kZXZpZXciLCJnZXRQb3MiLCJkZWNvcmF0aW9ucyIsImdldFR5cGUiLCJpc1BsYWluT2JqZWN0IiwiZ2V0UHJvdG90eXBlT2YiLCJtZXJnZURlZXAiLCJzb3VyY2UiLCJvdXRwdXQiLCJhc3NpZ24iLCJFeHRlbnNpb24iLCJjaGlsZCIsImRlZmF1bHRPcHRpb25zIiwiYWRkT3B0aW9ucyIsImNyZWF0ZSIsImNvbmZpZ3VyZSIsImV4dGVuZCIsImV4dGVuZGVkQ29uZmlnIiwiZ2V0VGV4dEJldHdlZW4iLCJzdGFydE5vZGUiLCJibG9ja1NlcGFyYXRvciIsInRleHRTZXJpYWxpemVycyIsInNlcGFyYXRlZCIsInRleHRTZXJpYWxpemVyIiwiaXNCbG9jayIsImlzVGV4dCIsImdldFRleHRTZXJpYWxpemVyc0Zyb21TY2hlbWEiLCJDbGlwYm9hcmRUZXh0U2VyaWFsaXplciIsImNsaXBib2FyZFRleHRTZXJpYWxpemVyIiwicmFuZ2VzIiwiJHRvIiwiYmx1ciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImlzRGVzdHJveWVkIiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwiY2xlYXJDb250ZW50IiwiZW1pdFVwZGF0ZSIsInNldENvbnRlbnQiLCJjbGVhck5vZGVzIiwiJG1hcHBlZEZyb20iLCIkbWFwcGVkVG8iLCJub2RlU2l6ZSIsIm5vZGVSYW5nZSIsImJsb2NrUmFuZ2UiLCJ0YXJnZXRMaWZ0RGVwdGgiLCJkZWZhdWx0VHlwZSIsImNvbnRlbnRNYXRjaEF0Iiwic2V0Tm9kZU1hcmt1cCIsImN1dCIsIm9yaWdpblJhbmdlIiwidGFyZ2V0UG9zIiwiY29udGVudFNsaWNlIiwiZGVsZXRlUmFuZ2UiLCJuZXdQb3MiLCJpbnNlcnQiLCJzZXRTZWxlY3Rpb24iLCJkZWxldGVDdXJyZW50Tm9kZSIsImN1cnJlbnROb2RlIiwiJGFuY2hvciIsIiRwb3MiLCJkZXB0aCIsImJlZm9yZSIsImFmdGVyIiwiZGVsZXRlIiwic2Nyb2xsSW50b1ZpZXciLCJkZWxldGVOb2RlIiwidHlwZU9yTmFtZSIsImVudGVyIiwia2V5Ym9hcmRTaG9ydGN1dCIsIm9iamVjdEluY2x1ZGVzIiwib2JqZWN0MSIsIm9iamVjdDIiLCJzdHJpY3QiLCJ0ZXN0IiwiZmluZE1hcmtJblNldCIsImlzTWFya0luU2V0IiwiZ2V0TWFya1JhbmdlIiwiY2hpbGRBZnRlciIsIm9mZnNldCIsImNoaWxkQmVmb3JlIiwic3RhcnRJbmRleCIsInN0YXJ0UG9zIiwiZW5kSW5kZXgiLCJlbmRQb3MiLCJpc0luU2V0IiwiY2hpbGRDb3VudCIsImdldE1hcmtUeXBlIiwiZXh0ZW5kTWFya1JhbmdlIiwibmV3U2VsZWN0aW9uIiwiZmlyc3QiLCJpIiwiaXNUZXh0U2VsZWN0aW9uIiwibWluTWF4IiwicmVzb2x2ZUZvY3VzUG9zaXRpb24iLCJwb3NpdGlvbiIsInNlbGVjdGlvbkF0U3RhcnQiLCJhdFN0YXJ0Iiwic2VsZWN0aW9uQXRFbmQiLCJhdEVuZCIsIm1pblBvcyIsIm1heFBvcyIsImlzaU9TIiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJ1c2VyQWdlbnQiLCJkb2N1bWVudCIsImZvY3VzIiwiZGVsYXllZEZvY3VzIiwiaGFzRm9jdXMiLCJpc1NhbWVTZWxlY3Rpb24iLCJlcSIsInNldFN0b3JlZE1hcmtzIiwiaW5zZXJ0Q29udGVudCIsImluc2VydENvbnRlbnRBdCIsInJlbW92ZVdoaXRlc3BhY2VzIiwiY2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwibm9kZVR5cGUiLCJub2RlVmFsdWUiLCJyZW1vdmVDaGlsZCIsImVsZW1lbnRGcm9tU3RyaW5nIiwid3JhcHBlZFZhbHVlIiwicGFyc2VGcm9tU3RyaW5nIiwiYm9keSIsImNyZWF0ZU5vZGVGcm9tQ29udGVudCIsInBhcnNlT3B0aW9ucyIsImZyb21BcnJheSIsIm5vZGVGcm9tSlNPTiIsImVycm9yIiwicGFyc2VyIiwiZnJvbVNjaGVtYSIsInBhcnNlU2xpY2UiLCJwYXJzZSIsInNlbGVjdGlvblRvSW5zZXJ0aW9uRW5kIiwic3RhcnRMZW4iLCJiaWFzIiwibGFzdCIsInN0ZXAiLCJtYXBzIiwiX2Zyb20iLCJfdG8iLCJfbmV3RnJvbSIsIm5ld1RvIiwibmVhciIsImlzRnJhZ21lbnQiLCJub2RlT3JGcmFnbWVudCIsInN0YXJ0c1dpdGgiLCJ1cGRhdGVTZWxlY3Rpb24iLCJwcmVzZXJ2ZVdoaXRlc3BhY2UiLCJpc09ubHlUZXh0Q29udGVudCIsImlzT25seUJsb2NrQ29udGVudCIsImNoZWNrIiwiaXNFbXB0eVRleHRCbG9jayIsImluc2VydFRleHQiLCJ2Iiwiam9pbkl0ZW1CYWNrd2FyZCIsInBvaW50Iiwiam9pbkl0ZW1Gb3J3YXJkIiwiaXNNYWNPUyIsIm5vcm1hbGl6ZUtleU5hbWUiLCJwYXJ0cyIsImFsdCIsImN0cmwiLCJzaGlmdCIsIm1ldGEiLCJtb2QiLCJLZXlib2FyZEV2ZW50IiwiYWx0S2V5IiwiY3RybEtleSIsIm1ldGFLZXkiLCJzaGlmdEtleSIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiY2FwdHVyZWRUcmFuc2FjdGlvbiIsImNhcHR1cmVUcmFuc2FjdGlvbiIsInNvbWVQcm9wIiwiZiIsIm5ld1N0ZXAiLCJtYXliZVN0ZXAiLCJpc05vZGVBY3RpdmUiLCJlbXB0eSIsIm5vZGVSYW5nZXMiLCJyZWxhdGl2ZUZyb20iLCJyZWxhdGl2ZVRvIiwic2VsZWN0aW9uUmFuZ2UiLCJtYXRjaGVkTm9kZVJhbmdlcyIsInN1bSIsImlzQWN0aXZlIiwiZ2V0U2NoZW1hVHlwZU5hbWVCeU5hbWUiLCJkZWxldGVQcm9wcyIsIm9iaiIsInByb3BPclByb3BzIiwibmV3T2JqIiwicHJvcCIsInJlc2V0QXR0cmlidXRlcyIsIm1hcmtUeXBlIiwic2NoZW1hVHlwZSIsImFkZE1hcmsiLCJzZWxlY3RBbGwiLCJzZXRUZXh0U2VsZWN0aW9uIiwiY3JlYXRlRG9jdW1lbnQiLCJnZXRNYXJrQXR0cmlidXRlcyIsIiRoZWFkIiwibWFya0l0ZW0iLCJjb21iaW5lVHJhbnNhY3Rpb25TdGVwcyIsIm9sZERvYyIsImRlZmF1bHRCbG9ja0F0IiwiZWRnZUNvdW50IiwiZWRnZSIsImhhc1JlcXVpcmVkQXR0cnMiLCJmaW5kQ2hpbGRyZW4iLCJwcmVkaWNhdGUiLCJub2Rlc1dpdGhQb3MiLCJkZXNjZW5kYW50cyIsImZpbmRDaGlsZHJlbkluUmFuZ2UiLCJmaW5kUGFyZW50Tm9kZUNsb3Nlc3RUb1BvcyIsImZpbmRQYXJlbnROb2RlIiwiZ2V0SFRNTEZyb21GcmFnbWVudCIsImZyYWdtZW50IiwiZG9jdW1lbnRGcmFnbWVudCIsInNlcmlhbGl6ZUZyYWdtZW50IiwidGVtcG9yYXJ5RG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImdldFNjaGVtYSIsImdlbmVyYXRlSFRNTCIsImNvbnRlbnROb2RlIiwiZnJvbUpTT04iLCJnZW5lcmF0ZUpTT04iLCJnZXRUZXh0IiwiZ2VuZXJhdGVUZXh0IiwiZ2V0Tm9kZUF0dHJpYnV0ZXMiLCJub2RlSXRlbSIsImdldEF0dHJpYnV0ZXMiLCJyZW1vdmVEdXBsaWNhdGVzIiwiYXJyYXkiLCJieSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZWVuIiwiaGFzT3duUHJvcGVydHkiLCJzaW1wbGlmeUNoYW5nZWRSYW5nZXMiLCJjaGFuZ2VzIiwidW5pcXVlQ2hhbmdlcyIsImNoYW5nZSIsInJlc3QiLCJfIiwib3RoZXJDaGFuZ2UiLCJvbGRSYW5nZSIsIm5ld1JhbmdlIiwiZ2V0Q2hhbmdlZFJhbmdlcyIsInN0ZXBNYXAiLCJuZXdTdGFydCIsIm5ld0VuZCIsIm9sZFN0YXJ0IiwiaW52ZXJ0Iiwib2xkRW5kIiwiZ2V0RGVidWdKU09OIiwic3RhcnRPZmZzZXQiLCJpc1RvcE5vZGUiLCJ0b3BOb2RlVHlwZSIsImluY3JlbWVudCIsImdldE1hcmtzQmV0d2VlbiIsImdldE5vZGVBdFBvc2l0aW9uIiwibWF4RGVwdGgiLCJjdXJyZW50RGVwdGgiLCJnZXRTcGxpdHRlZEF0dHJpYnV0ZXMiLCJ0eXBlTmFtZSIsImlzTWFya0FjdGl2ZSIsIm1hcmtSYW5nZXMiLCJtYXRjaGVkUmFuZ2UiLCJtYXJrUmFuZ2UiLCJleGNsdWRlZFJhbmdlIiwiaXNBdEVuZE9mTm9kZSIsInBhcmVudE5vZGUiLCIkcGFyZW50UG9zIiwiaXNBdFN0YXJ0T2ZOb2RlIiwiaXNMaXN0IiwiaXNOb2RlRW1wdHkiLCJkZWZhdWx0Q29udGVudCIsImNyZWF0ZUFuZEZpbGwiLCJpc05vZGVTZWxlY3Rpb24iLCJwb3NUb0RPTVJlY3QiLCJyZXNvbHZlZEVuZCIsImNvb3Jkc0F0UG9zIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJ4IiwieSIsImNhblNldE1hcmsiLCJuZXdNYXJrVHlwZSIsImN1cnNvciIsImN1cnJlbnRNYXJrcyIsInNvbWVOb2RlU3VwcG9ydHNNYXJrIiwiaW5saW5lQ29udGVudCIsImFsbG93c01hcmtUeXBlIiwiX3BvcyIsImlzSW5saW5lIiwicGFyZW50QWxsb3dzTWFya1R5cGUiLCJjdXJyZW50TWFya3NBbGxvd01hcmtUeXBlIiwib3RoZXJNYXJrIiwic2V0TWFyayIsImFkZFN0b3JlZE1hcmsiLCJ0cmltbWVkRnJvbSIsInRyaW1tZWRUbyIsInNvbWVIYXNNYXJrIiwic2V0Tm9kZSIsImNhblNldEJsb2NrIiwidXBkYXRlZFN0YXRlIiwic2V0Tm9kZVNlbGVjdGlvbiIsImVuc3VyZU1hcmtzIiwiZmlsdGVyZWRNYXJrcyIsInNwbGl0QmxvY2siLCJrZWVwTWFya3MiLCJkZWZsdCIsImluZGV4QWZ0ZXIiLCIkZmlyc3QiLCJjYW5SZXBsYWNlV2l0aCIsInNwbGl0TGlzdEl0ZW0iLCJzYW1lUGFyZW50IiwiZ3JhbmRQYXJlbnQiLCJ3cmFwIiwiZGVwdGhCZWZvcmUiLCJkIiwiY29weSIsImRlcHRoQWZ0ZXIiLCJuZXdOZXh0VHlwZUF0dHJpYnV0ZXMiLCJuZXh0VHlwZSIsImNvbnRlbnRNYXRjaCIsImFwcGVuZCIsInJlcGxhY2UiLCJzZWwiLCJuIiwibmV3VHlwZUF0dHJpYnV0ZXMiLCJqb2luTGlzdEJhY2t3YXJkcyIsImxpc3RUeXBlIiwibGlzdCIsIm5vZGVBdCIsImNhbkpvaW5CYWNrd2FyZHMiLCJqb2luTGlzdEZvcndhcmRzIiwiY2FuSm9pbkZvcndhcmRzIiwidG9nZ2xlTGlzdCIsImxpc3RUeXBlT3JOYW1lIiwiaXRlbVR5cGVPck5hbWUiLCJpdGVtVHlwZSIsInBhcmVudExpc3QiLCJ2YWxpZENvbnRlbnQiLCJjYW5XcmFwSW5MaXN0IiwidG9nZ2xlTWFyayIsImV4dGVuZEVtcHR5TWFya1JhbmdlIiwidW5zZXRNYXJrIiwidG9nZ2xlTm9kZSIsInRvZ2dsZVR5cGVPck5hbWUiLCJ0b2dnbGVUeXBlIiwidG9nZ2xlV3JhcCIsInVuZG9JbnB1dFJ1bGUiLCJ1bmRvYWJsZSIsImdldFN0YXRlIiwidG9VbmRvIiwiaiIsImRvY3MiLCJ1bnNldEFsbE1hcmtzIiwicmVtb3ZlTWFyayIsInJlbW92ZVN0b3JlZE1hcmsiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwiZnJlZXplIiwiX19wcm90b19fIiwiQ29tbWFuZHMiLCJFZGl0YWJsZSIsImVkaXRhYmxlIiwiRm9jdXNFdmVudHMiLCJpc0ZvY3VzZWQiLCJLZXltYXAiLCJoYW5kbGVCYWNrc3BhY2UiLCJwYXJlbnRJc0lzb2xhdGluZyIsInBhcmVudFBvcyIsImlzQXRTdGFydCIsImhhbmRsZURlbGV0ZSIsImhhbmRsZUVudGVyIiwiYmFzZUtleW1hcCIsIkVudGVyIiwiQmFja3NwYWNlIiwiRGVsZXRlIiwicGNLZXltYXAiLCJtYWNLZXltYXAiLCJuZXdTdGF0ZSIsImRvY0NoYW5nZXMiLCJhbGxGcm9tIiwiYWxsRW5kIiwiYWxsV2FzU2VsZWN0ZWQiLCJpc0VtcHR5IiwiVGFiaW5kZXgiLCJpc0VkaXRhYmxlIiwidGFiaW5kZXgiLCJOb2RlUG9zIiwiYWN0dWFsRGVwdGgiLCJyZXNvbHZlZFBvcyIsImVsZW1lbnQiLCJkb21BdFBvcyIsImNoaWxkTm9kZVBvcyIsImZpcnN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJjbG9zZXN0Iiwic2VsZWN0b3IiLCJub2RlQXR0cmlidXRlcyIsImF0dHJLZXlzIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaXJzdEl0ZW1Pbmx5IiwiY2hpbGRQb3MiLCJjb25jYXQiLCJzZXRBdHRyaWJ1dGUiLCJvbGRTZWxlY3Rpb24iLCJjcmVhdGVTdHlsZVRhZyIsIm5vbmNlIiwic3VmZml4IiwidGlwdGFwU3R5bGVUYWciLCJzdHlsZU5vZGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkVkaXRvciIsImluamVjdENTUyIsImluamVjdE5vbmNlIiwiYXV0b2ZvY3VzIiwiZWRpdG9yUHJvcHMiLCJlbmFibGVDb3JlRXh0ZW5zaW9ucyIsImlzQ2FwdHVyaW5nVHJhbnNhY3Rpb24iLCJzZXRPcHRpb25zIiwiY3JlYXRlRXh0ZW5zaW9uTWFuYWdlciIsImNyZWF0ZUNvbW1hbmRNYW5hZ2VyIiwiY3JlYXRlU2NoZW1hIiwiY3JlYXRlVmlldyIsImNvbW1hbmRNYW5hZ2VyIiwiY3NzIiwic2V0UHJvcHMiLCJ1cGRhdGVTdGF0ZSIsInNldEVkaXRhYmxlIiwicmVnaXN0ZXJQbHVnaW4iLCJoYW5kbGVQbHVnaW5zIiwidW5yZWdpc3RlclBsdWdpbiIsIm5hbWVPclBsdWdpbktleSIsImNvcmVFeHRlbnNpb25zIiwidmFsdWVzIiwiYWxsRXh0ZW5zaW9ucyIsImRpc3BhdGNoVHJhbnNhY3Rpb24iLCJjcmVhdGVOb2RlVmlld3MiLCJwcmVwZW5kQ2xhc3MiLCJjbGFzc05hbWUiLCJzZWxlY3Rpb25IYXNDaGFuZ2VkIiwibmFtZU9yQXR0cmlidXRlcyIsImF0dHJpYnV0ZXNPclVuZGVmaW5lZCIsImdldEpTT04iLCJnZXRIVE1MIiwiZ2V0Q2hhcmFjdGVyQ291bnQiLCJkb2NWaWV3IiwiJG5vZGUiLCIkZG9jIiwiJG5vZGVzIiwibWFya0lucHV0UnVsZSIsImNhcHR1cmVHcm91cCIsImZ1bGxNYXRjaCIsInN0YXJ0U3BhY2VzIiwic2VhcmNoIiwidGV4dFN0YXJ0IiwidGV4dEVuZCIsImV4Y2x1ZGVkTWFya3MiLCJleGNsdWRlZCIsIm1hcmtFbmQiLCJub2RlSW5wdXRSdWxlIiwibmV3Tm9kZSIsImxhc3RJbmRleE9mIiwibWF0Y2hTdGFydCIsImxhc3RDaGFyIiwidGV4dGJsb2NrVHlwZUlucHV0UnVsZSIsIiRzdGFydCIsInRleHRJbnB1dFJ1bGUiLCJjdXRPZmYiLCJ3cmFwcGluZ0lucHV0UnVsZSIsIndyYXBwaW5nIiwia2VlcEF0dHJpYnV0ZXMiLCJqb2luUHJlZGljYXRlIiwiY3VycmVudFBvcyIsImlzQXRFbmQiLCJpc0luTWFyayIsIm0iLCJpc0FuZHJvaWQiLCJOb2RlVmlldyIsImNvbXBvbmVudCIsImlzRHJhZ2dpbmciLCJzdG9wRXZlbnQiLCJpZ25vcmVNdXRhdGlvbiIsIm1vdW50IiwiY29udGVudERPTSIsIm9uRHJhZ1N0YXJ0IiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJfZyIsImRyYWdIYW5kbGUiLCJkb21Cb3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJoYW5kbGVCb3giLCJvZmZzZXRYIiwibmF0aXZlRXZlbnQiLCJvZmZzZXRZIiwiZGF0YVRyYW5zZmVyIiwic2V0RHJhZ0ltYWdlIiwiaXNJbkVsZW1lbnQiLCJpc0RyYWdFdmVudCIsImlzRHJvcEV2ZW50IiwiaXNJbnB1dCIsInRhZ05hbWUiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImlzRHJhZ2dhYmxlIiwiaXNTZWxlY3RhYmxlIiwiaXNDb3B5RXZlbnQiLCJpc1Bhc3RlRXZlbnQiLCJpc0N1dEV2ZW50IiwiaXNDbGlja0V2ZW50IiwicHJldmVudERlZmF1bHQiLCJpc1ZhbGlkRHJhZ0hhbmRsZSIsIm9uY2UiLCJtdXRhdGlvbiIsImlzTGVhZiIsImlzQXRvbSIsImNoYW5nZWROb2RlcyIsImFkZGVkTm9kZXMiLCJyZW1vdmVkTm9kZXMiLCJtYXJrUGFzdGVSdWxlIiwiZXNjYXBlRm9yUmVnRXgiLCJzdHJpbmciLCJpc1N0cmluZyIsIm5vZGVQYXN0ZVJ1bGUiLCJ0ZXh0UGFzdGVSdWxlIiwiVHJhY2tlciIsImN1cnJlbnRTdGVwIiwiZGVsZXRlZCIsIm1hcHBlZFBvc2l0aW9uIiwibmV3UG9zaXRpb24iLCJtYXBSZXN1bHQiLCJnZXRNYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/core/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-bold/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-bold/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bold: () => (/* binding */ Bold),\n/* harmony export */   \"default\": () => (/* binding */ Bold),\n/* harmony export */   starInputRegex: () => (/* binding */ starInputRegex),\n/* harmony export */   starPasteRegex: () => (/* binding */ starPasteRegex),\n/* harmony export */   underscoreInputRegex: () => (/* binding */ underscoreInputRegex),\n/* harmony export */   underscorePasteRegex: () => (/* binding */ underscorePasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst starInputRegex = /(?:^|\\s)((?:\\*\\*)((?:[^*]+))(?:\\*\\*))$/;\nconst starPasteRegex = /(?:^|\\s)((?:\\*\\*)((?:[^*]+))(?:\\*\\*))/g;\nconst underscoreInputRegex = /(?:^|\\s)((?:__)((?:[^__]+))(?:__))$/;\nconst underscorePasteRegex = /(?:^|\\s)((?:__)((?:[^__]+))(?:__))/g;\nconst Bold = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"bold\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"strong\"\n            },\n            {\n                tag: \"b\",\n                getAttrs: (node)=>node.style.fontWeight !== \"normal\" && null\n            },\n            {\n                style: \"font-weight\",\n                getAttrs: (value)=>/^(bold(er)?|[5-9]\\d{2,})$/.test(value) && null\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"strong\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setBold: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleBold: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetBold: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-b\": ()=>this.editor.commands.toggleBold(),\n            \"Mod-B\": ()=>this.editor.commands.toggleBold()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: starInputRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: underscoreInputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: starPasteRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: underscorePasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tYm9sZC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBbUY7QUFFbkYsTUFBTUksaUJBQWlCO0FBQ3ZCLE1BQU1DLGlCQUFpQjtBQUN2QixNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMsdUJBQXVCO0FBQzdCLE1BQU1DLE9BQU9SLDhDQUFJQSxDQUFDUyxNQUFNLENBQUM7SUFDckJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7WUFDVDtZQUNBO2dCQUNJQSxLQUFLO2dCQUNMQyxVQUFVQyxDQUFBQSxPQUFRQSxLQUFLQyxLQUFLLENBQUNDLFVBQVUsS0FBSyxZQUFZO1lBQzVEO1lBQ0E7Z0JBQ0lELE9BQU87Z0JBQ1BGLFVBQVVJLENBQUFBLFFBQVMsNEJBQTRCQyxJQUFJLENBQUNELFVBQVU7WUFDbEU7U0FDSDtJQUNMO0lBQ0FFLFlBQVcsRUFBRVQsY0FBYyxFQUFFO1FBQ3pCLE9BQU87WUFBQztZQUFVWCw2REFBZUEsQ0FBQyxJQUFJLENBQUNxQixPQUFPLENBQUNWLGNBQWMsRUFBRUE7WUFBaUI7U0FBRTtJQUN0RjtJQUNBVztRQUNJLE9BQU87WUFDSEMsU0FBUyxJQUFNLENBQUMsRUFBRUMsUUFBUSxFQUFFO29CQUN4QixPQUFPQSxTQUFTQyxPQUFPLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDckM7WUFDQWlCLFlBQVksSUFBTSxDQUFDLEVBQUVGLFFBQVEsRUFBRTtvQkFDM0IsT0FBT0EsU0FBU0csVUFBVSxDQUFDLElBQUksQ0FBQ2xCLElBQUk7Z0JBQ3hDO1lBQ0FtQixXQUFXLElBQU0sQ0FBQyxFQUFFSixRQUFRLEVBQUU7b0JBQzFCLE9BQU9BLFNBQVNLLFNBQVMsQ0FBQyxJQUFJLENBQUNwQixJQUFJO2dCQUN2QztRQUNKO0lBQ0o7SUFDQXFCO1FBQ0ksT0FBTztZQUNILFNBQVMsSUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ1AsUUFBUSxDQUFDRSxVQUFVO1lBQzlDLFNBQVMsSUFBTSxJQUFJLENBQUNLLE1BQU0sQ0FBQ1AsUUFBUSxDQUFDRSxVQUFVO1FBQ2xEO0lBQ0o7SUFDQU07UUFDSSxPQUFPO1lBQ0gvQiwyREFBYUEsQ0FBQztnQkFDVmdDLE1BQU05QjtnQkFDTitCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1lBQ0FqQywyREFBYUEsQ0FBQztnQkFDVmdDLE1BQU01QjtnQkFDTjZCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1NBQ0g7SUFDTDtJQUNBQztRQUNJLE9BQU87WUFDSGpDLDJEQUFhQSxDQUFDO2dCQUNWK0IsTUFBTTdCO2dCQUNOOEIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7WUFDQWhDLDJEQUFhQSxDQUFDO2dCQUNWK0IsTUFBTTNCO2dCQUNONEIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7U0FDSDtJQUNMO0FBQ0o7QUFFNkcsQ0FDN0csaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Utam91cm5hbC8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1ib2xkL2Rpc3QvaW5kZXguanM/ZGY2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXJrLCBtZXJnZUF0dHJpYnV0ZXMsIG1hcmtJbnB1dFJ1bGUsIG1hcmtQYXN0ZVJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBzdGFySW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86XFwqXFwqKSgoPzpbXipdKykpKD86XFwqXFwqKSkkLztcclxuY29uc3Qgc3RhclBhc3RlUmVnZXggPSAvKD86XnxcXHMpKCg/OlxcKlxcKikoKD86W14qXSspKSg/OlxcKlxcKikpL2c7XHJcbmNvbnN0IHVuZGVyc2NvcmVJbnB1dFJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpfXykoKD86W15fX10rKSkoPzpfXykpJC87XHJcbmNvbnN0IHVuZGVyc2NvcmVQYXN0ZVJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpfXykoKD86W15fX10rKSkoPzpfXykpL2c7XHJcbmNvbnN0IEJvbGQgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnYm9sZCcsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdzdHJvbmcnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdiJyxcclxuICAgICAgICAgICAgICAgIGdldEF0dHJzOiBub2RlID0+IG5vZGUuc3R5bGUuZm9udFdlaWdodCAhPT0gJ25vcm1hbCcgJiYgbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3R5bGU6ICdmb250LXdlaWdodCcsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyczogdmFsdWUgPT4gL14oYm9sZChlcik/fFs1LTldXFxkezIsfSkkLy50ZXN0KHZhbHVlKSAmJiBudWxsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydzdHJvbmcnLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyksIDBdO1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNldEJvbGQ6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUJvbGQ6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuc2V0Qm9sZDogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnVuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ01vZC1iJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMudG9nZ2xlQm9sZCgpLFxyXG4gICAgICAgICAgICAnTW9kLUInOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy50b2dnbGVCb2xkKCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRJbnB1dFJ1bGVzKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIG1hcmtJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogc3RhcklucHV0UmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBtYXJrSW5wdXRSdWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbmQ6IHVuZGVyc2NvcmVJbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFBhc3RlUnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBzdGFyUGFzdGVSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1hcmtQYXN0ZVJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogdW5kZXJzY29yZVBhc3RlUmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgQm9sZCwgQm9sZCBhcyBkZWZhdWx0LCBzdGFySW5wdXRSZWdleCwgc3RhclBhc3RlUmVnZXgsIHVuZGVyc2NvcmVJbnB1dFJlZ2V4LCB1bmRlcnNjb3JlUGFzdGVSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTWFyayIsIm1lcmdlQXR0cmlidXRlcyIsIm1hcmtJbnB1dFJ1bGUiLCJtYXJrUGFzdGVSdWxlIiwic3RhcklucHV0UmVnZXgiLCJzdGFyUGFzdGVSZWdleCIsInVuZGVyc2NvcmVJbnB1dFJlZ2V4IiwidW5kZXJzY29yZVBhc3RlUmVnZXgiLCJCb2xkIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJIVE1MQXR0cmlidXRlcyIsInBhcnNlSFRNTCIsInRhZyIsImdldEF0dHJzIiwibm9kZSIsInN0eWxlIiwiZm9udFdlaWdodCIsInZhbHVlIiwidGVzdCIsInJlbmRlckhUTUwiLCJvcHRpb25zIiwiYWRkQ29tbWFuZHMiLCJzZXRCb2xkIiwiY29tbWFuZHMiLCJzZXRNYXJrIiwidG9nZ2xlQm9sZCIsInRvZ2dsZU1hcmsiLCJ1bnNldEJvbGQiLCJ1bnNldE1hcmsiLCJhZGRLZXlib2FyZFNob3J0Y3V0cyIsImVkaXRvciIsImFkZElucHV0UnVsZXMiLCJmaW5kIiwidHlwZSIsImFkZFBhc3RlUnVsZXMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-bold/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-bubble-menu/dist/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@tiptap/extension-bubble-menu/dist/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BubbleMenu: () => (/* binding */ BubbleMenu),\n/* harmony export */   BubbleMenuPlugin: () => (/* binding */ BubbleMenuPlugin),\n/* harmony export */   BubbleMenuView: () => (/* binding */ BubbleMenuView),\n/* harmony export */   \"default\": () => (/* binding */ BubbleMenu)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n/* harmony import */ var tippy_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tippy.js */ \"(ssr)/./node_modules/tippy.js/dist/tippy.esm.js\");\n\n\n\nclass BubbleMenuView {\n    constructor({ editor, element, view, tippyOptions = {}, updateDelay = 250, shouldShow }){\n        this.preventHide = false;\n        this.shouldShow = ({ view, state, from, to })=>{\n            const { doc, selection } = state;\n            const { empty } = selection;\n            // Sometime check for `empty` is not enough.\n            // Doubleclick an empty paragraph returns a node size of 2.\n            // So we check also for an empty text size.\n            const isEmptyTextBlock = !doc.textBetween(from, to).length && (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.isTextSelection)(state.selection);\n            // When clicking on a element inside the bubble menu the editor \"blur\" event\n            // is called and the bubble menu item is focussed. In this case we should\n            // consider the menu as part of the editor and keep showing the menu\n            const isChildOfMenu = this.element.contains(document.activeElement);\n            const hasEditorFocus = view.hasFocus() || isChildOfMenu;\n            if (!hasEditorFocus || empty || isEmptyTextBlock || !this.editor.isEditable) {\n                return false;\n            }\n            return true;\n        };\n        this.mousedownHandler = ()=>{\n            this.preventHide = true;\n        };\n        this.dragstartHandler = ()=>{\n            this.hide();\n        };\n        this.focusHandler = ()=>{\n            // we use `setTimeout` to make sure `selection` is already updated\n            setTimeout(()=>this.update(this.editor.view));\n        };\n        this.blurHandler = ({ event })=>{\n            var _a;\n            if (this.preventHide) {\n                this.preventHide = false;\n                return;\n            }\n            if ((event === null || event === void 0 ? void 0 : event.relatedTarget) && ((_a = this.element.parentNode) === null || _a === void 0 ? void 0 : _a.contains(event.relatedTarget))) {\n                return;\n            }\n            this.hide();\n        };\n        this.tippyBlurHandler = (event)=>{\n            this.blurHandler({\n                event\n            });\n        };\n        this.handleDebouncedUpdate = (view, oldState)=>{\n            const selectionChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.selection.eq(view.state.selection));\n            const docChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.doc.eq(view.state.doc));\n            if (!selectionChanged && !docChanged) {\n                return;\n            }\n            if (this.updateDebounceTimer) {\n                clearTimeout(this.updateDebounceTimer);\n            }\n            this.updateDebounceTimer = window.setTimeout(()=>{\n                this.updateHandler(view, selectionChanged, docChanged, oldState);\n            }, this.updateDelay);\n        };\n        this.updateHandler = (view, selectionChanged, docChanged, oldState)=>{\n            var _a, _b, _c;\n            const { state, composing } = view;\n            const { selection } = state;\n            const isSame = !selectionChanged && !docChanged;\n            if (composing || isSame) {\n                return;\n            }\n            this.createTooltip();\n            // support for CellSelections\n            const { ranges } = selection;\n            const from = Math.min(...ranges.map((range)=>range.$from.pos));\n            const to = Math.max(...ranges.map((range)=>range.$to.pos));\n            const shouldShow = (_a = this.shouldShow) === null || _a === void 0 ? void 0 : _a.call(this, {\n                editor: this.editor,\n                view,\n                state,\n                oldState,\n                from,\n                to\n            });\n            if (!shouldShow) {\n                this.hide();\n                return;\n            }\n            (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.setProps({\n                getReferenceClientRect: ((_c = this.tippyOptions) === null || _c === void 0 ? void 0 : _c.getReferenceClientRect) || (()=>{\n                    if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.isNodeSelection)(state.selection)) {\n                        let node = view.nodeDOM(from);\n                        const nodeViewWrapper = node.dataset.nodeViewWrapper ? node : node.querySelector(\"[data-node-view-wrapper]\");\n                        if (nodeViewWrapper) {\n                            node = nodeViewWrapper.firstChild;\n                        }\n                        if (node) {\n                            return node.getBoundingClientRect();\n                        }\n                    }\n                    return (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.posToDOMRect)(view, from, to);\n                })\n            });\n            this.show();\n        };\n        this.editor = editor;\n        this.element = element;\n        this.view = view;\n        this.updateDelay = updateDelay;\n        if (shouldShow) {\n            this.shouldShow = shouldShow;\n        }\n        this.element.addEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.view.dom.addEventListener(\"dragstart\", this.dragstartHandler);\n        this.editor.on(\"focus\", this.focusHandler);\n        this.editor.on(\"blur\", this.blurHandler);\n        this.tippyOptions = tippyOptions;\n        // Detaches menu content from its current parent\n        this.element.remove();\n        this.element.style.visibility = \"visible\";\n    }\n    createTooltip() {\n        const { element: editorElement } = this.editor.options;\n        const editorIsAttached = !!editorElement.parentElement;\n        if (this.tippy || !editorIsAttached) {\n            return;\n        }\n        this.tippy = (0,tippy_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(editorElement, {\n            duration: 0,\n            getReferenceClientRect: null,\n            content: this.element,\n            interactive: true,\n            trigger: \"manual\",\n            placement: \"top\",\n            hideOnClick: \"toggle\",\n            ...this.tippyOptions\n        });\n        // maybe we have to hide tippy on its own blur event as well\n        if (this.tippy.popper.firstChild) {\n            this.tippy.popper.firstChild.addEventListener(\"blur\", this.tippyBlurHandler);\n        }\n    }\n    update(view, oldState) {\n        const { state } = view;\n        const hasValidSelection = state.selection.$from.pos !== state.selection.$to.pos;\n        if (this.updateDelay > 0 && hasValidSelection) {\n            this.handleDebouncedUpdate(view, oldState);\n            return;\n        }\n        const selectionChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.selection.eq(view.state.selection));\n        const docChanged = !(oldState === null || oldState === void 0 ? void 0 : oldState.doc.eq(view.state.doc));\n        this.updateHandler(view, selectionChanged, docChanged, oldState);\n    }\n    show() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    hide() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.hide();\n    }\n    destroy() {\n        var _a, _b;\n        if ((_a = this.tippy) === null || _a === void 0 ? void 0 : _a.popper.firstChild) {\n            this.tippy.popper.firstChild.removeEventListener(\"blur\", this.tippyBlurHandler);\n        }\n        (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.destroy();\n        this.element.removeEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.view.dom.removeEventListener(\"dragstart\", this.dragstartHandler);\n        this.editor.off(\"focus\", this.focusHandler);\n        this.editor.off(\"blur\", this.blurHandler);\n    }\n}\nconst BubbleMenuPlugin = (options)=>{\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n        key: typeof options.pluginKey === \"string\" ? new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(options.pluginKey) : options.pluginKey,\n        view: (view)=>new BubbleMenuView({\n                view,\n                ...options\n            })\n    });\n};\nconst BubbleMenu = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"bubbleMenu\",\n    addOptions () {\n        return {\n            element: null,\n            tippyOptions: {},\n            pluginKey: \"bubbleMenu\",\n            updateDelay: undefined,\n            shouldShow: null\n        };\n    },\n    addProseMirrorPlugins () {\n        if (!this.options.element) {\n            return [];\n        }\n        return [\n            BubbleMenuPlugin({\n                pluginKey: this.options.pluginKey,\n                editor: this.editor,\n                element: this.options.element,\n                tippyOptions: this.options.tippyOptions,\n                updateDelay: this.options.updateDelay,\n                shouldShow: this.options.shouldShow\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tYnViYmxlLW1lbnUvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlGO0FBQ3BDO0FBQ3hCO0FBRTdCLE1BQU1PO0lBQ0ZDLFlBQVksRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLElBQUksRUFBRUMsZUFBZSxDQUFDLENBQUMsRUFBRUMsY0FBYyxHQUFHLEVBQUVDLFVBQVUsRUFBRyxDQUFFO1FBQ3RGLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0QsVUFBVSxHQUFHLENBQUMsRUFBRUgsSUFBSSxFQUFFSyxLQUFLLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFHO1lBQ3pDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxTQUFTLEVBQUUsR0FBR0o7WUFDM0IsTUFBTSxFQUFFSyxLQUFLLEVBQUUsR0FBR0Q7WUFDbEIsNENBQTRDO1lBQzVDLDJEQUEyRDtZQUMzRCwyQ0FBMkM7WUFDM0MsTUFBTUUsbUJBQW1CLENBQUNILElBQUlJLFdBQVcsQ0FBQ04sTUFBTUMsSUFBSU0sTUFBTSxJQUFJeEIsNkRBQWVBLENBQUNnQixNQUFNSSxTQUFTO1lBQzdGLDRFQUE0RTtZQUM1RSx5RUFBeUU7WUFDekUsb0VBQW9FO1lBQ3BFLE1BQU1LLGdCQUFnQixJQUFJLENBQUNmLE9BQU8sQ0FBQ2dCLFFBQVEsQ0FBQ0MsU0FBU0MsYUFBYTtZQUNsRSxNQUFNQyxpQkFBaUJsQixLQUFLbUIsUUFBUSxNQUFNTDtZQUMxQyxJQUFJLENBQUNJLGtCQUFrQlIsU0FBU0Msb0JBQW9CLENBQUMsSUFBSSxDQUFDYixNQUFNLENBQUNzQixVQUFVLEVBQUU7Z0JBQ3pFLE9BQU87WUFDWDtZQUNBLE9BQU87UUFDWDtRQUNBLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUc7WUFDcEIsSUFBSSxDQUFDakIsV0FBVyxHQUFHO1FBQ3ZCO1FBQ0EsSUFBSSxDQUFDa0IsZ0JBQWdCLEdBQUc7WUFD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QkFDbkJDLFNBQVMsSUFBSSxDQUFDNEUsT0FBTyxDQUFDNUUsT0FBTztnQkFDN0JFLGNBQWMsSUFBSSxDQUFDMEUsT0FBTyxDQUFDMUUsWUFBWTtnQkFDdkNDLGFBQWEsSUFBSSxDQUFDeUUsT0FBTyxDQUFDekUsV0FBVztnQkFDckNDLFlBQVksSUFBSSxDQUFDd0UsT0FBTyxDQUFDeEUsVUFBVTtZQUN2QztTQUNIO0lBQ0w7QUFDSjtBQUUrRSxDQUMvRSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWJ1YmJsZS1tZW51L2Rpc3QvaW5kZXguanM/NWU0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1RleHRTZWxlY3Rpb24sIGlzTm9kZVNlbGVjdGlvbiwgcG9zVG9ET01SZWN0LCBFeHRlbnNpb24gfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5LZXkgfSBmcm9tICdAdGlwdGFwL3BtL3N0YXRlJztcbmltcG9ydCB0aXBweSBmcm9tICd0aXBweS5qcyc7XG5cbmNsYXNzIEJ1YmJsZU1lbnVWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZWRpdG9yLCBlbGVtZW50LCB2aWV3LCB0aXBweU9wdGlvbnMgPSB7fSwgdXBkYXRlRGVsYXkgPSAyNTAsIHNob3VsZFNob3csIH0pIHtcclxuICAgICAgICB0aGlzLnByZXZlbnRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaG91bGRTaG93ID0gKHsgdmlldywgc3RhdGUsIGZyb20sIHRvLCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZG9jLCBzZWxlY3Rpb24gfSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBjb25zdCB7IGVtcHR5IH0gPSBzZWxlY3Rpb247XHJcbiAgICAgICAgICAgIC8vIFNvbWV0aW1lIGNoZWNrIGZvciBgZW1wdHlgIGlzIG5vdCBlbm91Z2guXHJcbiAgICAgICAgICAgIC8vIERvdWJsZWNsaWNrIGFuIGVtcHR5IHBhcmFncmFwaCByZXR1cm5zIGEgbm9kZSBzaXplIG9mIDIuXHJcbiAgICAgICAgICAgIC8vIFNvIHdlIGNoZWNrIGFsc28gZm9yIGFuIGVtcHR5IHRleHQgc2l6ZS5cclxuICAgICAgICAgICAgY29uc3QgaXNFbXB0eVRleHRCbG9jayA9ICFkb2MudGV4dEJldHdlZW4oZnJvbSwgdG8pLmxlbmd0aCAmJiBpc1RleHRTZWxlY3Rpb24oc3RhdGUuc2VsZWN0aW9uKTtcclxuICAgICAgICAgICAgLy8gV2hlbiBjbGlja2luZyBvbiBhIGVsZW1lbnQgaW5zaWRlIHRoZSBidWJibGUgbWVudSB0aGUgZWRpdG9yIFwiYmx1clwiIGV2ZW50XHJcbiAgICAgICAgICAgIC8vIGlzIGNhbGxlZCBhbmQgdGhlIGJ1YmJsZSBtZW51IGl0ZW0gaXMgZm9jdXNzZWQuIEluIHRoaXMgY2FzZSB3ZSBzaG91bGRcclxuICAgICAgICAgICAgLy8gY29uc2lkZXIgdGhlIG1lbnUgYXMgcGFydCBvZiB0aGUgZWRpdG9yIGFuZCBrZWVwIHNob3dpbmcgdGhlIG1lbnVcclxuICAgICAgICAgICAgY29uc3QgaXNDaGlsZE9mTWVudSA9IHRoaXMuZWxlbWVudC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcclxuICAgICAgICAgICAgY29uc3QgaGFzRWRpdG9yRm9jdXMgPSB2aWV3Lmhhc0ZvY3VzKCkgfHwgaXNDaGlsZE9mTWVudTtcclxuICAgICAgICAgICAgaWYgKCFoYXNFZGl0b3JGb2N1cyB8fCBlbXB0eSB8fCBpc0VtcHR5VGV4dEJsb2NrIHx8ICF0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm1vdXNlZG93bkhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmVudEhpZGUgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5kcmFnc3RhcnRIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZm9jdXNIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyB3ZSB1c2UgYHNldFRpbWVvdXRgIHRvIG1ha2Ugc3VyZSBgc2VsZWN0aW9uYCBpcyBhbHJlYWR5IHVwZGF0ZWRcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnVwZGF0ZSh0aGlzLmVkaXRvci52aWV3KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmJsdXJIYW5kbGVyID0gKHsgZXZlbnQgfSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZlbnRIaWRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZlbnRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKChldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnQucmVsYXRlZFRhcmdldCkgJiYgKChfYSA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRpcHB5Qmx1ckhhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ibHVySGFuZGxlcih7IGV2ZW50IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEZWJvdW5jZWRVcGRhdGUgPSAodmlldywgb2xkU3RhdGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uQ2hhbmdlZCA9ICEob2xkU3RhdGUgPT09IG51bGwgfHwgb2xkU3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9sZFN0YXRlLnNlbGVjdGlvbi5lcSh2aWV3LnN0YXRlLnNlbGVjdGlvbikpO1xyXG4gICAgICAgICAgICBjb25zdCBkb2NDaGFuZ2VkID0gIShvbGRTdGF0ZSA9PT0gbnVsbCB8fCBvbGRTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2xkU3RhdGUuZG9jLmVxKHZpZXcuc3RhdGUuZG9jKSk7XHJcbiAgICAgICAgICAgIGlmICghc2VsZWN0aW9uQ2hhbmdlZCAmJiAhZG9jQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZURlYm91bmNlVGltZXIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnVwZGF0ZURlYm91bmNlVGltZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGVib3VuY2VUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSGFuZGxlcih2aWV3LCBzZWxlY3Rpb25DaGFuZ2VkLCBkb2NDaGFuZ2VkLCBvbGRTdGF0ZSk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMudXBkYXRlRGVsYXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy51cGRhdGVIYW5kbGVyID0gKHZpZXcsIHNlbGVjdGlvbkNoYW5nZWQsIGRvY0NoYW5nZWQsIG9sZFN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xyXG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlLCBjb21wb3NpbmcgfSA9IHZpZXc7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBzdGF0ZTtcclxuICAgICAgICAgICAgY29uc3QgaXNTYW1lID0gIXNlbGVjdGlvbkNoYW5nZWQgJiYgIWRvY0NoYW5nZWQ7XHJcbiAgICAgICAgICAgIGlmIChjb21wb3NpbmcgfHwgaXNTYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENlbGxTZWxlY3Rpb25zXHJcbiAgICAgICAgICAgIGNvbnN0IHsgcmFuZ2VzIH0gPSBzZWxlY3Rpb247XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSBNYXRoLm1pbiguLi5yYW5nZXMubWFwKHJhbmdlID0+IHJhbmdlLiRmcm9tLnBvcykpO1xyXG4gICAgICAgICAgICBjb25zdCB0byA9IE1hdGgubWF4KC4uLnJhbmdlcy5tYXAocmFuZ2UgPT4gcmFuZ2UuJHRvLnBvcykpO1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTaG93ID0gKF9hID0gdGhpcy5zaG91bGRTaG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgdmlldyxcclxuICAgICAgICAgICAgICAgIHN0YXRlLFxyXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUsXHJcbiAgICAgICAgICAgICAgICBmcm9tLFxyXG4gICAgICAgICAgICAgICAgdG8sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoIXNob3VsZFNob3cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIChfYiA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXRQcm9wcyh7XHJcbiAgICAgICAgICAgICAgICBnZXRSZWZlcmVuY2VDbGllbnRSZWN0OiAoKF9jID0gdGhpcy50aXBweU9wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXRSZWZlcmVuY2VDbGllbnRSZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05vZGVTZWxlY3Rpb24oc3RhdGUuc2VsZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGUgPSB2aWV3Lm5vZGVET00oZnJvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlVmlld1dyYXBwZXIgPSBub2RlLmRhdGFzZXQubm9kZVZpZXdXcmFwcGVyID8gbm9kZSA6IG5vZGUucXVlcnlTZWxlY3RvcignW2RhdGEtbm9kZS12aWV3LXdyYXBwZXJdJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVZpZXdXcmFwcGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGVWaWV3V3JhcHBlci5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zVG9ET01SZWN0KHZpZXcsIGZyb20sIHRvKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGVsYXkgPSB1cGRhdGVEZWxheTtcclxuICAgICAgICBpZiAoc2hvdWxkU2hvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNob3VsZFNob3cgPSBzaG91bGRTaG93O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdzdGFydEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKCdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmVkaXRvci5vbignYmx1cicsIHRoaXMuYmx1ckhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMudGlwcHlPcHRpb25zID0gdGlwcHlPcHRpb25zO1xyXG4gICAgICAgIC8vIERldGFjaGVzIG1lbnUgY29udGVudCBmcm9tIGl0cyBjdXJyZW50IHBhcmVudFxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxuICAgIH1cclxuICAgIGNyZWF0ZVRvb2x0aXAoKSB7XHJcbiAgICAgICAgY29uc3QgeyBlbGVtZW50OiBlZGl0b3JFbGVtZW50IH0gPSB0aGlzLmVkaXRvci5vcHRpb25zO1xyXG4gICAgICAgIGNvbnN0IGVkaXRvcklzQXR0YWNoZWQgPSAhIWVkaXRvckVsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICBpZiAodGhpcy50aXBweSB8fCAhZWRpdG9ySXNBdHRhY2hlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGlwcHkgPSB0aXBweShlZGl0b3JFbGVtZW50LCB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxyXG4gICAgICAgICAgICBnZXRSZWZlcmVuY2VDbGllbnRSZWN0OiBudWxsLFxyXG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLmVsZW1lbnQsXHJcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnbWFudWFsJyxcclxuICAgICAgICAgICAgcGxhY2VtZW50OiAndG9wJyxcclxuICAgICAgICAgICAgaGlkZU9uQ2xpY2s6ICd0b2dnbGUnLFxyXG4gICAgICAgICAgICAuLi50aGlzLnRpcHB5T3B0aW9ucyxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBtYXliZSB3ZSBoYXZlIHRvIGhpZGUgdGlwcHkgb24gaXRzIG93biBibHVyIGV2ZW50IGFzIHdlbGxcclxuICAgICAgICBpZiAodGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpcHB5LnBvcHBlci5maXJzdENoaWxkLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLnRpcHB5Qmx1ckhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZSh2aWV3LCBvbGRTdGF0ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgc3RhdGUgfSA9IHZpZXc7XHJcbiAgICAgICAgY29uc3QgaGFzVmFsaWRTZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb24uJGZyb20ucG9zICE9PSBzdGF0ZS5zZWxlY3Rpb24uJHRvLnBvcztcclxuICAgICAgICBpZiAodGhpcy51cGRhdGVEZWxheSA+IDAgJiYgaGFzVmFsaWRTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVEZWJvdW5jZWRVcGRhdGUodmlldywgb2xkU3RhdGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbkNoYW5nZWQgPSAhKG9sZFN0YXRlID09PSBudWxsIHx8IG9sZFN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbGRTdGF0ZS5zZWxlY3Rpb24uZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24pKTtcclxuICAgICAgICBjb25zdCBkb2NDaGFuZ2VkID0gIShvbGRTdGF0ZSA9PT0gbnVsbCB8fCBvbGRTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2xkU3RhdGUuZG9jLmVxKHZpZXcuc3RhdGUuZG9jKSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVIYW5kbGVyKHZpZXcsIHNlbGVjdGlvbkNoYW5nZWQsIGRvY0NoYW5nZWQsIG9sZFN0YXRlKTtcclxuICAgIH1cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaG93KCk7XHJcbiAgICB9XHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGlmICgoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9wcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy50aXBweUJsdXJIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKF9iID0gdGhpcy50aXBweSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy52aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdzdGFydEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLm9mZignZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKCdibHVyJywgdGhpcy5ibHVySGFuZGxlcik7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgQnViYmxlTWVudVBsdWdpbiA9IChvcHRpb25zKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFBsdWdpbih7XHJcbiAgICAgICAga2V5OiB0eXBlb2Ygb3B0aW9ucy5wbHVnaW5LZXkgPT09ICdzdHJpbmcnID8gbmV3IFBsdWdpbktleShvcHRpb25zLnBsdWdpbktleSkgOiBvcHRpb25zLnBsdWdpbktleSxcclxuICAgICAgICB2aWV3OiB2aWV3ID0+IG5ldyBCdWJibGVNZW51Vmlldyh7IHZpZXcsIC4uLm9wdGlvbnMgfSksXHJcbiAgICB9KTtcclxufTtcblxuY29uc3QgQnViYmxlTWVudSA9IEV4dGVuc2lvbi5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2J1YmJsZU1lbnUnLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBudWxsLFxyXG4gICAgICAgICAgICB0aXBweU9wdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICBwbHVnaW5LZXk6ICdidWJibGVNZW51JyxcclxuICAgICAgICAgICAgdXBkYXRlRGVsYXk6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgc2hvdWxkU2hvdzogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgQnViYmxlTWVudVBsdWdpbih7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW5LZXk6IHRoaXMub3B0aW9ucy5wbHVnaW5LZXksXHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy5vcHRpb25zLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICB0aXBweU9wdGlvbnM6IHRoaXMub3B0aW9ucy50aXBweU9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVEZWxheTogdGhpcy5vcHRpb25zLnVwZGF0ZURlbGF5LFxyXG4gICAgICAgICAgICAgICAgc2hvdWxkU2hvdzogdGhpcy5vcHRpb25zLnNob3VsZFNob3csXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgQnViYmxlTWVudSwgQnViYmxlTWVudVBsdWdpbiwgQnViYmxlTWVudVZpZXcsIEJ1YmJsZU1lbnUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiaXNUZXh0U2VsZWN0aW9uIiwiaXNOb2RlU2VsZWN0aW9uIiwicG9zVG9ET01SZWN0IiwiRXh0ZW5zaW9uIiwiUGx1Z2luIiwiUGx1Z2luS2V5IiwidGlwcHkiLCJCdWJibGVNZW51VmlldyIsImNvbnN0cnVjdG9yIiwiZWRpdG9yIiwiZWxlbWVudCIsInZpZXciLCJ0aXBweU9wdGlvbnMiLCJ1cGRhdGVEZWxheSIsInNob3VsZFNob3ciLCJwcmV2ZW50SGlkZSIsInN0YXRlIiwiZnJvbSIsInRvIiwiZG9jIiwic2VsZWN0aW9uIiwiZW1wdHkiLCJpc0VtcHR5VGV4dEJsb2NrIiwidGV4dEJldHdlZW4iLCJsZW5ndGgiLCJpc0NoaWxkT2ZNZW51IiwiY29udGFpbnMiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJoYXNFZGl0b3JGb2N1cyIsImhhc0ZvY3VzIiwiaXNFZGl0YWJsZSIsIm1vdXNlZG93bkhhbmRsZXIiLCJkcmFnc3RhcnRIYW5kbGVyIiwiaGlkZSIsImZvY3VzSGFuZGxlciIsInNldFRpbWVvdXQiLCJ1cGRhdGUiLCJibHVySGFuZGxlciIsImV2ZW50IiwiX2EiLCJyZWxhdGVkVGFyZ2V0IiwicGFyZW50Tm9kZSIsInRpcHB5Qmx1ckhhbmRsZXIiLCJoYW5kbGVEZWJvdW5jZWRVcGRhdGUiLCJvbGRTdGF0ZSIsInNlbGVjdGlvbkNoYW5nZWQiLCJlcSIsImRvY0NoYW5nZWQiLCJ1cGRhdGVEZWJvdW5jZVRpbWVyIiwiY2xlYXJUaW1lb3V0Iiwid2luZG93IiwidXBkYXRlSGFuZGxlciIsIl9iIiwiX2MiLCJjb21wb3NpbmciLCJpc1NhbWUiLCJjcmVhdGVUb29sdGlwIiwicmFuZ2VzIiwiTWF0aCIsIm1pbiIsIm1hcCIsInJhbmdlIiwiJGZyb20iLCJwb3MiLCJtYXgiLCIkdG8iLCJjYWxsIiwic2V0UHJvcHMiLCJnZXRSZWZlcmVuY2VDbGllbnRSZWN0Iiwibm9kZSIsIm5vZGVET00iLCJub2RlVmlld1dyYXBwZXIiLCJkYXRhc2V0IiwicXVlcnlTZWxlY3RvciIsImZpcnN0Q2hpbGQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzaG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhcHR1cmUiLCJkb20iLCJvbiIsInJlbW92ZSIsInN0eWxlIiwidmlzaWJpbGl0eSIsImVkaXRvckVsZW1lbnQiLCJvcHRpb25zIiwiZWRpdG9ySXNBdHRhY2hlZCIsInBhcmVudEVsZW1lbnQiLCJkdXJhdGlvbiIsImNvbnRlbnQiLCJpbnRlcmFjdGl2ZSIsInRyaWdnZXIiLCJwbGFjZW1lbnQiLCJoaWRlT25DbGljayIsInBvcHBlciIsImhhc1ZhbGlkU2VsZWN0aW9uIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvZmYiLCJCdWJibGVNZW51UGx1Z2luIiwia2V5IiwicGx1Z2luS2V5IiwiQnViYmxlTWVudSIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwidW5kZWZpbmVkIiwiYWRkUHJvc2VNaXJyb3JQbHVnaW5zIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-bubble-menu/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-code/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-code/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Code: () => (/* binding */ Code),\n/* harmony export */   \"default\": () => (/* binding */ Code),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex),\n/* harmony export */   pasteRegex: () => (/* binding */ pasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst inputRegex = /(?:^|\\s)((?:`)((?:[^`]+))(?:`))$/;\nconst pasteRegex = /(?:^|\\s)((?:`)((?:[^`]+))(?:`))/g;\nconst Code = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"code\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    excludes: \"_\",\n    code: true,\n    exitable: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"code\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"code\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setCode: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleCode: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetCode: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-e\": ()=>this.editor.commands.toggleCode()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: inputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: pasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29kZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW1GO0FBRW5GLE1BQU1JLGFBQWE7QUFDbkIsTUFBTUMsYUFBYTtBQUNuQixNQUFNQyxPQUFPTiw4Q0FBSUEsQ0FBQ08sTUFBTSxDQUFDO0lBQ3JCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxnQkFBZ0IsQ0FBQztRQUNyQjtJQUNKO0lBQ0FDLFVBQVU7SUFDVkMsTUFBTTtJQUNOQyxVQUFVO0lBQ1ZDO1FBQ0ksT0FBTztZQUNIO2dCQUFFQyxLQUFLO1lBQU87U0FDakI7SUFDTDtJQUNBQyxZQUFXLEVBQUVOLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBUVQsNkRBQWVBLENBQUMsSUFBSSxDQUFDZ0IsT0FBTyxDQUFDUCxjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDcEY7SUFDQVE7UUFDSSxPQUFPO1lBQ0hDLFNBQVMsSUFBTSxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDeEIsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ2IsSUFBSTtnQkFDckM7WUFDQWMsWUFBWSxJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUMzQixPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDZixJQUFJO2dCQUN4QztZQUNBZ0IsV0FBVyxJQUFNLENBQUMsRUFBRUosUUFBUSxFQUFFO29CQUMxQixPQUFPQSxTQUFTSyxTQUFTLENBQUMsSUFBSSxDQUFDakIsSUFBSTtnQkFDdkM7UUFDSjtJQUNKO0lBQ0FrQjtRQUNJLE9BQU87WUFDSCxTQUFTLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsVUFBVTtRQUNsRDtJQUNKO0lBQ0FNO1FBQ0ksT0FBTztZQUNIMUIsMkRBQWFBLENBQUM7Z0JBQ1YyQixNQUFNekI7Z0JBQ04wQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7SUFDQUM7UUFDSSxPQUFPO1lBQ0g1QiwyREFBYUEsQ0FBQztnQkFDVjBCLE1BQU14QjtnQkFDTnlCLE1BQU0sSUFBSSxDQUFDQSxJQUFJO1lBQ25CO1NBQ0g7SUFDTDtBQUNKO0FBRXlELENBQ3pELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29kZS9kaXN0L2luZGV4LmpzPzM2NjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFyaywgbWVyZ2VBdHRyaWJ1dGVzLCBtYXJrSW5wdXRSdWxlLCBtYXJrUGFzdGVSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgaW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86YCkoKD86W15gXSspKSg/OmApKSQvO1xyXG5jb25zdCBwYXN0ZVJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpgKSgoPzpbXmBdKykpKD86YCkpL2c7XHJcbmNvbnN0IENvZGUgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnY29kZScsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7fSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGV4Y2x1ZGVzOiAnXycsXHJcbiAgICBjb2RlOiB0cnVlLFxyXG4gICAgZXhpdGFibGU6IHRydWUsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyB0YWc6ICdjb2RlJyB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWydjb2RlJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRDb2RlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b2dnbGVDb2RlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMudG9nZ2xlTWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB1bnNldENvZGU6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy51bnNldE1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtZSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZUNvZGUoKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya0lucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFBhc3RlUnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBwYXN0ZVJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IENvZGUsIENvZGUgYXMgZGVmYXVsdCwgaW5wdXRSZWdleCwgcGFzdGVSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTWFyayIsIm1lcmdlQXR0cmlidXRlcyIsIm1hcmtJbnB1dFJ1bGUiLCJtYXJrUGFzdGVSdWxlIiwiaW5wdXRSZWdleCIsInBhc3RlUmVnZXgiLCJDb2RlIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJIVE1MQXR0cmlidXRlcyIsImV4Y2x1ZGVzIiwiY29kZSIsImV4aXRhYmxlIiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRDb21tYW5kcyIsInNldENvZGUiLCJjb21tYW5kcyIsInNldE1hcmsiLCJ0b2dnbGVDb2RlIiwidG9nZ2xlTWFyayIsInVuc2V0Q29kZSIsInVuc2V0TWFyayIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZWRpdG9yIiwiYWRkSW5wdXRSdWxlcyIsImZpbmQiLCJ0eXBlIiwiYWRkUGFzdGVSdWxlcyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-code/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-collaboration-cursor/dist/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@tiptap/extension-collaboration-cursor/dist/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CollaborationCursor: () => (/* binding */ CollaborationCursor),\n/* harmony export */   \"default\": () => (/* binding */ CollaborationCursor)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var y_prosemirror__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! y-prosemirror */ \"(ssr)/./node_modules/y-prosemirror/src/plugins/cursor-plugin.js\");\n\n\nconst awarenessStatesToArray = (states)=>{\n    return Array.from(states.entries()).map(([key, value])=>{\n        return {\n            clientId: key,\n            ...value.user\n        };\n    });\n};\nconst defaultOnUpdate = ()=>null;\nconst CollaborationCursor = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Extension.create({\n    name: \"collaborationCursor\",\n    addOptions () {\n        return {\n            provider: null,\n            user: {\n                name: null,\n                color: null\n            },\n            render: (user)=>{\n                const cursor = document.createElement(\"span\");\n                cursor.classList.add(\"collaboration-cursor__caret\");\n                cursor.setAttribute(\"style\", `border-color: ${user.color}`);\n                const label = document.createElement(\"div\");\n                label.classList.add(\"collaboration-cursor__label\");\n                label.setAttribute(\"style\", `background-color: ${user.color}`);\n                label.insertBefore(document.createTextNode(user.name), null);\n                cursor.insertBefore(label, null);\n                return cursor;\n            },\n            selectionRender: y_prosemirror__WEBPACK_IMPORTED_MODULE_1__.defaultSelectionBuilder,\n            onUpdate: defaultOnUpdate\n        };\n    },\n    onCreate () {\n        if (this.options.onUpdate !== defaultOnUpdate) {\n            console.warn('[tiptap warn]: DEPRECATED: The \"onUpdate\" option is deprecated. Please use `editor.storage.collaborationCursor.users` instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor');\n        }\n    },\n    addStorage () {\n        return {\n            users: []\n        };\n    },\n    addCommands () {\n        return {\n            updateUser: (attributes)=>()=>{\n                    this.options.user = attributes;\n                    this.options.provider.awareness.setLocalStateField(\"user\", this.options.user);\n                    return true;\n                },\n            user: (attributes)=>({ editor })=>{\n                    console.warn('[tiptap warn]: DEPRECATED: The \"user\" command is deprecated. Please use \"updateUser\" instead. Read more: https://tiptap.dev/api/extensions/collaboration-cursor');\n                    return editor.commands.updateUser(attributes);\n                }\n        };\n    },\n    addProseMirrorPlugins () {\n        return [\n            (0,y_prosemirror__WEBPACK_IMPORTED_MODULE_1__.yCursorPlugin)((()=>{\n                this.options.provider.awareness.setLocalStateField(\"user\", this.options.user);\n                this.storage.users = awarenessStatesToArray(this.options.provider.awareness.states);\n                this.options.provider.awareness.on(\"update\", ()=>{\n                    this.storage.users = awarenessStatesToArray(this.options.provider.awareness.states);\n                });\n                return this.options.provider.awareness;\n            })(), // @ts-ignore\n            {\n                cursorBuilder: this.options.render,\n                selectionBuilder: this.options.selectionRender\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29sbGFib3JhdGlvbi1jdXJzb3IvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlDO0FBQzhCO0FBRXZFLE1BQU1HLHlCQUF5QixDQUFDQztJQUM1QixPQUFPQyxNQUFNQyxJQUFJLENBQUNGLE9BQU9HLE9BQU8sSUFBSUMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTTtRQUNqRCxPQUFPO1lBQ0hDLFVBQVVGO1lBQ1YsR0FBR0MsTUFBTUUsSUFBSTtRQUNqQjtJQUNKO0FBQ0o7QUFDQSxNQUFNQyxrQkFBa0IsSUFBTTtBQUM5QixNQUFNQyxzQkFBc0JkLG1EQUFTQSxDQUFDZSxNQUFNLENBQUM7SUFDekNDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLFVBQVU7WUFDVk4sTUFBTTtnQkFDRkksTUFBTTtnQkFDTkcsT0FBTztZQUNYO1lBQ0FDLFFBQVFSLENBQUFBO2dCQUNKLE1BQU1TLFNBQVNDLFNBQVNDLGFBQWEsQ0FBQztnQkFDdENGLE9BQU9HLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDO2dCQUNyQkosT0FBT0ssWUFBWSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUVkLEtBQUtPLEtBQUssQ0FBQyxDQUFDO2dCQUMxRCxNQUFNUSxRQUFRTCxTQUFTQyxhQUFhLENBQUM7Z0JBQ3JDSSxNQUFNSCxTQUFTLENBQUNDLEdBQUcsQ0FBQztnQkFDcEJFLE1BQU1ELFlBQVksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUVkLEtBQUtPLEtBQUssQ0FBQyxDQUFDO2dCQUM3RFEsTUFBTUMsWUFBWSxDQUFDTixTQUFTTyxjQUFjLENBQUNqQixLQUFLSSxJQUFJLEdBQUc7Z0JBQ3ZESyxPQUFPTyxZQUFZLENBQUNELE9BQU87Z0JBQzNCLE9BQU9OO1lBQ1g7WUFDQVMsaUJBQWlCN0Isa0VBQXVCQTtZQUN4QzhCLFVBQVVsQjtRQUNkO0lBQ0o7SUFDQW1CO1FBQ0ksSUFBSSxJQUFJLENBQUNDLE9BQU8sQ0FBQ0YsUUFBUSxLQUFLbEIsaUJBQWlCO1lBQzNDcUIsUUFBUUMsSUFBSSxDQUFDO1FBQ2pCO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0hDLE9BQU8sRUFBRTtRQUNiO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0hDLFlBQVlDLENBQUFBLGFBQWM7b0JBQ3RCLElBQUksQ0FBQ1AsT0FBTyxDQUFDckIsSUFBSSxHQUFHNEI7b0JBQ3BCLElBQUksQ0FBQ1AsT0FBTyxDQUFDZixRQUFRLENBQUN1QixTQUFTLENBQUNDLGtCQUFrQixDQUFDLFFBQVEsSUFBSSxDQUFDVCxPQUFPLENBQUNyQixJQUFJO29CQUM1RSxPQUFPO2dCQUNYO1lBQ0FBLE1BQU00QixDQUFBQSxhQUFjLENBQUMsRUFBRUcsTUFBTSxFQUFFO29CQUMzQlQsUUFBUUMsSUFBSSxDQUFDO29CQUNiLE9BQU9RLE9BQU9DLFFBQVEsQ0FBQ0wsVUFBVSxDQUFDQztnQkFDdEM7UUFDSjtJQUNKO0lBQ0FLO1FBQ0ksT0FBTztZQUNIM0MsNERBQWFBLENBQUMsQ0FBQztnQkFDWCxJQUFJLENBQUMrQixPQUFPLENBQUNmLFFBQVEsQ0FBQ3VCLFNBQVMsQ0FBQ0Msa0JBQWtCLENBQUMsUUFBUSxJQUFJLENBQUNULE9BQU8sQ0FBQ3JCLElBQUk7Z0JBQzVFLElBQUksQ0FBQ2tDLE9BQU8sQ0FBQ1QsS0FBSyxHQUFHbEMsdUJBQXVCLElBQUksQ0FBQzhCLE9BQU8sQ0FBQ2YsUUFBUSxDQUFDdUIsU0FBUyxDQUFDckMsTUFBTTtnQkFDbEYsSUFBSSxDQUFDNkIsT0FBTyxDQUFDZixRQUFRLENBQUN1QixTQUFTLENBQUNNLEVBQUUsQ0FBQyxVQUFVO29CQUN6QyxJQUFJLENBQUNELE9BQU8sQ0FBQ1QsS0FBSyxHQUFHbEMsdUJBQXVCLElBQUksQ0FBQzhCLE9BQU8sQ0FBQ2YsUUFBUSxDQUFDdUIsU0FBUyxDQUFDckMsTUFBTTtnQkFDdEY7Z0JBQ0EsT0FBTyxJQUFJLENBQUM2QixPQUFPLENBQUNmLFFBQVEsQ0FBQ3VCLFNBQVM7WUFDMUMsTUFDQSxhQUFhO1lBQ2I7Z0JBQ0lPLGVBQWUsSUFBSSxDQUFDZixPQUFPLENBQUNiLE1BQU07Z0JBQ2xDNkIsa0JBQWtCLElBQUksQ0FBQ2hCLE9BQU8sQ0FBQ0gsZUFBZTtZQUNsRDtTQUNIO0lBQ0w7QUFDSjtBQUUrRCxDQUMvRCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWNvbGxhYm9yYXRpb24tY3Vyc29yL2Rpc3QvaW5kZXguanM/MmVjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHRlbnNpb24gfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgZGVmYXVsdFNlbGVjdGlvbkJ1aWxkZXIsIHlDdXJzb3JQbHVnaW4gfSBmcm9tICd5LXByb3NlbWlycm9yJztcblxuY29uc3QgYXdhcmVuZXNzU3RhdGVzVG9BcnJheSA9IChzdGF0ZXMpID0+IHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHN0YXRlcy5lbnRyaWVzKCkpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY2xpZW50SWQ6IGtleSxcclxuICAgICAgICAgICAgLi4udmFsdWUudXNlcixcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcbn07XHJcbmNvbnN0IGRlZmF1bHRPblVwZGF0ZSA9ICgpID0+IG51bGw7XHJcbmNvbnN0IENvbGxhYm9yYXRpb25DdXJzb3IgPSBFeHRlbnNpb24uY3JlYXRlKHtcclxuICAgIG5hbWU6ICdjb2xsYWJvcmF0aW9uQ3Vyc29yJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJvdmlkZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVuZGVyOiB1c2VyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnNvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5jbGFzc0xpc3QuYWRkKCdjb2xsYWJvcmF0aW9uLWN1cnNvcl9fY2FyZXQnKTtcclxuICAgICAgICAgICAgICAgIGN1cnNvci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYGJvcmRlci1jb2xvcjogJHt1c2VyLmNvbG9yfWApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NvbGxhYm9yYXRpb24tY3Vyc29yX19sYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBiYWNrZ3JvdW5kLWNvbG9yOiAke3VzZXIuY29sb3J9YCk7XHJcbiAgICAgICAgICAgICAgICBsYWJlbC5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodXNlci5uYW1lKSwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3IuaW5zZXJ0QmVmb3JlKGxhYmVsLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJzb3I7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNlbGVjdGlvblJlbmRlcjogZGVmYXVsdFNlbGVjdGlvbkJ1aWxkZXIsXHJcbiAgICAgICAgICAgIG9uVXBkYXRlOiBkZWZhdWx0T25VcGRhdGUsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBvbkNyZWF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uVXBkYXRlICE9PSBkZWZhdWx0T25VcGRhdGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbdGlwdGFwIHdhcm5dOiBERVBSRUNBVEVEOiBUaGUgXCJvblVwZGF0ZVwiIG9wdGlvbiBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBlZGl0b3Iuc3RvcmFnZS5jb2xsYWJvcmF0aW9uQ3Vyc29yLnVzZXJzYCBpbnN0ZWFkLiBSZWFkIG1vcmU6IGh0dHBzOi8vdGlwdGFwLmRldi9hcGkvZXh0ZW5zaW9ucy9jb2xsYWJvcmF0aW9uLWN1cnNvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhZGRTdG9yYWdlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVzZXJzOiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVVzZXI6IGF0dHJpYnV0ZXMgPT4gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnVzZXIgPSBhdHRyaWJ1dGVzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnByb3ZpZGVyLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3VzZXInLCB0aGlzLm9wdGlvbnMudXNlcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdXNlcjogYXR0cmlidXRlcyA9PiAoeyBlZGl0b3IgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbdGlwdGFwIHdhcm5dOiBERVBSRUNBVEVEOiBUaGUgXCJ1c2VyXCIgY29tbWFuZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFwidXBkYXRlVXNlclwiIGluc3RlYWQuIFJlYWQgbW9yZTogaHR0cHM6Ly90aXB0YXAuZGV2L2FwaS9leHRlbnNpb25zL2NvbGxhYm9yYXRpb24tY3Vyc29yJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWRpdG9yLmNvbW1hbmRzLnVwZGF0ZVVzZXIoYXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeUN1cnNvclBsdWdpbigoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnByb3ZpZGVyLmF3YXJlbmVzcy5zZXRMb2NhbFN0YXRlRmllbGQoJ3VzZXInLCB0aGlzLm9wdGlvbnMudXNlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UudXNlcnMgPSBhd2FyZW5lc3NTdGF0ZXNUb0FycmF5KHRoaXMub3B0aW9ucy5wcm92aWRlci5hd2FyZW5lc3Muc3RhdGVzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wcm92aWRlci5hd2FyZW5lc3Mub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UudXNlcnMgPSBhd2FyZW5lc3NTdGF0ZXNUb0FycmF5KHRoaXMub3B0aW9ucy5wcm92aWRlci5hd2FyZW5lc3Muc3RhdGVzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wcm92aWRlci5hd2FyZW5lc3M7XHJcbiAgICAgICAgICAgIH0pKCksIFxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGN1cnNvckJ1aWxkZXI6IHRoaXMub3B0aW9ucy5yZW5kZXIsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25CdWlsZGVyOiB0aGlzLm9wdGlvbnMuc2VsZWN0aW9uUmVuZGVyLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IENvbGxhYm9yYXRpb25DdXJzb3IsIENvbGxhYm9yYXRpb25DdXJzb3IgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiRXh0ZW5zaW9uIiwiZGVmYXVsdFNlbGVjdGlvbkJ1aWxkZXIiLCJ5Q3Vyc29yUGx1Z2luIiwiYXdhcmVuZXNzU3RhdGVzVG9BcnJheSIsInN0YXRlcyIsIkFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJtYXAiLCJrZXkiLCJ2YWx1ZSIsImNsaWVudElkIiwidXNlciIsImRlZmF1bHRPblVwZGF0ZSIsIkNvbGxhYm9yYXRpb25DdXJzb3IiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsInByb3ZpZGVyIiwiY29sb3IiLCJyZW5kZXIiLCJjdXJzb3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJsYWJlbCIsImluc2VydEJlZm9yZSIsImNyZWF0ZVRleHROb2RlIiwic2VsZWN0aW9uUmVuZGVyIiwib25VcGRhdGUiLCJvbkNyZWF0ZSIsIm9wdGlvbnMiLCJjb25zb2xlIiwid2FybiIsImFkZFN0b3JhZ2UiLCJ1c2VycyIsImFkZENvbW1hbmRzIiwidXBkYXRlVXNlciIsImF0dHJpYnV0ZXMiLCJhd2FyZW5lc3MiLCJzZXRMb2NhbFN0YXRlRmllbGQiLCJlZGl0b3IiLCJjb21tYW5kcyIsImFkZFByb3NlTWlycm9yUGx1Z2lucyIsInN0b3JhZ2UiLCJvbiIsImN1cnNvckJ1aWxkZXIiLCJzZWxlY3Rpb25CdWlsZGVyIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-collaboration-cursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-collaboration/dist/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@tiptap/extension-collaboration/dist/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Collaboration: () => (/* binding */ Collaboration),\n/* harmony export */   \"default\": () => (/* binding */ Collaboration),\n/* harmony export */   isChangeOrigin: () => (/* binding */ isChangeOrigin)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var y_prosemirror__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! y-prosemirror */ \"(ssr)/./node_modules/y-prosemirror/src/plugins/keys.js\");\n/* harmony import */ var y_prosemirror__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! y-prosemirror */ \"(ssr)/./node_modules/y-prosemirror/src/plugins/undo-plugin.js\");\n/* harmony import */ var y_prosemirror__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! y-prosemirror */ \"(ssr)/./node_modules/y-prosemirror/src/plugins/sync-plugin.js\");\n\n\nconst Collaboration = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Extension.create({\n    name: \"collaboration\",\n    priority: 1000,\n    addOptions () {\n        return {\n            document: null,\n            field: \"default\",\n            fragment: null\n        };\n    },\n    onCreate () {\n        if (this.editor.extensionManager.extensions.find((extension)=>extension.name === \"history\")) {\n            console.warn('[tiptap warn]: \"@tiptap/extension-collaboration\" comes with its own history support and is not compatible with \"@tiptap/extension-history\".');\n        }\n    },\n    addCommands () {\n        return {\n            undo: ()=>({ tr, state, dispatch })=>{\n                    tr.setMeta(\"preventDispatch\", true);\n                    const undoManager = y_prosemirror__WEBPACK_IMPORTED_MODULE_1__.yUndoPluginKey.getState(state).undoManager;\n                    if (undoManager.undoStack.length === 0) {\n                        return false;\n                    }\n                    if (!dispatch) {\n                        return true;\n                    }\n                    return (0,y_prosemirror__WEBPACK_IMPORTED_MODULE_2__.undo)(state);\n                },\n            redo: ()=>({ tr, state, dispatch })=>{\n                    tr.setMeta(\"preventDispatch\", true);\n                    const undoManager = y_prosemirror__WEBPACK_IMPORTED_MODULE_1__.yUndoPluginKey.getState(state).undoManager;\n                    if (undoManager.redoStack.length === 0) {\n                        return false;\n                    }\n                    if (!dispatch) {\n                        return true;\n                    }\n                    return (0,y_prosemirror__WEBPACK_IMPORTED_MODULE_2__.redo)(state);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-z\": ()=>this.editor.commands.undo(),\n            \"Mod-y\": ()=>this.editor.commands.redo(),\n            \"Shift-Mod-z\": ()=>this.editor.commands.redo()\n        };\n    },\n    addProseMirrorPlugins () {\n        const fragment = this.options.fragment ? this.options.fragment : this.options.document.getXmlFragment(this.options.field);\n        // Quick fix until there is an official implementation (thanks to @hamflx).\n        // See https://github.com/yjs/y-prosemirror/issues/114 and https://github.com/yjs/y-prosemirror/issues/102\n        const yUndoPluginInstance = (0,y_prosemirror__WEBPACK_IMPORTED_MODULE_2__.yUndoPlugin)();\n        const originalUndoPluginView = yUndoPluginInstance.spec.view;\n        yUndoPluginInstance.spec.view = (view)=>{\n            const { undoManager } = y_prosemirror__WEBPACK_IMPORTED_MODULE_1__.yUndoPluginKey.getState(view.state);\n            if (undoManager.restore) {\n                undoManager.restore();\n                // eslint-disable-next-line\n                undoManager.restore = ()=>{};\n            }\n            const viewRet = originalUndoPluginView ? originalUndoPluginView(view) : undefined;\n            return {\n                destroy: ()=>{\n                    const hasUndoManSelf = undoManager.trackedOrigins.has(undoManager);\n                    // eslint-disable-next-line\n                    const observers = undoManager._observers;\n                    undoManager.restore = ()=>{\n                        if (hasUndoManSelf) {\n                            undoManager.trackedOrigins.add(undoManager);\n                        }\n                        undoManager.doc.on(\"afterTransaction\", undoManager.afterTransactionHandler);\n                        // eslint-disable-next-line\n                        undoManager._observers = observers;\n                    };\n                    if (viewRet === null || viewRet === void 0 ? void 0 : viewRet.destroy) {\n                        viewRet.destroy();\n                    }\n                }\n            };\n        };\n        const onFirstRender = this.options.onFirstRender;\n        const ySyncPluginOptions = onFirstRender ? {\n            onFirstRender\n        } : {};\n        const ySyncPluginInstance = (0,y_prosemirror__WEBPACK_IMPORTED_MODULE_3__.ySyncPlugin)(fragment, ySyncPluginOptions);\n        return [\n            ySyncPluginInstance,\n            yUndoPluginInstance\n        ];\n    }\n});\nfunction isChangeOrigin(transaction) {\n    return !!transaction.getMeta(y_prosemirror__WEBPACK_IMPORTED_MODULE_1__.ySyncPluginKey);\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tY29sbGFib3JhdGlvbi9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBeUM7QUFDNEQ7QUFFckcsTUFBTU8sZ0JBQWdCUCxtREFBU0EsQ0FBQ1EsTUFBTSxDQUFDO0lBQ25DQyxNQUFNO0lBQ05DLFVBQVU7SUFDVkM7UUFDSSxPQUFPO1lBQ0hDLFVBQVU7WUFDVkMsT0FBTztZQUNQQyxVQUFVO1FBQ2Q7SUFDSjtJQUNBQztRQUNJLElBQUksSUFBSSxDQUFDQyxNQUFNLENBQUNDLGdCQUFnQixDQUFDQyxVQUFVLENBQUNDLElBQUksQ0FBQ0MsQ0FBQUEsWUFBYUEsVUFBVVgsSUFBSSxLQUFLLFlBQVk7WUFDekZZLFFBQVFDLElBQUksQ0FBQztRQUNqQjtJQUNKO0lBQ0FDO1FBQ0ksT0FBTztZQUNIckIsTUFBTSxJQUFNLENBQUMsRUFBRXNCLEVBQUUsRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUU7b0JBQ2hDRixHQUFHRyxPQUFPLENBQUMsbUJBQW1CO29CQUM5QixNQUFNQyxjQUFjM0IseURBQWNBLENBQUM0QixRQUFRLENBQUNKLE9BQU9HLFdBQVc7b0JBQzlELElBQUlBLFlBQVlFLFNBQVMsQ0FBQ0MsTUFBTSxLQUFLLEdBQUc7d0JBQ3BDLE9BQU87b0JBQ1g7b0JBQ0EsSUFBSSxDQUFDTCxVQUFVO3dCQUNYLE9BQU87b0JBQ1g7b0JBQ0EsT0FBT3hCLG1EQUFJQSxDQUFDdUI7Z0JBQ2hCO1lBQ0F0QixNQUFNLElBQU0sQ0FBQyxFQUFFcUIsRUFBRSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRTtvQkFDaENGLEdBQUdHLE9BQU8sQ0FBQyxtQkFBbUI7b0JBQzlCLE1BQU1DLGNBQWMzQix5REFBY0EsQ0FBQzRCLFFBQVEsQ0FBQ0osT0FBT0csV0FBVztvQkFDOUQsSUFBSUEsWUFBWUksU0FBUyxDQUFDRCxNQUFNLEtBQUssR0FBRzt3QkFDcEMsT0FBTztvQkFDWDtvQkFDQSxJQUFJLENBQUNMLFVBQVU7d0JBQ1gsT0FBTztvQkFDWDtvQkFDQSxPQUFPdkIsbURBQUlBLENBQUNzQjtnQkFDaEI7UUFDSjtJQUNKO0lBQ0FRO1FBQ0ksT0FBTztZQUNILFNBQVMsSUFBTSxJQUFJLENBQUNqQixNQUFNLENBQUNrQixRQUFRLENBQUNoQyxJQUFJO1lBQ3hDLFNBQVMsSUFBTSxJQUFJLENBQUNjLE1BQU0sQ0FBQ2tCLFFBQVEsQ0FBQy9CLElBQUk7WUFDeEMsZUFBZSxJQUFNLElBQUksQ0FBQ2EsTUFBTSxDQUFDa0IsUUFBUSxDQUFDL0IsSUFBSTtRQUNsRDtJQUNKO0lBQ0FnQztRQUNJLE1BQU1yQixXQUFXLElBQUksQ0FBQ3NCLE9BQU8sQ0FBQ3RCLFFBQVEsR0FDaEMsSUFBSSxDQUFDc0IsT0FBTyxDQUFDdEIsUUFBUSxHQUNyQixJQUFJLENBQUNzQixPQUFPLENBQUN4QixRQUFRLENBQUN5QixjQUFjLENBQUMsSUFBSSxDQUFDRCxPQUFPLENBQUN2QixLQUFLO1FBQzdELDJFQUEyRTtRQUMzRSwwR0FBMEc7UUFDMUcsTUFBTXlCLHNCQUFzQmxDLDBEQUFXQTtRQUN2QyxNQUFNbUMseUJBQXlCRCxvQkFBb0JFLElBQUksQ0FBQ0MsSUFBSTtRQUM1REgsb0JBQW9CRSxJQUFJLENBQUNDLElBQUksR0FBRyxDQUFDQTtZQUM3QixNQUFNLEVBQUViLFdBQVcsRUFBRSxHQUFHM0IseURBQWNBLENBQUM0QixRQUFRLENBQUNZLEtBQUtoQixLQUFLO1lBQzFELElBQUlHLFlBQVljLE9BQU8sRUFBRTtnQkFDckJkLFlBQVljLE9BQU87Z0JBQ25CLDJCQUEyQjtnQkFDM0JkLFlBQVljLE9BQU8sR0FBRyxLQUFRO1lBQ2xDO1lBQ0EsTUFBTUMsVUFBVUoseUJBQXlCQSx1QkFBdUJFLFFBQVFHO1lBQ3hFLE9BQU87Z0JBQ0hDLFNBQVM7b0JBQ0wsTUFBTUMsaUJBQWlCbEIsWUFBWW1CLGNBQWMsQ0FBQ0MsR0FBRyxDQUFDcEI7b0JBQ3RELDJCQUEyQjtvQkFDM0IsTUFBTXFCLFlBQVlyQixZQUFZc0IsVUFBVTtvQkFDeEN0QixZQUFZYyxPQUFPLEdBQUc7d0JBQ2xCLElBQUlJLGdCQUFnQjs0QkFDaEJsQixZQUFZbUIsY0FBYyxDQUFDSSxHQUFHLENBQUN2Qjt3QkFDbkM7d0JBQ0FBLFlBQVl3QixHQUFHLENBQUNDLEVBQUUsQ0FBQyxvQkFBb0J6QixZQUFZMEIsdUJBQXVCO3dCQUMxRSwyQkFBMkI7d0JBQzNCMUIsWUFBWXNCLFVBQVUsR0FBR0Q7b0JBQzdCO29CQUNBLElBQUlOLFlBQVksUUFBUUEsWUFBWSxLQUFLLElBQUksS0FBSyxJQUFJQSxRQUFRRSxPQUFPLEVBQUU7d0JBQ25FRixRQUFRRSxPQUFPO29CQUNuQjtnQkFDSjtZQUNKO1FBQ0o7UUFDQSxNQUFNVSxnQkFBZ0IsSUFBSSxDQUFDbkIsT0FBTyxDQUFDbUIsYUFBYTtRQUNoRCxNQUFNQyxxQkFBcUJELGdCQUFnQjtZQUFFQTtRQUFjLElBQUksQ0FBQztRQUNoRSxNQUFNRSxzQkFBc0JwRCwwREFBV0EsQ0FBQ1MsVUFBVTBDO1FBQ2xELE9BQU87WUFBQ0M7WUFBcUJuQjtTQUFvQjtJQUNyRDtBQUNKO0FBRUEsU0FBU29CLGVBQWVDLFdBQVc7SUFDL0IsT0FBTyxDQUFDLENBQUNBLFlBQVlDLE9BQU8sQ0FBQ3RELHlEQUFjQTtBQUMvQztBQUVtRSxDQUNuRSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWNvbGxhYm9yYXRpb24vZGlzdC9pbmRleC5qcz9lNTQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4dGVuc2lvbiB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5pbXBvcnQgeyB5VW5kb1BsdWdpbktleSwgdW5kbywgcmVkbywgeVVuZG9QbHVnaW4sIHlTeW5jUGx1Z2luLCB5U3luY1BsdWdpbktleSB9IGZyb20gJ3ktcHJvc2VtaXJyb3InO1xuXG5jb25zdCBDb2xsYWJvcmF0aW9uID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnY29sbGFib3JhdGlvbicsXHJcbiAgICBwcmlvcml0eTogMTAwMCxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQ6IG51bGwsXHJcbiAgICAgICAgICAgIGZpZWxkOiAnZGVmYXVsdCcsXHJcbiAgICAgICAgICAgIGZyYWdtZW50OiBudWxsLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgb25DcmVhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yLmV4dGVuc2lvbk1hbmFnZXIuZXh0ZW5zaW9ucy5maW5kKGV4dGVuc2lvbiA9PiBleHRlbnNpb24ubmFtZSA9PT0gJ2hpc3RvcnknKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1t0aXB0YXAgd2Fybl06IFwiQHRpcHRhcC9leHRlbnNpb24tY29sbGFib3JhdGlvblwiIGNvbWVzIHdpdGggaXRzIG93biBoaXN0b3J5IHN1cHBvcnQgYW5kIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggXCJAdGlwdGFwL2V4dGVuc2lvbi1oaXN0b3J5XCIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVuZG86ICgpID0+ICh7IHRyLCBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHIuc2V0TWV0YSgncHJldmVudERpc3BhdGNoJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1bmRvTWFuYWdlciA9IHlVbmRvUGx1Z2luS2V5LmdldFN0YXRlKHN0YXRlKS51bmRvTWFuYWdlcjtcclxuICAgICAgICAgICAgICAgIGlmICh1bmRvTWFuYWdlci51bmRvU3RhY2subGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFkaXNwYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZG8oc3RhdGUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWRvOiAoKSA9PiAoeyB0ciwgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHRyLnNldE1ldGEoJ3ByZXZlbnREaXNwYXRjaCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdW5kb01hbmFnZXIgPSB5VW5kb1BsdWdpbktleS5nZXRTdGF0ZShzdGF0ZSkudW5kb01hbmFnZXI7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5kb01hbmFnZXIucmVkb1N0YWNrLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghZGlzcGF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZWRvKHN0YXRlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2Qteic6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnVuZG8oKSxcclxuICAgICAgICAgICAgJ01vZC15JzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMucmVkbygpLFxyXG4gICAgICAgICAgICAnU2hpZnQtTW9kLXonOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5yZWRvKCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB0aGlzLm9wdGlvbnMuZnJhZ21lbnRcclxuICAgICAgICAgICAgPyB0aGlzLm9wdGlvbnMuZnJhZ21lbnRcclxuICAgICAgICAgICAgOiB0aGlzLm9wdGlvbnMuZG9jdW1lbnQuZ2V0WG1sRnJhZ21lbnQodGhpcy5vcHRpb25zLmZpZWxkKTtcclxuICAgICAgICAvLyBRdWljayBmaXggdW50aWwgdGhlcmUgaXMgYW4gb2ZmaWNpYWwgaW1wbGVtZW50YXRpb24gKHRoYW5rcyB0byBAaGFtZmx4KS5cclxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3lqcy95LXByb3NlbWlycm9yL2lzc3Vlcy8xMTQgYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS95anMveS1wcm9zZW1pcnJvci9pc3N1ZXMvMTAyXHJcbiAgICAgICAgY29uc3QgeVVuZG9QbHVnaW5JbnN0YW5jZSA9IHlVbmRvUGx1Z2luKCk7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxVbmRvUGx1Z2luVmlldyA9IHlVbmRvUGx1Z2luSW5zdGFuY2Uuc3BlYy52aWV3O1xyXG4gICAgICAgIHlVbmRvUGx1Z2luSW5zdGFuY2Uuc3BlYy52aWV3ID0gKHZpZXcpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeyB1bmRvTWFuYWdlciB9ID0geVVuZG9QbHVnaW5LZXkuZ2V0U3RhdGUodmlldy5zdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmICh1bmRvTWFuYWdlci5yZXN0b3JlKSB7XHJcbiAgICAgICAgICAgICAgICB1bmRvTWFuYWdlci5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICAgICAgICAgIHVuZG9NYW5hZ2VyLnJlc3RvcmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgdmlld1JldCA9IG9yaWdpbmFsVW5kb1BsdWdpblZpZXcgPyBvcmlnaW5hbFVuZG9QbHVnaW5WaWV3KHZpZXcpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc1VuZG9NYW5TZWxmID0gdW5kb01hbmFnZXIudHJhY2tlZE9yaWdpbnMuaGFzKHVuZG9NYW5hZ2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSB1bmRvTWFuYWdlci5fb2JzZXJ2ZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgIHVuZG9NYW5hZ2VyLnJlc3RvcmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNVbmRvTWFuU2VsZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kb01hbmFnZXIudHJhY2tlZE9yaWdpbnMuYWRkKHVuZG9NYW5hZ2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRvTWFuYWdlci5kb2Mub24oJ2FmdGVyVHJhbnNhY3Rpb24nLCB1bmRvTWFuYWdlci5hZnRlclRyYW5zYWN0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRvTWFuYWdlci5fb2JzZXJ2ZXJzID0gb2JzZXJ2ZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXdSZXQgPT09IG51bGwgfHwgdmlld1JldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlld1JldC5kZXN0cm95KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdSZXQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBvbkZpcnN0UmVuZGVyID0gdGhpcy5vcHRpb25zLm9uRmlyc3RSZW5kZXI7XHJcbiAgICAgICAgY29uc3QgeVN5bmNQbHVnaW5PcHRpb25zID0gb25GaXJzdFJlbmRlciA/IHsgb25GaXJzdFJlbmRlciB9IDoge307XHJcbiAgICAgICAgY29uc3QgeVN5bmNQbHVnaW5JbnN0YW5jZSA9IHlTeW5jUGx1Z2luKGZyYWdtZW50LCB5U3luY1BsdWdpbk9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBbeVN5bmNQbHVnaW5JbnN0YW5jZSwgeVVuZG9QbHVnaW5JbnN0YW5jZV07XHJcbiAgICB9LFxyXG59KTtcblxuZnVuY3Rpb24gaXNDaGFuZ2VPcmlnaW4odHJhbnNhY3Rpb24pIHtcclxuICAgIHJldHVybiAhIXRyYW5zYWN0aW9uLmdldE1ldGEoeVN5bmNQbHVnaW5LZXkpO1xyXG59XG5cbmV4cG9ydCB7IENvbGxhYm9yYXRpb24sIENvbGxhYm9yYXRpb24gYXMgZGVmYXVsdCwgaXNDaGFuZ2VPcmlnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIkV4dGVuc2lvbiIsInlVbmRvUGx1Z2luS2V5IiwidW5kbyIsInJlZG8iLCJ5VW5kb1BsdWdpbiIsInlTeW5jUGx1Z2luIiwieVN5bmNQbHVnaW5LZXkiLCJDb2xsYWJvcmF0aW9uIiwiY3JlYXRlIiwibmFtZSIsInByaW9yaXR5IiwiYWRkT3B0aW9ucyIsImRvY3VtZW50IiwiZmllbGQiLCJmcmFnbWVudCIsIm9uQ3JlYXRlIiwiZWRpdG9yIiwiZXh0ZW5zaW9uTWFuYWdlciIsImV4dGVuc2lvbnMiLCJmaW5kIiwiZXh0ZW5zaW9uIiwiY29uc29sZSIsIndhcm4iLCJhZGRDb21tYW5kcyIsInRyIiwic3RhdGUiLCJkaXNwYXRjaCIsInNldE1ldGEiLCJ1bmRvTWFuYWdlciIsImdldFN0YXRlIiwidW5kb1N0YWNrIiwibGVuZ3RoIiwicmVkb1N0YWNrIiwiYWRkS2V5Ym9hcmRTaG9ydGN1dHMiLCJjb21tYW5kcyIsImFkZFByb3NlTWlycm9yUGx1Z2lucyIsIm9wdGlvbnMiLCJnZXRYbWxGcmFnbWVudCIsInlVbmRvUGx1Z2luSW5zdGFuY2UiLCJvcmlnaW5hbFVuZG9QbHVnaW5WaWV3Iiwic3BlYyIsInZpZXciLCJyZXN0b3JlIiwidmlld1JldCIsInVuZGVmaW5lZCIsImRlc3Ryb3kiLCJoYXNVbmRvTWFuU2VsZiIsInRyYWNrZWRPcmlnaW5zIiwiaGFzIiwib2JzZXJ2ZXJzIiwiX29ic2VydmVycyIsImFkZCIsImRvYyIsIm9uIiwiYWZ0ZXJUcmFuc2FjdGlvbkhhbmRsZXIiLCJvbkZpcnN0UmVuZGVyIiwieVN5bmNQbHVnaW5PcHRpb25zIiwieVN5bmNQbHVnaW5JbnN0YW5jZSIsImlzQ2hhbmdlT3JpZ2luIiwidHJhbnNhY3Rpb24iLCJnZXRNZXRhIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-collaboration/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-dropcursor/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-dropcursor/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Dropcursor: () => (/* binding */ Dropcursor),\n/* harmony export */   \"default\": () => (/* binding */ Dropcursor)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_dropcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/dropcursor */ \"(ssr)/./node_modules/@tiptap/pm/dropcursor/dist/index.js\");\n\n\nconst Dropcursor = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"dropCursor\",\n    addOptions () {\n        return {\n            color: \"currentColor\",\n            width: 1,\n            class: undefined\n        };\n    },\n    addProseMirrorPlugins () {\n        return [\n            (0,_tiptap_pm_dropcursor__WEBPACK_IMPORTED_MODULE_0__.dropCursor)(this.options)\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZHJvcGN1cnNvci9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDVTtBQUVuRCxNQUFNRSxhQUFhRixtREFBU0EsQ0FBQ0csTUFBTSxDQUFDO0lBQ2hDQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxPQUFPO1lBQ1BDLE9BQU87WUFDUEMsT0FBT0M7UUFDWDtJQUNKO0lBQ0FDO1FBQ0ksT0FBTztZQUNIVCxpRUFBVUEsQ0FBQyxJQUFJLENBQUNVLE9BQU87U0FDMUI7SUFDTDtBQUNKO0FBRTZDLENBQzdDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZHJvcGN1cnNvci9kaXN0L2luZGV4LmpzP2Y5YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXh0ZW5zaW9uIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcbmltcG9ydCB7IGRyb3BDdXJzb3IgfSBmcm9tICdAdGlwdGFwL3BtL2Ryb3BjdXJzb3InO1xuXG5jb25zdCBEcm9wY3Vyc29yID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnZHJvcEN1cnNvcicsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAnY3VycmVudENvbG9yJyxcclxuICAgICAgICAgICAgd2lkdGg6IDEsXHJcbiAgICAgICAgICAgIGNsYXNzOiB1bmRlZmluZWQsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgZHJvcEN1cnNvcih0aGlzLm9wdGlvbnMpLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgRHJvcGN1cnNvciwgRHJvcGN1cnNvciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJFeHRlbnNpb24iLCJkcm9wQ3Vyc29yIiwiRHJvcGN1cnNvciIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiY29sb3IiLCJ3aWR0aCIsImNsYXNzIiwidW5kZWZpbmVkIiwiYWRkUHJvc2VNaXJyb3JQbHVnaW5zIiwib3B0aW9ucyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-dropcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-floating-menu/dist/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@tiptap/extension-floating-menu/dist/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FloatingMenu: () => (/* binding */ FloatingMenu),\n/* harmony export */   FloatingMenuPlugin: () => (/* binding */ FloatingMenuPlugin),\n/* harmony export */   FloatingMenuView: () => (/* binding */ FloatingMenuView),\n/* harmony export */   \"default\": () => (/* binding */ FloatingMenu)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n/* harmony import */ var tippy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tippy.js */ \"(ssr)/./node_modules/tippy.js/dist/tippy.esm.js\");\n\n\n\nclass FloatingMenuView {\n    constructor({ editor, element, view, tippyOptions = {}, shouldShow }){\n        this.preventHide = false;\n        this.shouldShow = ({ view, state })=>{\n            const { selection } = state;\n            const { $anchor, empty } = selection;\n            const isRootDepth = $anchor.depth === 1;\n            const isEmptyTextBlock = $anchor.parent.isTextblock && !$anchor.parent.type.spec.code && !$anchor.parent.textContent;\n            if (!view.hasFocus() || !empty || !isRootDepth || !isEmptyTextBlock || !this.editor.isEditable) {\n                return false;\n            }\n            return true;\n        };\n        this.mousedownHandler = ()=>{\n            this.preventHide = true;\n        };\n        this.focusHandler = ()=>{\n            // we use `setTimeout` to make sure `selection` is already updated\n            setTimeout(()=>this.update(this.editor.view));\n        };\n        this.blurHandler = ({ event })=>{\n            var _a;\n            if (this.preventHide) {\n                this.preventHide = false;\n                return;\n            }\n            if ((event === null || event === void 0 ? void 0 : event.relatedTarget) && ((_a = this.element.parentNode) === null || _a === void 0 ? void 0 : _a.contains(event.relatedTarget))) {\n                return;\n            }\n            this.hide();\n        };\n        this.tippyBlurHandler = (event)=>{\n            this.blurHandler({\n                event\n            });\n        };\n        this.editor = editor;\n        this.element = element;\n        this.view = view;\n        if (shouldShow) {\n            this.shouldShow = shouldShow;\n        }\n        this.element.addEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.editor.on(\"focus\", this.focusHandler);\n        this.editor.on(\"blur\", this.blurHandler);\n        this.tippyOptions = tippyOptions;\n        // Detaches menu content from its current parent\n        this.element.remove();\n        this.element.style.visibility = \"visible\";\n    }\n    createTooltip() {\n        const { element: editorElement } = this.editor.options;\n        const editorIsAttached = !!editorElement.parentElement;\n        if (this.tippy || !editorIsAttached) {\n            return;\n        }\n        this.tippy = (0,tippy_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(editorElement, {\n            duration: 0,\n            getReferenceClientRect: null,\n            content: this.element,\n            interactive: true,\n            trigger: \"manual\",\n            placement: \"right\",\n            hideOnClick: \"toggle\",\n            ...this.tippyOptions\n        });\n        // maybe we have to hide tippy on its own blur event as well\n        if (this.tippy.popper.firstChild) {\n            this.tippy.popper.firstChild.addEventListener(\"blur\", this.tippyBlurHandler);\n        }\n    }\n    update(view, oldState) {\n        var _a, _b, _c;\n        const { state } = view;\n        const { doc, selection } = state;\n        const { from, to } = selection;\n        const isSame = oldState && oldState.doc.eq(doc) && oldState.selection.eq(selection);\n        if (isSame) {\n            return;\n        }\n        this.createTooltip();\n        const shouldShow = (_a = this.shouldShow) === null || _a === void 0 ? void 0 : _a.call(this, {\n            editor: this.editor,\n            view,\n            state,\n            oldState\n        });\n        if (!shouldShow) {\n            this.hide();\n            return;\n        }\n        (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.setProps({\n            getReferenceClientRect: ((_c = this.tippyOptions) === null || _c === void 0 ? void 0 : _c.getReferenceClientRect) || (()=>(0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.posToDOMRect)(view, from, to))\n        });\n        this.show();\n    }\n    show() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    hide() {\n        var _a;\n        (_a = this.tippy) === null || _a === void 0 ? void 0 : _a.hide();\n    }\n    destroy() {\n        var _a, _b;\n        if ((_a = this.tippy) === null || _a === void 0 ? void 0 : _a.popper.firstChild) {\n            this.tippy.popper.firstChild.removeEventListener(\"blur\", this.tippyBlurHandler);\n        }\n        (_b = this.tippy) === null || _b === void 0 ? void 0 : _b.destroy();\n        this.element.removeEventListener(\"mousedown\", this.mousedownHandler, {\n            capture: true\n        });\n        this.editor.off(\"focus\", this.focusHandler);\n        this.editor.off(\"blur\", this.blurHandler);\n    }\n}\nconst FloatingMenuPlugin = (options)=>{\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.Plugin({\n        key: typeof options.pluginKey === \"string\" ? new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey(options.pluginKey) : options.pluginKey,\n        view: (view)=>new FloatingMenuView({\n                view,\n                ...options\n            })\n    });\n};\nconst FloatingMenu = _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Extension.create({\n    name: \"floatingMenu\",\n    addOptions () {\n        return {\n            element: null,\n            tippyOptions: {},\n            pluginKey: \"floatingMenu\",\n            shouldShow: null\n        };\n    },\n    addProseMirrorPlugins () {\n        if (!this.options.element) {\n            return [];\n        }\n        return [\n            FloatingMenuPlugin({\n                pluginKey: this.options.pluginKey,\n                editor: this.editor,\n                element: this.options.element,\n                tippyOptions: this.options.tippyOptions,\n                shouldShow: this.options.shouldShow\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZmxvYXRpbmctbWVudS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUQ7QUFDRjtBQUN4QjtBQUU3QixNQUFNSztJQUNGQyxZQUFZLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxJQUFJLEVBQUVDLGVBQWUsQ0FBQyxDQUFDLEVBQUVDLFVBQVUsRUFBRyxDQUFFO1FBQ25FLElBQUksQ0FBQ0MsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0QsVUFBVSxHQUFHLENBQUMsRUFBRUYsSUFBSSxFQUFFSSxLQUFLLEVBQUU7WUFDOUIsTUFBTSxFQUFFQyxTQUFTLEVBQUUsR0FBR0Q7WUFDdEIsTUFBTSxFQUFFRSxPQUFPLEVBQUVDLEtBQUssRUFBRSxHQUFHRjtZQUMzQixNQUFNRyxjQUFjRixRQUFRRyxLQUFLLEtBQUs7WUFDdEMsTUFBTUMsbUJBQW1CSixRQUFRSyxNQUFNLENBQUNDLFdBQVcsSUFBSSxDQUFDTixRQUFRSyxNQUFNLENBQUNFLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLElBQUksQ0FBQ1QsUUFBUUssTUFBTSxDQUFDSyxXQUFXO1lBQ3BILElBQUksQ0FBQ2hCLEtBQUtpQixRQUFRLE1BQ1gsQ0FBQ1YsU0FDRCxDQUFDQyxlQUNELENBQUNFLG9CQUNELENBQUMsSUFBSSxDQUFDWixNQUFNLENBQUNvQixVQUFVLEVBQUU7Z0JBQzVCLE9BQU87WUFDWDtZQUNBLE9BQU87UUFDWDtRQUNBLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUc7WUFDcEIsSUFBSSxDQUFDaEIsV0FBVyxHQUFHO1FBQ3ZCO1FBQ0EsSUFBSSxDQUFDaUIsWUFBWSxHQUFHO1lBQ2hCLGtFQUFrRTtZQUNsRUMsV0FBVyxJQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ3hCLE1BQU0sQ0FBQ0UsSUFBSTtRQUNqRDtRQUNBLElBQUksQ0FBQ3VCLFdBQVcsR0FBRyxDQUFDLEVB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Q3FDLE9BQU8sQ0FBQ3JDLFVBQVU7WUFDdkM7U0FDSDtJQUNMO0FBQ0o7QUFFdUYsQ0FDdkYsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Utam91cm5hbC8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1mbG9hdGluZy1tZW51L2Rpc3QvaW5kZXguanM/NjVlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwb3NUb0RPTVJlY3QsIEV4dGVuc2lvbiB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5pbXBvcnQgeyBQbHVnaW4sIFBsdWdpbktleSB9IGZyb20gJ0B0aXB0YXAvcG0vc3RhdGUnO1xuaW1wb3J0IHRpcHB5IGZyb20gJ3RpcHB5LmpzJztcblxuY2xhc3MgRmxvYXRpbmdNZW51VmlldyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGVkaXRvciwgZWxlbWVudCwgdmlldywgdGlwcHlPcHRpb25zID0ge30sIHNob3VsZFNob3csIH0pIHtcclxuICAgICAgICB0aGlzLnByZXZlbnRIaWRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaG91bGRTaG93ID0gKHsgdmlldywgc3RhdGUgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgJGFuY2hvciwgZW1wdHkgfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgaXNSb290RGVwdGggPSAkYW5jaG9yLmRlcHRoID09PSAxO1xyXG4gICAgICAgICAgICBjb25zdCBpc0VtcHR5VGV4dEJsb2NrID0gJGFuY2hvci5wYXJlbnQuaXNUZXh0YmxvY2sgJiYgISRhbmNob3IucGFyZW50LnR5cGUuc3BlYy5jb2RlICYmICEkYW5jaG9yLnBhcmVudC50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgaWYgKCF2aWV3Lmhhc0ZvY3VzKClcclxuICAgICAgICAgICAgICAgIHx8ICFlbXB0eVxyXG4gICAgICAgICAgICAgICAgfHwgIWlzUm9vdERlcHRoXHJcbiAgICAgICAgICAgICAgICB8fCAhaXNFbXB0eVRleHRCbG9ja1xyXG4gICAgICAgICAgICAgICAgfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubW91c2Vkb3duSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcmV2ZW50SGlkZSA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmZvY3VzSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gd2UgdXNlIGBzZXRUaW1lb3V0YCB0byBtYWtlIHN1cmUgYHNlbGVjdGlvbmAgaXMgYWxyZWFkeSB1cGRhdGVkXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGUodGhpcy5lZGl0b3IudmlldykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5ibHVySGFuZGxlciA9ICh7IGV2ZW50IH0pID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2ZW50SGlkZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2ZW50SGlkZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoZXZlbnQgPT09IG51bGwgfHwgZXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50LnJlbGF0ZWRUYXJnZXQpICYmICgoX2EgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50aXBweUJsdXJIYW5kbGVyID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYmx1ckhhbmRsZXIoeyBldmVudCB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgICAgICBpZiAoc2hvdWxkU2hvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNob3VsZFNob3cgPSBzaG91bGRTaG93O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub24oJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKCdibHVyJywgdGhpcy5ibHVySGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy50aXBweU9wdGlvbnMgPSB0aXBweU9wdGlvbnM7XHJcbiAgICAgICAgLy8gRGV0YWNoZXMgbWVudSBjb250ZW50IGZyb20gaXRzIGN1cnJlbnQgcGFyZW50XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlVG9vbHRpcCgpIHtcclxuICAgICAgICBjb25zdCB7IGVsZW1lbnQ6IGVkaXRvckVsZW1lbnQgfSA9IHRoaXMuZWRpdG9yLm9wdGlvbnM7XHJcbiAgICAgICAgY29uc3QgZWRpdG9ySXNBdHRhY2hlZCA9ICEhZWRpdG9yRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIGlmICh0aGlzLnRpcHB5IHx8ICFlZGl0b3JJc0F0dGFjaGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aXBweSA9IHRpcHB5KGVkaXRvckVsZW1lbnQsIHtcclxuICAgICAgICAgICAgZHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgIGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6IG51bGwsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuZWxlbWVudCxcclxuICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdtYW51YWwnLFxyXG4gICAgICAgICAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXHJcbiAgICAgICAgICAgIGhpZGVPbkNsaWNrOiAndG9nZ2xlJyxcclxuICAgICAgICAgICAgLi4udGhpcy50aXBweU9wdGlvbnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gbWF5YmUgd2UgaGF2ZSB0byBoaWRlIHRpcHB5IG9uIGl0cyBvd24gYmx1ciBldmVudCBhcyB3ZWxsXHJcbiAgICAgICAgaWYgKHRoaXMudGlwcHkucG9wcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy50aXBweUJsdXJIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUodmlldywgb2xkU3RhdGUpIHtcclxuICAgICAgICB2YXIgX2EsIF9iLCBfYztcclxuICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB2aWV3O1xyXG4gICAgICAgIGNvbnN0IHsgZG9jLCBzZWxlY3Rpb24gfSA9IHN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHNlbGVjdGlvbjtcclxuICAgICAgICBjb25zdCBpc1NhbWUgPSBvbGRTdGF0ZSAmJiBvbGRTdGF0ZS5kb2MuZXEoZG9jKSAmJiBvbGRTdGF0ZS5zZWxlY3Rpb24uZXEoc2VsZWN0aW9uKTtcclxuICAgICAgICBpZiAoaXNTYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUb29sdGlwKCk7XHJcbiAgICAgICAgY29uc3Qgc2hvdWxkU2hvdyA9IChfYSA9IHRoaXMuc2hvdWxkU2hvdykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywge1xyXG4gICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICB2aWV3LFxyXG4gICAgICAgICAgICBzdGF0ZSxcclxuICAgICAgICAgICAgb2xkU3RhdGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCFzaG91bGRTaG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIChfYiA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXRQcm9wcyh7XHJcbiAgICAgICAgICAgIGdldFJlZmVyZW5jZUNsaWVudFJlY3Q6ICgoX2MgPSB0aGlzLnRpcHB5T3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdldFJlZmVyZW5jZUNsaWVudFJlY3QpIHx8ICgoKSA9PiBwb3NUb0RPTVJlY3QodmlldywgZnJvbSwgdG8pKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNob3coKTtcclxuICAgIH1cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIChfYSA9IHRoaXMudGlwcHkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zaG93KCk7XHJcbiAgICB9XHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGlmICgoX2EgPSB0aGlzLnRpcHB5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucG9wcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy50aXBweS5wb3BwZXIuZmlyc3RDaGlsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy50aXBweUJsdXJIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKF9iID0gdGhpcy50aXBweSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd25IYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub2ZmKCdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmVkaXRvci5vZmYoJ2JsdXInLCB0aGlzLmJsdXJIYW5kbGVyKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBGbG9hdGluZ01lbnVQbHVnaW4gPSAob3B0aW9ucykgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgIGtleTogdHlwZW9mIG9wdGlvbnMucGx1Z2luS2V5ID09PSAnc3RyaW5nJyA/IG5ldyBQbHVnaW5LZXkob3B0aW9ucy5wbHVnaW5LZXkpIDogb3B0aW9ucy5wbHVnaW5LZXksXHJcbiAgICAgICAgdmlldzogdmlldyA9PiBuZXcgRmxvYXRpbmdNZW51Vmlldyh7IHZpZXcsIC4uLm9wdGlvbnMgfSksXHJcbiAgICB9KTtcclxufTtcblxuY29uc3QgRmxvYXRpbmdNZW51ID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnZmxvYXRpbmdNZW51JyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZWxlbWVudDogbnVsbCxcclxuICAgICAgICAgICAgdGlwcHlPcHRpb25zOiB7fSxcclxuICAgICAgICAgICAgcGx1Z2luS2V5OiAnZmxvYXRpbmdNZW51JyxcclxuICAgICAgICAgICAgc2hvdWxkU2hvdzogbnVsbCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgRmxvYXRpbmdNZW51UGx1Z2luKHtcclxuICAgICAgICAgICAgICAgIHBsdWdpbktleTogdGhpcy5vcHRpb25zLnBsdWdpbktleSxcclxuICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5lZGl0b3IsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLm9wdGlvbnMuZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIHRpcHB5T3B0aW9uczogdGhpcy5vcHRpb25zLnRpcHB5T3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHNob3VsZFNob3c6IHRoaXMub3B0aW9ucy5zaG91bGRTaG93LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IEZsb2F0aW5nTWVudSwgRmxvYXRpbmdNZW51UGx1Z2luLCBGbG9hdGluZ01lbnVWaWV3LCBGbG9hdGluZ01lbnUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsicG9zVG9ET01SZWN0IiwiRXh0ZW5zaW9uIiwiUGx1Z2luIiwiUGx1Z2luS2V5IiwidGlwcHkiLCJGbG9hdGluZ01lbnVWaWV3IiwiY29uc3RydWN0b3IiLCJlZGl0b3IiLCJlbGVtZW50IiwidmlldyIsInRpcHB5T3B0aW9ucyIsInNob3VsZFNob3ciLCJwcmV2ZW50SGlkZSIsInN0YXRlIiwic2VsZWN0aW9uIiwiJGFuY2hvciIsImVtcHR5IiwiaXNSb290RGVwdGgiLCJkZXB0aCIsImlzRW1wdHlUZXh0QmxvY2siLCJwYXJlbnQiLCJpc1RleHRibG9jayIsInR5cGUiLCJzcGVjIiwiY29kZSIsInRleHRDb250ZW50IiwiaGFzRm9jdXMiLCJpc0VkaXRhYmxlIiwibW91c2Vkb3duSGFuZGxlciIsImZvY3VzSGFuZGxlciIsInNldFRpbWVvdXQiLCJ1cGRhdGUiLCJibHVySGFuZGxlciIsImV2ZW50IiwiX2EiLCJyZWxhdGVkVGFyZ2V0IiwicGFyZW50Tm9kZSIsImNvbnRhaW5zIiwiaGlkZSIsInRpcHB5Qmx1ckhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FwdHVyZSIsIm9uIiwicmVtb3ZlIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiY3JlYXRlVG9vbHRpcCIsImVkaXRvckVsZW1lbnQiLCJvcHRpb25zIiwiZWRpdG9ySXNBdHRhY2hlZCIsInBhcmVudEVsZW1lbnQiLCJkdXJhdGlvbiIsImdldFJlZmVyZW5jZUNsaWVudFJlY3QiLCJjb250ZW50IiwiaW50ZXJhY3RpdmUiLCJ0cmlnZ2VyIiwicGxhY2VtZW50IiwiaGlkZU9uQ2xpY2siLCJwb3BwZXIiLCJmaXJzdENoaWxkIiwib2xkU3RhdGUiLCJfYiIsIl9jIiwiZG9jIiwiZnJvbSIsInRvIiwiaXNTYW1lIiwiZXEiLCJjYWxsIiwic2V0UHJvcHMiLCJzaG93IiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvZmYiLCJGbG9hdGluZ01lbnVQbHVnaW4iLCJrZXkiLCJwbHVnaW5LZXkiLCJGbG9hdGluZ01lbnUiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsImFkZFByb3NlTWlycm9yUGx1Z2lucyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-floating-menu/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-gapcursor/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-gapcursor/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Gapcursor: () => (/* binding */ Gapcursor),\n/* harmony export */   \"default\": () => (/* binding */ Gapcursor)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_gapcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/gapcursor */ \"(ssr)/./node_modules/@tiptap/pm/gapcursor/dist/index.js\");\n\n\nconst Gapcursor = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"gapCursor\",\n    addProseMirrorPlugins () {\n        return [\n            (0,_tiptap_pm_gapcursor__WEBPACK_IMPORTED_MODULE_0__.gapCursor)()\n        ];\n    },\n    extendNodeSchema (extension) {\n        var _a;\n        const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage\n        };\n        return {\n            allowGapCursor: (_a = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.callOrReturn)((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_1__.getExtensionField)(extension, \"allowGapCursor\", context))) !== null && _a !== void 0 ? _a : null\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZ2FwY3Vyc29yL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwRTtBQUN6QjtBQUVqRCxNQUFNSSxZQUFZSixtREFBU0EsQ0FBQ0ssTUFBTSxDQUFDO0lBQy9CQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNISiwrREFBU0E7U0FDWjtJQUNMO0lBQ0FLLGtCQUFpQkMsU0FBUztRQUN0QixJQUFJQztRQUNKLE1BQU1DLFVBQVU7WUFDWkwsTUFBTUcsVUFBVUgsSUFBSTtZQUNwQk0sU0FBU0gsVUFBVUcsT0FBTztZQUMxQkMsU0FBU0osVUFBVUksT0FBTztRQUM5QjtRQUNBLE9BQU87WUFDSEMsZ0JBQWdCLENBQUNKLEtBQUtULDBEQUFZQSxDQUFDQywrREFBaUJBLENBQUNPLFdBQVcsa0JBQWtCRSxTQUFRLE1BQU8sUUFBUUQsT0FBTyxLQUFLLElBQUlBLEtBQUs7UUFDbEk7SUFDSjtBQUNKO0FBRTJDLENBQzNDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tZ2FwY3Vyc29yL2Rpc3QvaW5kZXguanM/MGRmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFeHRlbnNpb24sIGNhbGxPclJldHVybiwgZ2V0RXh0ZW5zaW9uRmllbGQgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgZ2FwQ3Vyc29yIH0gZnJvbSAnQHRpcHRhcC9wbS9nYXBjdXJzb3InO1xuXG5jb25zdCBHYXBjdXJzb3IgPSBFeHRlbnNpb24uY3JlYXRlKHtcclxuICAgIG5hbWU6ICdnYXBDdXJzb3InLFxyXG4gICAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIGdhcEN1cnNvcigpLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgZXh0ZW5kTm9kZVNjaGVtYShleHRlbnNpb24pIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHtcclxuICAgICAgICAgICAgbmFtZTogZXh0ZW5zaW9uLm5hbWUsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IGV4dGVuc2lvbi5vcHRpb25zLFxyXG4gICAgICAgICAgICBzdG9yYWdlOiBleHRlbnNpb24uc3RvcmFnZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFsbG93R2FwQ3Vyc29yOiAoX2EgPSBjYWxsT3JSZXR1cm4oZ2V0RXh0ZW5zaW9uRmllbGQoZXh0ZW5zaW9uLCAnYWxsb3dHYXBDdXJzb3InLCBjb250ZXh0KSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBHYXBjdXJzb3IsIEdhcGN1cnNvciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJFeHRlbnNpb24iLCJjYWxsT3JSZXR1cm4iLCJnZXRFeHRlbnNpb25GaWVsZCIsImdhcEN1cnNvciIsIkdhcGN1cnNvciIsImNyZWF0ZSIsIm5hbWUiLCJhZGRQcm9zZU1pcnJvclBsdWdpbnMiLCJleHRlbmROb2RlU2NoZW1hIiwiZXh0ZW5zaW9uIiwiX2EiLCJjb250ZXh0Iiwib3B0aW9ucyIsInN0b3JhZ2UiLCJhbGxvd0dhcEN1cnNvciIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-gapcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-hard-break/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-hard-break/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HardBreak: () => (/* binding */ HardBreak),\n/* harmony export */   \"default\": () => (/* binding */ HardBreak)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst HardBreak = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"hardBreak\",\n    addOptions () {\n        return {\n            keepMarks: true,\n            HTMLAttributes: {}\n        };\n    },\n    inline: true,\n    group: \"inline\",\n    selectable: false,\n    parseHTML () {\n        return [\n            {\n                tag: \"br\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"br\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes)\n        ];\n    },\n    renderText () {\n        return \"\\n\";\n    },\n    addCommands () {\n        return {\n            setHardBreak: ()=>({ commands, chain, state, editor })=>{\n                    return commands.first([\n                        ()=>commands.exitCode(),\n                        ()=>commands.command(()=>{\n                                const { selection, storedMarks } = state;\n                                if (selection.$from.parent.type.spec.isolating) {\n                                    return false;\n                                }\n                                const { keepMarks } = this.options;\n                                const { splittableMarks } = editor.extensionManager;\n                                const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n                                return chain().insertContent({\n                                    type: this.name\n                                }).command(({ tr, dispatch })=>{\n                                    if (dispatch && marks && keepMarks) {\n                                        const filteredMarks = marks.filter((mark)=>splittableMarks.includes(mark.type.name));\n                                        tr.ensureMarks(filteredMarks);\n                                    }\n                                    return true;\n                                }).run();\n                            })\n                    ]);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-Enter\": ()=>this.editor.commands.setHardBreak(),\n            \"Shift-Enter\": ()=>this.editor.commands.setHardBreak()\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGFyZC1icmVhay9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUVyRCxNQUFNRSxZQUFZRiw4Q0FBSUEsQ0FBQ0csTUFBTSxDQUFDO0lBQzFCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxXQUFXO1lBQ1hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUMsUUFBUTtJQUNSQyxPQUFPO0lBQ1BDLFlBQVk7SUFDWkM7UUFDSSxPQUFPO1lBQ0g7Z0JBQUVDLEtBQUs7WUFBSztTQUNmO0lBQ0w7SUFDQUMsWUFBVyxFQUFFTixjQUFjLEVBQUU7UUFDekIsT0FBTztZQUFDO1lBQU1OLDZEQUFlQSxDQUFDLElBQUksQ0FBQ2EsT0FBTyxDQUFDUCxjQUFjLEVBQUVBO1NBQWdCO0lBQy9FO0lBQ0FRO1FBQ0ksT0FBTztJQUNYO0lBQ0FDO1FBQ0ksT0FBTztZQUNIQyxjQUFjLElBQU0sQ0FBQyxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUc7b0JBQ3BELE9BQU9ILFNBQVNJLEtBQUssQ0FBQzt3QkFDbEIsSUFBTUosU0FBU0ssUUFBUTt3QkFDdkIsSUFBTUwsU0FBU00sT0FBTyxDQUFDO2dDQUNuQixNQUFNLEVBQUVDLFNBQVMsRUFBRUMsV0FBVyxFQUFFLEdBQUdOO2dDQUNuQyxJQUFJSyxVQUFVRSxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBRTtvQ0FDNUMsT0FBTztnQ0FDWDtnQ0FDQSxNQUFNLEVBQUV6QixTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUNRLE9BQU87Z0NBQ2xDLE1BQU0sRUFBRWtCLGVBQWUsRUFBRSxHQUFHWCxPQUFPWSxnQkFBZ0I7Z0NBQ25ELE1BQU1DLFFBQVFSLGVBQ05ELFVBQVVVLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJWCxVQUFVRSxLQUFLLENBQUNPLEtBQUs7Z0NBQzNELE9BQU9mLFFBQ0ZrQixhQUFhLENBQUM7b0NBQUVSLE1BQU0sSUFBSSxDQUFDekIsSUFBSTtnQ0FBQyxHQUNoQ29CLE9BQU8sQ0FBQyxDQUFDLEVBQUVjLEVBQUUsRUFBRUMsUUFBUSxFQUFFO29DQUMxQixJQUFJQSxZQUFZTCxTQUFTNUIsV0FBVzt3Q0FDaEMsTUFBTWtDLGdCQUFnQk4sTUFDakJPLE1BQU0sQ0FBQ0MsQ0FBQUEsT0FBUVYsZ0JBQWdCVyxRQUFRLENBQUNELEtBQUtiLElBQUksQ0FBQ3pCLElBQUk7d0NBQzNEa0MsR0FBR00sV0FBVyxDQUFDSjtvQ0FDbkI7b0NBQ0EsT0FBTztnQ0FDWCxHQUNLSyxHQUFHOzRCQUNaO3FCQUNIO2dCQUNMO1FBQ0o7SUFDSjtJQUNBQztRQUNJLE9BQU87WUFDSCxhQUFhLElBQU0sSUFBSSxDQUFDekIsTUFBTSxDQUFDSCxRQUFRLENBQUNELFlBQVk7WUFDcEQsZUFBZSxJQUFNLElBQUksQ0FBQ0ksTUFBTSxDQUFDSCxRQUFRLENBQUNELFlBQVk7UUFDMUQ7SUFDSjtBQUNKO0FBRTJDLENBQzNDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGFyZC1icmVhay9kaXN0L2luZGV4LmpzPzAxNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgSGFyZEJyZWFrID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ2hhcmRCcmVhaycsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGtlZXBNYXJrczogdHJ1ZSxcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaW5saW5lOiB0cnVlLFxyXG4gICAgZ3JvdXA6ICdpbmxpbmUnLFxyXG4gICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyB0YWc6ICdicicgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsnYnInLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyldO1xyXG4gICAgfSxcclxuICAgIHJlbmRlclRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuICdcXG4nO1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNldEhhcmRCcmVhazogKCkgPT4gKHsgY29tbWFuZHMsIGNoYWluLCBzdGF0ZSwgZWRpdG9yLCB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuZmlyc3QoW1xyXG4gICAgICAgICAgICAgICAgICAgICgpID0+IGNvbW1hbmRzLmV4aXRDb2RlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gY29tbWFuZHMuY29tbWFuZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uLCBzdG9yZWRNYXJrcyB9ID0gc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24uJGZyb20ucGFyZW50LnR5cGUuc3BlYy5pc29sYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGtlZXBNYXJrcyB9ID0gdGhpcy5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNwbGl0dGFibGVNYXJrcyB9ID0gZWRpdG9yLmV4dGVuc2lvbk1hbmFnZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtzID0gc3RvcmVkTWFya3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChzZWxlY3Rpb24uJHRvLnBhcmVudE9mZnNldCAmJiBzZWxlY3Rpb24uJGZyb20ubWFya3MoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0Q29udGVudCh7IHR5cGU6IHRoaXMubmFtZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbW1hbmQoKHsgdHIsIGRpc3BhdGNoIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXNwYXRjaCAmJiBtYXJrcyAmJiBrZWVwTWFya3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZE1hcmtzID0gbWFya3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihtYXJrID0+IHNwbGl0dGFibGVNYXJrcy5pbmNsdWRlcyhtYXJrLnR5cGUubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyLmVuc3VyZU1hcmtzKGZpbHRlcmVkTWFya3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucnVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtRW50ZXInOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5zZXRIYXJkQnJlYWsoKSxcclxuICAgICAgICAgICAgJ1NoaWZ0LUVudGVyJzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuc2V0SGFyZEJyZWFrKCksXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBIYXJkQnJlYWssIEhhcmRCcmVhayBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwibWVyZ2VBdHRyaWJ1dGVzIiwiSGFyZEJyZWFrIiwiY3JlYXRlIiwibmFtZSIsImFkZE9wdGlvbnMiLCJrZWVwTWFya3MiLCJIVE1MQXR0cmlidXRlcyIsImlubGluZSIsImdyb3VwIiwic2VsZWN0YWJsZSIsInBhcnNlSFRNTCIsInRhZyIsInJlbmRlckhUTUwiLCJvcHRpb25zIiwicmVuZGVyVGV4dCIsImFkZENvbW1hbmRzIiwic2V0SGFyZEJyZWFrIiwiY29tbWFuZHMiLCJjaGFpbiIsInN0YXRlIiwiZWRpdG9yIiwiZmlyc3QiLCJleGl0Q29kZSIsImNvbW1hbmQiLCJzZWxlY3Rpb24iLCJzdG9yZWRNYXJrcyIsIiRmcm9tIiwicGFyZW50IiwidHlwZSIsInNwZWMiLCJpc29sYXRpbmciLCJzcGxpdHRhYmxlTWFya3MiLCJleHRlbnNpb25NYW5hZ2VyIiwibWFya3MiLCIkdG8iLCJwYXJlbnRPZmZzZXQiLCJpbnNlcnRDb250ZW50IiwidHIiLCJkaXNwYXRjaCIsImZpbHRlcmVkTWFya3MiLCJmaWx0ZXIiLCJtYXJrIiwiaW5jbHVkZXMiLCJlbnN1cmVNYXJrcyIsInJ1biIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-hard-break/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-history/dist/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@tiptap/extension-history/dist/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   History: () => (/* binding */ History),\n/* harmony export */   \"default\": () => (/* binding */ History)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/pm/history */ \"(ssr)/./node_modules/@tiptap/pm/history/dist/index.js\");\n\n\nconst History = _tiptap_core__WEBPACK_IMPORTED_MODULE_1__.Extension.create({\n    name: \"history\",\n    addOptions () {\n        return {\n            depth: 100,\n            newGroupDelay: 500\n        };\n    },\n    addCommands () {\n        return {\n            undo: ()=>({ state, dispatch })=>{\n                    return (0,_tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__.undo)(state, dispatch);\n                },\n            redo: ()=>({ state, dispatch })=>{\n                    return (0,_tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__.redo)(state, dispatch);\n                }\n        };\n    },\n    addProseMirrorPlugins () {\n        return [\n            (0,_tiptap_pm_history__WEBPACK_IMPORTED_MODULE_0__.history)(this.options)\n        ];\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-z\": ()=>this.editor.commands.undo(),\n            \"Shift-Mod-z\": ()=>this.editor.commands.redo(),\n            \"Mod-y\": ()=>this.editor.commands.redo(),\n            // Russian keyboard layouts\n            \"Mod-я\": ()=>this.editor.commands.undo(),\n            \"Shift-Mod-я\": ()=>this.editor.commands.redo()\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGlzdG9yeS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUM7QUFDZ0I7QUFFekQsTUFBTUksVUFBVUosbURBQVNBLENBQUNLLE1BQU0sQ0FBQztJQUM3QkMsTUFBTTtJQUNOQztRQUNJLE9BQU87WUFDSEMsT0FBTztZQUNQQyxlQUFlO1FBQ25CO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0hULE1BQU0sSUFBTSxDQUFDLEVBQUVVLEtBQUssRUFBRUMsUUFBUSxFQUFFO29CQUM1QixPQUFPWCx3REFBSUEsQ0FBQ1UsT0FBT0M7Z0JBQ3ZCO1lBQ0FWLE1BQU0sSUFBTSxDQUFDLEVBQUVTLEtBQUssRUFBRUMsUUFBUSxFQUFFO29CQUM1QixPQUFPVix3REFBSUEsQ0FBQ1MsT0FBT0M7Z0JBQ3ZCO1FBQ0o7SUFDSjtJQUNBQztRQUNJLE9BQU87WUFDSFYsMkRBQU9BLENBQUMsSUFBSSxDQUFDVyxPQUFPO1NBQ3ZCO0lBQ0w7SUFDQUM7UUFDSSxPQUFPO1lBQ0gsU0FBUyxJQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxRQUFRLENBQUNoQixJQUFJO1lBQ3hDLGVBQWUsSUFBTSxJQUFJLENBQUNlLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDZixJQUFJO1lBQzlDLFNBQVMsSUFBTSxJQUFJLENBQUNjLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDZixJQUFJO1lBQ3hDLDJCQUEyQjtZQUMzQixTQUFTLElBQU0sSUFBSSxDQUFDYyxNQUFNLENBQUNDLFFBQVEsQ0FBQ2hCLElBQUk7WUFDeEMsZUFBZSxJQUFNLElBQUksQ0FBQ2UsTUFBTSxDQUFDQyxRQUFRLENBQUNmLElBQUk7UUFDbEQ7SUFDSjtBQUNKO0FBRXVDLENBQ3ZDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taGlzdG9yeS9kaXN0L2luZGV4LmpzPzI2ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXh0ZW5zaW9uIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcbmltcG9ydCB7IHVuZG8sIHJlZG8sIGhpc3RvcnkgfSBmcm9tICdAdGlwdGFwL3BtL2hpc3RvcnknO1xuXG5jb25zdCBIaXN0b3J5ID0gRXh0ZW5zaW9uLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnaGlzdG9yeScsXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRlcHRoOiAxMDAsXHJcbiAgICAgICAgICAgIG5ld0dyb3VwRGVsYXk6IDUwMCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZENvbW1hbmRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVuZG86ICgpID0+ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kbyhzdGF0ZSwgZGlzcGF0Y2gpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWRvOiAoKSA9PiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZG8oc3RhdGUsIGRpc3BhdGNoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBoaXN0b3J5KHRoaXMub3B0aW9ucyksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbiAgICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnTW9kLXonOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy51bmRvKCksXHJcbiAgICAgICAgICAgICdTaGlmdC1Nb2Qteic6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnJlZG8oKSxcclxuICAgICAgICAgICAgJ01vZC15JzogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMucmVkbygpLFxyXG4gICAgICAgICAgICAvLyBSdXNzaWFuIGtleWJvYXJkIGxheW91dHNcclxuICAgICAgICAgICAgJ01vZC3Rjyc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnVuZG8oKSxcclxuICAgICAgICAgICAgJ1NoaWZ0LU1vZC3Rjyc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnJlZG8oKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IEhpc3RvcnksIEhpc3RvcnkgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiRXh0ZW5zaW9uIiwidW5kbyIsInJlZG8iLCJoaXN0b3J5IiwiSGlzdG9yeSIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiZGVwdGgiLCJuZXdHcm91cERlbGF5IiwiYWRkQ29tbWFuZHMiLCJzdGF0ZSIsImRpc3BhdGNoIiwiYWRkUHJvc2VNaXJyb3JQbHVnaW5zIiwib3B0aW9ucyIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZWRpdG9yIiwiY29tbWFuZHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-history/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-italic/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@tiptap/extension-italic/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Italic: () => (/* binding */ Italic),\n/* harmony export */   \"default\": () => (/* binding */ Italic),\n/* harmony export */   starInputRegex: () => (/* binding */ starInputRegex),\n/* harmony export */   starPasteRegex: () => (/* binding */ starPasteRegex),\n/* harmony export */   underscoreInputRegex: () => (/* binding */ underscoreInputRegex),\n/* harmony export */   underscorePasteRegex: () => (/* binding */ underscorePasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst starInputRegex = /(?:^|\\s)((?:\\*)((?:[^*]+))(?:\\*))$/;\nconst starPasteRegex = /(?:^|\\s)((?:\\*)((?:[^*]+))(?:\\*))/g;\nconst underscoreInputRegex = /(?:^|\\s)((?:_)((?:[^_]+))(?:_))$/;\nconst underscorePasteRegex = /(?:^|\\s)((?:_)((?:[^_]+))(?:_))/g;\nconst Italic = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"italic\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"em\"\n            },\n            {\n                tag: \"i\",\n                getAttrs: (node)=>node.style.fontStyle !== \"normal\" && null\n            },\n            {\n                style: \"font-style=italic\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"em\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setItalic: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleItalic: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetItalic: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-i\": ()=>this.editor.commands.toggleItalic(),\n            \"Mod-I\": ()=>this.editor.commands.toggleItalic()\n        };\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: starInputRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: underscoreInputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: starPasteRegex,\n                type: this.type\n            }),\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: underscorePasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24taXRhbGljL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFtRjtBQUVuRixNQUFNSSxpQkFBaUI7QUFDdkIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMsU0FBU1IsOENBQUlBLENBQUNTLE1BQU0sQ0FBQztJQUN2QkMsTUFBTTtJQUNOQztRQUNJLE9BQU87WUFDSEMsZ0JBQWdCLENBQUM7UUFDckI7SUFDSjtJQUNBQztRQUNJLE9BQU87WUFDSDtnQkFDSUMsS0FBSztZQUNUO1lBQ0E7Z0JBQ0lBLEtBQUs7Z0JBQ0xDLFVBQVVDLENBQUFBLE9BQVFBLEtBQUtDLEtBQUssQ0FBQ0MsU0FBUyxLQUFLLFlBQVk7WUFDM0Q7WUFDQTtnQkFDSUQsT0FBTztZQUNYO1NBQ0g7SUFDTDtJQUNBRSxZQUFXLEVBQUVQLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBTVgsNkRBQWVBLENBQUMsSUFBSSxDQUFDbUIsT0FBTyxDQUFDUixjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDbEY7SUFDQVM7UUFDSSxPQUFPO1lBQ0hDLFdBQVcsSUFBTSxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDMUIsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ2QsSUFBSTtnQkFDckM7WUFDQWUsY0FBYyxJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUM3QixPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDeEM7WUFDQWlCLGFBQWEsSUFBTSxDQUFDLEVBQUVKLFFBQVEsRUFBRTtvQkFDNUIsT0FBT0EsU0FBU0ssU0FBUyxDQUFDLElBQUksQ0FBQ2xCLElBQUk7Z0JBQ3ZDO1FBQ0o7SUFDSjtJQUNBbUI7UUFDSSxPQUFPO1lBQ0gsU0FBUyxJQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDUCxRQUFRLENBQUNFLFlBQVk7WUFDaEQsU0FBUyxJQUFNLElBQUksQ0FBQ0ssTUFBTSxDQUFDUCxRQUFRLENBQUNFLFlBQVk7UUFDcEQ7SUFDSjtJQUNBTTtRQUNJLE9BQU87WUFDSDdCLDJEQUFhQSxDQUFDO2dCQUNWOEIsTUFBTTVCO2dCQUNONkIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7WUFDQS9CLDJEQUFhQSxDQUFDO2dCQUNWOEIsTUFBTTFCO2dCQUNOMkIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7U0FDSDtJQUNMO0lBQ0FDO1FBQ0ksT0FBTztZQUNIL0IsMkRBQWFBLENBQUM7Z0JBQ1Y2QixNQUFNM0I7Z0JBQ040QixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtZQUNBOUIsMkRBQWFBLENBQUM7Z0JBQ1Y2QixNQUFNekI7Z0JBQ04wQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7QUFDSjtBQUVpSCxDQUNqSCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLWl0YWxpYy9kaXN0L2luZGV4LmpzPzEzNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFyaywgbWVyZ2VBdHRyaWJ1dGVzLCBtYXJrSW5wdXRSdWxlLCBtYXJrUGFzdGVSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3Qgc3RhcklucHV0UmVnZXggPSAvKD86XnxcXHMpKCg/OlxcKikoKD86W14qXSspKSg/OlxcKikpJC87XHJcbmNvbnN0IHN0YXJQYXN0ZVJlZ2V4ID0gLyg/Ol58XFxzKSgoPzpcXCopKCg/OlteKl0rKSkoPzpcXCopKS9nO1xyXG5jb25zdCB1bmRlcnNjb3JlSW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86XykoKD86W15fXSspKSg/Ol8pKSQvO1xyXG5jb25zdCB1bmRlcnNjb3JlUGFzdGVSZWdleCA9IC8oPzpefFxccykoKD86XykoKD86W15fXSspKSg/Ol8pKS9nO1xyXG5jb25zdCBJdGFsaWMgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnaXRhbGljJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ2VtJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiAnaScsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyczogbm9kZSA9PiBub2RlLnN0eWxlLmZvbnRTdHlsZSAhPT0gJ25vcm1hbCcgJiYgbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc3R5bGU6ICdmb250LXN0eWxlPWl0YWxpYycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbiAgICByZW5kZXJIVE1MKHsgSFRNTEF0dHJpYnV0ZXMgfSkge1xyXG4gICAgICAgIHJldHVybiBbJ2VtJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRJdGFsaWM6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZUl0YWxpYzogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnRvZ2dsZU1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5zZXRJdGFsaWM6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy51bnNldE1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtaSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZUl0YWxpYygpLFxyXG4gICAgICAgICAgICAnTW9kLUknOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy50b2dnbGVJdGFsaWMoKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya0lucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBzdGFySW5wdXRSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG1hcmtJbnB1dFJ1bGUoe1xyXG4gICAgICAgICAgICAgICAgZmluZDogdW5kZXJzY29yZUlucHV0UmVnZXgsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgYWRkUGFzdGVSdWxlcygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBtYXJrUGFzdGVSdWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbmQ6IHN0YXJQYXN0ZVJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiB1bmRlcnNjb3JlUGFzdGVSZWdleCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXTtcclxuICAgIH0sXHJcbn0pO1xuXG5leHBvcnQgeyBJdGFsaWMsIEl0YWxpYyBhcyBkZWZhdWx0LCBzdGFySW5wdXRSZWdleCwgc3RhclBhc3RlUmVnZXgsIHVuZGVyc2NvcmVJbnB1dFJlZ2V4LCB1bmRlcnNjb3JlUGFzdGVSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTWFyayIsIm1lcmdlQXR0cmlidXRlcyIsIm1hcmtJbnB1dFJ1bGUiLCJtYXJrUGFzdGVSdWxlIiwic3RhcklucHV0UmVnZXgiLCJzdGFyUGFzdGVSZWdleCIsInVuZGVyc2NvcmVJbnB1dFJlZ2V4IiwidW5kZXJzY29yZVBhc3RlUmVnZXgiLCJJdGFsaWMiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsIkhUTUxBdHRyaWJ1dGVzIiwicGFyc2VIVE1MIiwidGFnIiwiZ2V0QXR0cnMiLCJub2RlIiwic3R5bGUiLCJmb250U3R5bGUiLCJyZW5kZXJIVE1MIiwib3B0aW9ucyIsImFkZENvbW1hbmRzIiwic2V0SXRhbGljIiwiY29tbWFuZHMiLCJzZXRNYXJrIiwidG9nZ2xlSXRhbGljIiwidG9nZ2xlTWFyayIsInVuc2V0SXRhbGljIiwidW5zZXRNYXJrIiwiYWRkS2V5Ym9hcmRTaG9ydGN1dHMiLCJlZGl0b3IiLCJhZGRJbnB1dFJ1bGVzIiwiZmluZCIsInR5cGUiLCJhZGRQYXN0ZVJ1bGVzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-italic/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-link/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-link/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Link: () => (/* binding */ Link),\n/* harmony export */   \"default\": () => (/* binding */ Link),\n/* harmony export */   pasteRegex: () => (/* binding */ pasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var linkifyjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! linkifyjs */ \"(ssr)/./node_modules/linkifyjs/dist/linkify.es.js\");\n/* harmony import */ var _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/pm/state */ \"(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\");\n\n\n\nfunction autolink(options) {\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.Plugin({\n        key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.PluginKey(\"autolink\"),\n        appendTransaction: (transactions, oldState, newState)=>{\n            const docChanges = transactions.some((transaction)=>transaction.docChanged) && !oldState.doc.eq(newState.doc);\n            const preventAutolink = transactions.some((transaction)=>transaction.getMeta(\"preventAutolink\"));\n            if (!docChanges || preventAutolink) {\n                return;\n            }\n            const { tr } = newState;\n            const transform = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.combineTransactionSteps)(oldState.doc, [\n                ...transactions\n            ]);\n            const changes = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getChangedRanges)(transform);\n            changes.forEach(({ newRange })=>{\n                // Now let’s see if we can add new links.\n                const nodesInChangedRanges = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findChildrenInRange)(newState.doc, newRange, (node)=>node.isTextblock);\n                let textBlock;\n                let textBeforeWhitespace;\n                if (nodesInChangedRanges.length > 1) {\n                    // Grab the first node within the changed ranges (ex. the first of two paragraphs when hitting enter).\n                    textBlock = nodesInChangedRanges[0];\n                    textBeforeWhitespace = newState.doc.textBetween(textBlock.pos, textBlock.pos + textBlock.node.nodeSize, undefined, \" \");\n                } else if (nodesInChangedRanges.length && newState.doc.textBetween(newRange.from, newRange.to, \" \", \" \").endsWith(\" \")) {\n                    textBlock = nodesInChangedRanges[0];\n                    textBeforeWhitespace = newState.doc.textBetween(textBlock.pos, newRange.to, undefined, \" \");\n                }\n                if (textBlock && textBeforeWhitespace) {\n                    const wordsBeforeWhitespace = textBeforeWhitespace.split(\" \").filter((s)=>s !== \"\");\n                    if (wordsBeforeWhitespace.length <= 0) {\n                        return false;\n                    }\n                    const lastWordBeforeSpace = wordsBeforeWhitespace[wordsBeforeWhitespace.length - 1];\n                    const lastWordAndBlockOffset = textBlock.pos + textBeforeWhitespace.lastIndexOf(lastWordBeforeSpace);\n                    if (!lastWordBeforeSpace) {\n                        return false;\n                    }\n                    (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.find)(lastWordBeforeSpace).filter((link)=>link.isLink)// Calculate link position.\n                    .map((link)=>({\n                            ...link,\n                            from: lastWordAndBlockOffset + link.start + 1,\n                            to: lastWordAndBlockOffset + link.end + 1\n                        }))// ignore link inside code mark\n                    .filter((link)=>{\n                        if (!newState.schema.marks.code) {\n                            return true;\n                        }\n                        return !newState.doc.rangeHasMark(link.from, link.to, newState.schema.marks.code);\n                    })// validate link\n                    .filter((link)=>{\n                        if (options.validate) {\n                            return options.validate(link.value);\n                        }\n                        return true;\n                    })// Add link mark.\n                    .forEach((link)=>{\n                        if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarksBetween)(link.from, link.to, newState.doc).some((item)=>item.mark.type === options.type)) {\n                            return;\n                        }\n                        tr.addMark(link.from, link.to, options.type.create({\n                            href: link.href\n                        }));\n                    });\n                }\n            });\n            if (!tr.steps.length) {\n                return;\n            }\n            return tr;\n        }\n    });\n}\nfunction clickHandler(options) {\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.Plugin({\n        key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.PluginKey(\"handleClickLink\"),\n        props: {\n            handleClick: (view, pos, event)=>{\n                var _a, _b;\n                if (event.button !== 0) {\n                    return false;\n                }\n                let a = event.target;\n                const els = [];\n                while(a.nodeName !== \"DIV\"){\n                    els.push(a);\n                    a = a.parentNode;\n                }\n                if (!els.find((value)=>value.nodeName === \"A\")) {\n                    return false;\n                }\n                const attrs = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getAttributes)(view.state, options.type.name);\n                const link = event.target;\n                const href = (_a = link === null || link === void 0 ? void 0 : link.href) !== null && _a !== void 0 ? _a : attrs.href;\n                const target = (_b = link === null || link === void 0 ? void 0 : link.target) !== null && _b !== void 0 ? _b : attrs.target;\n                if (link && href) {\n                    window.open(href, target);\n                    return true;\n                }\n                return false;\n            }\n        }\n    });\n}\nfunction pasteHandler(options) {\n    return new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.Plugin({\n        key: new _tiptap_pm_state__WEBPACK_IMPORTED_MODULE_1__.PluginKey(\"handlePasteLink\"),\n        props: {\n            handlePaste: (view, event, slice)=>{\n                const { state } = view;\n                const { selection } = state;\n                const { empty } = selection;\n                if (empty) {\n                    return false;\n                }\n                let textContent = \"\";\n                slice.content.forEach((node)=>{\n                    textContent += node.textContent;\n                });\n                const link = (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.find)(textContent).find((item)=>item.isLink && item.value === textContent);\n                if (!textContent || !link) {\n                    return false;\n                }\n                options.editor.commands.setMark(options.type, {\n                    href: link.href\n                });\n                return true;\n            }\n        }\n    });\n}\nconst pasteRegex = /https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z]{2,}\\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi;\nconst Link = _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Mark.create({\n    name: \"link\",\n    priority: 1000,\n    keepOnSplit: false,\n    onCreate () {\n        this.options.protocols.forEach((protocol)=>{\n            if (typeof protocol === \"string\") {\n                (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomProtocol)(protocol);\n                return;\n            }\n            (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.registerCustomProtocol)(protocol.scheme, protocol.optionalSlashes);\n        });\n    },\n    onDestroy () {\n        (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.reset)();\n    },\n    inclusive () {\n        return this.options.autolink;\n    },\n    addOptions () {\n        return {\n            openOnClick: true,\n            linkOnPaste: true,\n            autolink: true,\n            protocols: [],\n            HTMLAttributes: {\n                target: \"_blank\",\n                rel: \"noopener noreferrer nofollow\",\n                class: null\n            },\n            validate: undefined\n        };\n    },\n    addAttributes () {\n        return {\n            href: {\n                default: null\n            },\n            target: {\n                default: this.options.HTMLAttributes.target\n            },\n            rel: {\n                default: this.options.HTMLAttributes.rel\n            },\n            class: {\n                default: this.options.HTMLAttributes.class\n            }\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: 'a[href]:not([href *= \"javascript:\" i])'\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        var _a;\n        // False positive; we're explicitly checking for javascript: links to ignore them\n        // eslint-disable-next-line no-script-url\n        if ((_a = HTMLAttributes.href) === null || _a === void 0 ? void 0 : _a.startsWith(\"javascript:\")) {\n            // strip out the href\n            return [\n                \"a\",\n                (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeAttributes)(this.options.HTMLAttributes, {\n                    ...HTMLAttributes,\n                    href: \"\"\n                }),\n                0\n            ];\n        }\n        return [\n            \"a\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setLink: (attributes)=>({ chain })=>{\n                    return chain().setMark(this.name, attributes).setMeta(\"preventAutolink\", true).run();\n                },\n            toggleLink: (attributes)=>({ chain })=>{\n                    return chain().toggleMark(this.name, attributes, {\n                        extendEmptyMarkRange: true\n                    }).setMeta(\"preventAutolink\", true).run();\n                },\n            unsetLink: ()=>({ chain })=>{\n                    return chain().unsetMark(this.name, {\n                        extendEmptyMarkRange: true\n                    }).setMeta(\"preventAutolink\", true).run();\n                }\n        };\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_2__.markPasteRule)({\n                find: (text)=>{\n                    const foundLinks = [];\n                    if (text) {\n                        const links = (0,linkifyjs__WEBPACK_IMPORTED_MODULE_0__.find)(text).filter((item)=>item.isLink);\n                        if (links.length) {\n                            links.forEach((link)=>foundLinks.push({\n                                    text: link.value,\n                                    data: {\n                                        href: link.href\n                                    },\n                                    index: link.start\n                                }));\n                        }\n                    }\n                    return foundLinks;\n                },\n                type: this.type,\n                getAttributes: (match)=>{\n                    var _a;\n                    return {\n                        href: (_a = match.data) === null || _a === void 0 ? void 0 : _a.href\n                    };\n                }\n            })\n        ];\n    },\n    addProseMirrorPlugins () {\n        const plugins = [];\n        if (this.options.autolink) {\n            plugins.push(autolink({\n                type: this.type,\n                validate: this.options.validate\n            }));\n        }\n        if (this.options.openOnClick) {\n            plugins.push(clickHandler({\n                type: this.type\n            }));\n        }\n        if (this.options.linkOnPaste) {\n            plugins.push(pasteHandler({\n                editor: this.editor,\n                type: this.type\n            }));\n        }\n        return plugins;\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tbGluay9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvSztBQUNwRztBQUNYO0FBRXJELFNBQVNhLFNBQVNDLE9BQU87SUFDckIsT0FBTyxJQUFJSCxvREFBTUEsQ0FBQztRQUNkSSxLQUFLLElBQUlILHVEQUFTQSxDQUFDO1FBQ25CSSxtQkFBbUIsQ0FBQ0MsY0FBY0MsVUFBVUM7WUFDeEMsTUFBTUMsYUFBYUgsYUFBYUksSUFBSSxDQUFDQyxDQUFBQSxjQUFlQSxZQUFZQyxVQUFVLEtBQUssQ0FBQ0wsU0FBU00sR0FBRyxDQUFDQyxFQUFFLENBQUNOLFNBQVNLLEdBQUc7WUFDNUcsTUFBTUUsa0JBQWtCVCxhQUFhSSxJQUFJLENBQUNDLENBQUFBLGNBQWVBLFlBQVlLLE9BQU8sQ0FBQztZQUM3RSxJQUFJLENBQUNQLGNBQWNNLGlCQUFpQjtnQkFDaEM7WUFDSjtZQUNBLE1BQU0sRUFBRUUsRUFBRSxFQUFFLEdBQUdUO1lBQ2YsTUFBTVUsWUFBWTdCLHFFQUF1QkEsQ0FBQ2tCLFNBQVNNLEdBQUcsRUFBRTttQkFBSVA7YUFBYTtZQUN6RSxNQUFNYSxVQUFVN0IsOERBQWdCQSxDQUFDNEI7WUFDakNDLFFBQVFDLE9BQU8sQ0FBQyxDQUFDLEVBQUVDLFFBQVEsRUFBRTtnQkFDekIseUNBQXlDO2dCQUN6QyxNQUFNQyx1QkFBdUIvQixpRUFBbUJBLENBQUNpQixTQUFTSyxHQUFHLEVBQUVRLFVBQVVFLENBQUFBLE9BQVFBLEtBQUtDLFdBQVc7Z0JBQ2pHLElBQUlDO2dCQUNKLElBQUlDO2dCQUNKLElBQUlKLHFCQUFxQkssTUFBTSxHQUFHLEdBQUc7b0JBQ2pDLHNHQUFzRztvQkFDdEdGLFlBQVlILG9CQUFvQixDQUFDLEVBQUU7b0JBQ25DSSx1QkFBdUJsQixTQUFTSyxHQUFHLENBQUNlLFdBQVcsQ0FBQ0gsVUFBVUksR0FBRyxFQUFFSixVQUFVSSxHQUFHLEdBQUdKLFVBQVVGLElBQUksQ0FBQ08sUUFBUSxFQUFFQyxXQUFXO2dCQUN2SCxPQUNLLElBQUlULHFCQUFxQkssTUFBTSxJQUU3Qm5CLFNBQVNLLEdBQUcsQ0FBQ2UsV0FBVyxDQUFDUCxTQUFTVyxJQUFJLEVBQUVYLFNBQVNZLEVBQUUsRUFBRSxLQUFLLEtBQUtDLFFBQVEsQ0FBQyxNQUFNO29CQUNqRlQsWUFBWUgsb0JBQW9CLENBQUMsRUFBRTtvQkFDbkNJLHVCQUF1QmxCLFNBQVNLLEdBQUcsQ0FBQ2UsV0FBVyxDQUFDSCxVQUFVSSxHQUFHLEVBQUVSLFNBQVNZLEVBQUUsRUFBRUYsV0FBVztnQkFDM0Y7Z0JBQ0EsSUFBSU4sYUFBYUMsc0JBQXNCO29CQUNuQyxNQUFNUyx3QkFBd0JULHFCQUFxQlUsS0FBSyxDQUFDLEtBQUtDLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsTUFBTTtvQkFDaEYsSUFBSUgsc0JBQXNCUixNQUFNLElBQUksR0FBRzt3QkFDbkMsT0FBTztvQkFDWDtvQkFDQSxNQUFNWSxzQkFBc0JKLHFCQUFxQixDQUFDQSxzQkFBc0JSLE1BQU0sR0FBRyxFQUFFO29CQUNuRixNQUFNYSx5QkFBeUJmLFVBQVVJLEdBQUcsR0FBR0gscUJBQXFCZSxXQUFXLENBQUNGO29CQUNoRixJQUFJLENBQUNBLHFCQUFxQjt3QkFDdEIsT0FBTztvQkFDWDtvQkFDQTFDLCtDQUFJQSxDQUFDMEMscUJBQ0FGLE1BQU0sQ0FBQ0ssQ0FBQUEsT0FBUUEsS0FBS0MsTUFBTSxDQUMzQiwyQkFBMkI7cUJBQzFCQyxHQUFHLENBQUNGLENBQUFBLE9BQVM7NEJBQ2QsR0FBR0EsSUFBSTs0QkFDUFYsTUFBTVEseUJBQXlCRSxLQUFLRyxLQUFLLEdBQUc7NEJBQzVDWixJQUFJTyx5QkFBeUJFLEtBQUtJLEdBQUcsR0FBRzt3QkFDNUMsR0FDSSwrQkFBK0I7cUJBQzlCVCxNQUFNLENBQUNLLENBQUFBO3dCQUNSLElBQUksQ0FBQ2xDLFNBQVN1QyxNQUFNLENBQUNDLEtBQUssQ0FBQ0MsSUFBSSxFQUFFOzRCQUM3QixPQUFPO3dCQUNYO3dCQUNBLE9BQU8sQ0FBQ3pDLFNBQVNLLEdBQUcsQ0FBQ3FDLFlBQVksQ0FBQ1IsS0FBS1YsSUFBSSxFQUFFVSxLQUFLVCxFQUFFLEVBQUV6QixTQUFTdUMsTUFBTSxDQUFDQyxLQUFLLENBQUNDLElBQUk7b0JBQ3BGLEVBQ0ksZ0JBQWdCO3FCQUNmWixNQUFNLENBQUNLLENBQUFBO3dCQUNSLElBQUl2QyxRQUFRZ0QsUUFBUSxFQUFFOzRCQUNsQixPQUFPaEQsUUFBUWdELFFBQVEsQ0FBQ1QsS0FBS1UsS0FBSzt3QkFDdEM7d0JBQ0EsT0FBTztvQkFDWCxFQUNJLGlCQUFpQjtxQkFDaEJoQyxPQUFPLENBQUNzQixDQUFBQTt3QkFDVCxJQUFJbEQsNkRBQWVBLENBQUNrRCxLQUFLVixJQUFJLEVBQUVVLEtBQUtULEVBQUUsRUFBRXpCLFNBQVNLLEdBQUcsRUFBRUgsSUFBSSxDQUFDMkMsQ0FBQUEsT0FBUUEsS0FBS0MsSUFBSSxDQUFDQyxJQUFJLEtBQUtwRCxRQUFRb0QsSUFBSSxHQUFHOzRCQUNqRzt3QkFDSjt3QkFDQXRDLEdBQUd1QyxPQUFPLENBQUNkLEtBQUtWLElBQUksRUFBRVUsS0FBS1QsRUFBRSxFQUFFOUIsUUFBUW9ELElBQUksQ0FBQ0UsTUFBTSxDQUFDOzRCQUMvQ0MsTUFBTWhCLEtBQUtnQixJQUFJO3dCQUNuQjtvQkFDSjtnQkFDSjtZQUNKO1lBQ0EsSUFBSSxDQUFDekMsR0FBRzBDLEtBQUssQ0FBQ2hDLE1BQU0sRUFBRTtnQkFDbEI7WUFDSjtZQUNBLE9BQU9WO1FBQ1g7SUFDSjtBQUNKO0FBRUEsU0FBUzJDLGFBQWF6RCxPQUFPO0lBQ3pCLE9BQU8sSUFBSUgsb0RBQU1BLENBQUM7UUFDZEksS0FBSyxJQUFJSCx1REFBU0EsQ0FBQztRQUNuQjRELE9BQU87WUFDSEMsYUFBYSxDQUFDQyxNQUFNbEMsS0FBS21DO2dCQUNyQixJQUFJQyxJQUFJQztnQkFDUixJQUFJRixNQUFNRyxNQUFNLEtBQUssR0FBRztvQkFDcEIsT0FBTztnQkFDWDtnQkFDQSxJQUFJQyxJQUFJSixNQUFNSyxNQUFNO2dCQUNwQixNQUFNQyxNQUFNLEVBQUU7Z0JBQ2QsTUFBT0YsRUFBRUcsUUFBUSxLQUFLLE1BQU87b0JBQ3pCRCxJQUFJRSxJQUFJLENBQUNKO29CQUNUQSxJQUFJQSxFQUFFSyxVQUFVO2dCQUNwQjtnQkFDQSxJQUFJLENBQUNILElBQUl6RSxJQUFJLENBQUN1RCxDQUFBQSxRQUFTQSxNQUFNbUIsUUFBUSxLQUFLLE1BQU07b0JBQzVDLE9BQU87Z0JBQ1g7Z0JBQ0EsTUFBTUcsUUFBUWpGLDJEQUFhQSxDQUFDc0UsS0FBS1ksS0FBSyxFQUFFeEUsUUFBUW9ELElBQUksQ0FBQ3FCLElBQUk7Z0JBQ3pELE1BQU1sQyxPQUFPc0IsTUFBTUssTUFBTTtnQkFDekIsTUFBTVgsT0FBTyxDQUFDTyxLQUFLdkIsU0FBUyxRQUFRQSxTQUFTLEtBQUssSUFBSSxLQUFLLElBQUlBLEtBQUtnQixJQUFJLE1BQU0sUUFBUU8sT0FBTyxLQUFLLElBQUlBLEtBQUtTLE1BQU1oQixJQUFJO2dCQUNySCxNQUFNVyxTQUFTLENBQUNILEtBQUt4QixTQUFTLFFBQVFBLFNBQVMsS0FBSyxJQUFJLEtBQUssSUFBSUEsS0FBSzJCLE1BQU0sTUFBTSxRQUFRSCxPQUFPLEtBQUssSUFBSUEsS0FBS1EsTUFBTUwsTUFBTTtnQkFDM0gsSUFBSTNCLFFBQVFnQixNQUFNO29CQUNkbUIsT0FBT0MsSUFBSSxDQUFDcEIsTUFBTVc7b0JBQ2xCLE9BQU87Z0JBQ1g7Z0JBQ0EsT0FBTztZQUNYO1FBQ0o7SUFDSjtBQUNKO0FBRUEsU0FBU1UsYUFBYTVFLE9BQU87SUFDekIsT0FBTyxJQUFJSCxvREFBTUEsQ0FBQztRQUNkSSxLQUFLLElBQUlILHVEQUFTQSxDQUFDO1FBQ25CNEQsT0FBTztZQUNIbUIsYUFBYSxDQUFDakIsTUFBTUMsT0FBT2lCO2dCQUN2QixNQUFNLEVBQUVOLEtBQUssRUFBRSxHQUFHWjtnQkFDbEIsTUFBTSxFQUFFbUIsU0FBUyxFQUFFLEdBQUdQO2dCQUN0QixNQUFNLEVBQUVRLEtBQUssRUFBRSxHQUFHRDtnQkFDbEIsSUFBSUMsT0FBTztvQkFDUCxPQUFPO2dCQUNYO2dCQUNBLElBQUlDLGNBQWM7Z0JBQ2xCSCxNQUFNSSxPQUFPLENBQUNqRSxPQUFPLENBQUNHLENBQUFBO29CQUNsQjZELGVBQWU3RCxLQUFLNkQsV0FBVztnQkFDbkM7Z0JBQ0EsTUFBTTFDLE9BQU83QywrQ0FBSUEsQ0FBQ3VGLGFBQWF2RixJQUFJLENBQUN3RCxDQUFBQSxPQUFRQSxLQUFLVixNQUFNLElBQUlVLEtBQUtELEtBQUssS0FBS2dDO2dCQUMxRSxJQUFJLENBQUNBLGVBQWUsQ0FBQzFDLE1BQU07b0JBQ3ZCLE9BQU87Z0JBQ1g7Z0JBQ0F2QyxRQUFRbUYsTUFBTSxDQUFDQyxRQUFRLENBQUNDLE9BQU8sQ0FBQ3JGLFFBQVFvRCxJQUFJLEVBQUU7b0JBQzFDRyxNQUFNaEIsS0FBS2dCLElBQUk7Z0JBQ25CO2dCQUNBLE9BQU87WUFDWDtRQUNKO0lBQ0o7QUFDSjtBQUVBLE1BQU0rQixhQUFhO0FBQ25CLE1BQU1DLE9BQU9oRyw4Q0FBSUEsQ0FBQytELE1BQU0sQ0FBQztJQUNyQm1CLE1BQU07SUFDTmUsVUFBVTtJQUNWQyxhQUFhO0lBQ2JDO1FBQ0ksSUFBSSxDQUFDMUYsT0FBTyxDQUFDMkYsU0FBUyxDQUFDMUUsT0FBTyxDQUFDMkUsQ0FBQUE7WUFDM0IsSUFBSSxPQUFPQSxhQUFhLFVBQVU7Z0JBQzlCakcsaUVBQXNCQSxDQUFDaUc7Z0JBQ3ZCO1lBQ0o7WUFDQWpHLGlFQUFzQkEsQ0FBQ2lHLFNBQVNDLE1BQU0sRUFBRUQsU0FBU0UsZUFBZTtRQUNwRTtJQUNKO0lBQ0FDO1FBQ0luRyxnREFBS0E7SUFDVDtJQUNBb0c7UUFDSSxPQUFPLElBQUksQ0FBQ2hHLE9BQU8sQ0FBQ0QsUUFBUTtJQUNoQztJQUNBa0c7UUFDSSxPQUFPO1lBQ0hDLGFBQWE7WUFDYkMsYUFBYTtZQUNicEcsVUFBVTtZQUNWNEYsV0FBVyxFQUFFO1lBQ2JTLGdCQUFnQjtnQkFDWmxDLFFBQVE7Z0JBQ1JtQyxLQUFLO2dCQUNMQyxPQUFPO1lBQ1g7WUFDQXRELFVBQVVwQjtRQUNkO0lBQ0o7SUFDQTJFO1FBQ0ksT0FBTztZQUNIaEQsTUFBTTtnQkFDRmlELFNBQVM7WUFDYjtZQUNBdEMsUUFBUTtnQkFDSnNDLFNBQVMsSUFBSSxDQUFDeEcsT0FBTyxDQUFDb0csY0FBYyxDQUFDbEMsTUFBTTtZQUMvQztZQUNBbUMsS0FBSztnQkFDREcsU0FBUyxJQUFJLENBQUN4RyxPQUFPLENBQUNvRyxjQUFjLENBQUNDLEdBQUc7WUFDNUM7WUFDQUMsT0FBTztnQkFDSEUsU0FBUyxJQUFJLENBQUN4RyxPQUFPLENBQUNvRyxjQUFjLENBQUNFLEtBQUs7WUFDOUM7UUFDSjtJQUNKO0lBQ0FHO1FBQ0ksT0FBTztZQUFDO2dCQUFFQyxLQUFLO1lBQXlDO1NBQUU7SUFDOUQ7SUFDQUMsWUFBVyxFQUFFUCxjQUFjLEVBQUU7UUFDekIsSUFBSXRDO1FBQ0osaUZBQWlGO1FBQ2pGLHlDQUF5QztRQUN6QyxJQUFJLENBQUNBLEtBQUtzQyxlQUFlN0MsSUFBSSxNQUFNLFFBQVFPLE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBRzhDLFVBQVUsQ0FBQyxnQkFBZ0I7WUFDOUYscUJBQXFCO1lBQ3JCLE9BQU87Z0JBQUM7Z0JBQUtwSCw2REFBZUEsQ0FBQyxJQUFJLENBQUNRLE9BQU8sQ0FBQ29HLGNBQWMsRUFBRTtvQkFBRSxHQUFHQSxjQUFjO29CQUFFN0MsTUFBTTtnQkFBRztnQkFBSTthQUFFO1FBQ2xHO1FBQ0EsT0FBTztZQUFDO1lBQUsvRCw2REFBZUEsQ0FBQyxJQUFJLENBQUNRLE9BQU8sQ0FBQ29HLGNBQWMsRUFBRUE7WUFBaUI7U0FBRTtJQUNqRjtJQUNBUztRQUNJLE9BQU87WUFDSEMsU0FBU0MsQ0FBQUEsYUFBYyxDQUFDLEVBQUVDLEtBQUssRUFBRTtvQkFDN0IsT0FBT0EsUUFBUTNCLE9BQU8sQ0FBQyxJQUFJLENBQUNaLElBQUksRUFBRXNDLFlBQVlFLE9BQU8sQ0FBQyxtQkFBbUIsTUFBTUMsR0FBRztnQkFDdEY7WUFDQUMsWUFBWUosQ0FBQUEsYUFBYyxDQUFDLEVBQUVDLEtBQUssRUFBRTtvQkFDaEMsT0FBT0EsUUFDRkksVUFBVSxDQUFDLElBQUksQ0FBQzNDLElBQUksRUFBRXNDLFlBQVk7d0JBQUVNLHNCQUFzQjtvQkFBSyxHQUMvREosT0FBTyxDQUFDLG1CQUFtQixNQUMzQkMsR0FBRztnQkFDWjtZQUNBSSxXQUFXLElBQU0sQ0FBQyxFQUFFTixLQUFLLEVBQUU7b0JBQ3ZCLE9BQU9BLFFBQ0ZPLFNBQVMsQ0FBQyxJQUFJLENBQUM5QyxJQUFJLEVBQUU7d0JBQUU0QyxzQkFBc0I7b0JBQUssR0FDbERKLE9BQU8sQ0FBQyxtQkFBbUIsTUFDM0JDLEdBQUc7Z0JBQ1o7UUFDSjtJQUNKO0lBQ0FNO1FBQ0ksT0FBTztZQUNIL0gsMkRBQWFBLENBQUM7Z0JBQ1ZDLE1BQU0rSCxDQUFBQTtvQkFDRixNQUFNQyxhQUFhLEVBQUU7b0JBQ3JCLElBQUlELE1BQU07d0JBQ04sTUFBTUUsUUFBUWpJLCtDQUFJQSxDQUFDK0gsTUFBTXZGLE1BQU0sQ0FBQ2dCLENBQUFBLE9BQVFBLEtBQUtWLE1BQU07d0JBQ25ELElBQUltRixNQUFNbkcsTUFBTSxFQUFFOzRCQUNkbUcsTUFBTTFHLE9BQU8sQ0FBQ3NCLENBQUFBLE9BQVNtRixXQUFXckQsSUFBSSxDQUFDO29DQUNuQ29ELE1BQU1sRixLQUFLVSxLQUFLO29DQUNoQjJFLE1BQU07d0NBQ0ZyRSxNQUFNaEIsS0FBS2dCLElBQUk7b0NBQ25CO29DQUNBc0UsT0FBT3RGLEtBQUtHLEtBQUs7Z0NBQ3JCO3dCQUNKO29CQUNKO29CQUNBLE9BQU9nRjtnQkFDWDtnQkFDQXRFLE1BQU0sSUFBSSxDQUFDQSxJQUFJO2dCQUNmOUQsZUFBZXdJLENBQUFBO29CQUNYLElBQUloRTtvQkFDSixPQUFPO3dCQUNIUCxNQUFNLENBQUNPLEtBQUtnRSxNQUFNRixJQUFJLE1BQU0sUUFBUTlELE9BQU8sS0FBSyxJQUFJLEtBQUssSUFBSUEsR0FBR1AsSUFBSTtvQkFDeEU7Z0JBQ0o7WUFDSjtTQUNIO0lBQ0w7SUFDQXdFO1FBQ0ksTUFBTUMsVUFBVSxFQUFFO1FBQ2xCLElBQUksSUFBSSxDQUFDaEksT0FBTyxDQUFDRCxRQUFRLEVBQUU7WUFDdkJpSSxRQUFRM0QsSUFBSSxDQUFDdEUsU0FBUztnQkFDbEJxRCxNQUFNLElBQUksQ0FBQ0EsSUFBSTtnQkFDZkosVUFBVSxJQUFJLENBQUNoRCxPQUFPLENBQUNnRCxRQUFRO1lBQ25DO1FBQ0o7UUFDQSxJQUFJLElBQUksQ0FBQ2hELE9BQU8sQ0FBQ2tHLFdBQVcsRUFBRTtZQUMxQjhCLFFBQVEzRCxJQUFJLENBQUNaLGFBQWE7Z0JBQ3RCTCxNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtRQUNKO1FBQ0EsSUFBSSxJQUFJLENBQUNwRCxPQUFPLENBQUNtRyxXQUFXLEVBQUU7WUFDMUI2QixRQUFRM0QsSUFBSSxDQUFDTyxhQUFhO2dCQUN0Qk8sUUFBUSxJQUFJLENBQUNBLE1BQU07Z0JBQ25CL0IsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7UUFDSjtRQUNBLE9BQU80RTtJQUNYO0FBQ0o7QUFFNkMsQ0FDN0MsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Utam91cm5hbC8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi1saW5rL2Rpc3QvaW5kZXguanM/MDUwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21iaW5lVHJhbnNhY3Rpb25TdGVwcywgZ2V0Q2hhbmdlZFJhbmdlcywgZmluZENoaWxkcmVuSW5SYW5nZSwgZ2V0TWFya3NCZXR3ZWVuLCBnZXRBdHRyaWJ1dGVzLCBNYXJrLCBtZXJnZUF0dHJpYnV0ZXMsIG1hcmtQYXN0ZVJ1bGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuaW1wb3J0IHsgZmluZCwgcmVnaXN0ZXJDdXN0b21Qcm90b2NvbCwgcmVzZXQgfSBmcm9tICdsaW5raWZ5anMnO1xuaW1wb3J0IHsgUGx1Z2luLCBQbHVnaW5LZXkgfSBmcm9tICdAdGlwdGFwL3BtL3N0YXRlJztcblxuZnVuY3Rpb24gYXV0b2xpbmsob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBQbHVnaW4oe1xyXG4gICAgICAgIGtleTogbmV3IFBsdWdpbktleSgnYXV0b2xpbmsnKSxcclxuICAgICAgICBhcHBlbmRUcmFuc2FjdGlvbjogKHRyYW5zYWN0aW9ucywgb2xkU3RhdGUsIG5ld1N0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvY0NoYW5nZXMgPSB0cmFuc2FjdGlvbnMuc29tZSh0cmFuc2FjdGlvbiA9PiB0cmFuc2FjdGlvbi5kb2NDaGFuZ2VkKSAmJiAhb2xkU3RhdGUuZG9jLmVxKG5ld1N0YXRlLmRvYyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZlbnRBdXRvbGluayA9IHRyYW5zYWN0aW9ucy5zb21lKHRyYW5zYWN0aW9uID0+IHRyYW5zYWN0aW9uLmdldE1ldGEoJ3ByZXZlbnRBdXRvbGluaycpKTtcclxuICAgICAgICAgICAgaWYgKCFkb2NDaGFuZ2VzIHx8IHByZXZlbnRBdXRvbGluaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdHIgfSA9IG5ld1N0YXRlO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21iaW5lVHJhbnNhY3Rpb25TdGVwcyhvbGRTdGF0ZS5kb2MsIFsuLi50cmFuc2FjdGlvbnNdKTtcclxuICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IGdldENoYW5nZWRSYW5nZXModHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgY2hhbmdlcy5mb3JFYWNoKCh7IG5ld1JhbmdlIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIE5vdyBsZXTigJlzIHNlZSBpZiB3ZSBjYW4gYWRkIG5ldyBsaW5rcy5cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzSW5DaGFuZ2VkUmFuZ2VzID0gZmluZENoaWxkcmVuSW5SYW5nZShuZXdTdGF0ZS5kb2MsIG5ld1JhbmdlLCBub2RlID0+IG5vZGUuaXNUZXh0YmxvY2spO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHRCbG9jaztcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0QmVmb3JlV2hpdGVzcGFjZTtcclxuICAgICAgICAgICAgICAgIGlmIChub2Rlc0luQ2hhbmdlZFJhbmdlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgZmlyc3Qgbm9kZSB3aXRoaW4gdGhlIGNoYW5nZWQgcmFuZ2VzIChleC4gdGhlIGZpcnN0IG9mIHR3byBwYXJhZ3JhcGhzIHdoZW4gaGl0dGluZyBlbnRlcikuXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEJsb2NrID0gbm9kZXNJbkNoYW5nZWRSYW5nZXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEJlZm9yZVdoaXRlc3BhY2UgPSBuZXdTdGF0ZS5kb2MudGV4dEJldHdlZW4odGV4dEJsb2NrLnBvcywgdGV4dEJsb2NrLnBvcyArIHRleHRCbG9jay5ub2RlLm5vZGVTaXplLCB1bmRlZmluZWQsICcgJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2Rlc0luQ2hhbmdlZFJhbmdlcy5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSB0byBpbmNsdWRlIHRoZSBibG9jayBzZXBlcmF0b3IgYXJndW1lbnQgdG8gdHJlYXQgaGFyZCBicmVha3MgbGlrZSBzcGFjZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgbmV3U3RhdGUuZG9jLnRleHRCZXR3ZWVuKG5ld1JhbmdlLmZyb20sIG5ld1JhbmdlLnRvLCAnICcsICcgJykuZW5kc1dpdGgoJyAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCbG9jayA9IG5vZGVzSW5DaGFuZ2VkUmFuZ2VzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCZWZvcmVXaGl0ZXNwYWNlID0gbmV3U3RhdGUuZG9jLnRleHRCZXR3ZWVuKHRleHRCbG9jay5wb3MsIG5ld1JhbmdlLnRvLCB1bmRlZmluZWQsICcgJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dEJsb2NrICYmIHRleHRCZWZvcmVXaGl0ZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHNCZWZvcmVXaGl0ZXNwYWNlID0gdGV4dEJlZm9yZVdoaXRlc3BhY2Uuc3BsaXQoJyAnKS5maWx0ZXIocyA9PiBzICE9PSAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmRzQmVmb3JlV2hpdGVzcGFjZS5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RXb3JkQmVmb3JlU3BhY2UgPSB3b3Jkc0JlZm9yZVdoaXRlc3BhY2Vbd29yZHNCZWZvcmVXaGl0ZXNwYWNlLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RXb3JkQW5kQmxvY2tPZmZzZXQgPSB0ZXh0QmxvY2sucG9zICsgdGV4dEJlZm9yZVdoaXRlc3BhY2UubGFzdEluZGV4T2YobGFzdFdvcmRCZWZvcmVTcGFjZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXN0V29yZEJlZm9yZVNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmluZChsYXN0V29yZEJlZm9yZVNwYWNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4gbGluay5pc0xpbmspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBsaW5rIHBvc2l0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGxpbmsgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGluayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogbGFzdFdvcmRBbmRCbG9ja09mZnNldCArIGxpbmsuc3RhcnQgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogbGFzdFdvcmRBbmRCbG9ja09mZnNldCArIGxpbmsuZW5kICsgMSxcclxuICAgICAgICAgICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGxpbmsgaW5zaWRlIGNvZGUgbWFya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1N0YXRlLnNjaGVtYS5tYXJrcy5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW5ld1N0YXRlLmRvYy5yYW5nZUhhc01hcmsobGluay5mcm9tLCBsaW5rLnRvLCBuZXdTdGF0ZS5zY2hlbWEubWFya3MuY29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFsaWRhdGUgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy52YWxpZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudmFsaWRhdGUobGluay52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGxpbmsgbWFyay5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXJrc0JldHdlZW4obGluay5mcm9tLCBsaW5rLnRvLCBuZXdTdGF0ZS5kb2MpLnNvbWUoaXRlbSA9PiBpdGVtLm1hcmsudHlwZSA9PT0gb3B0aW9ucy50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFkZE1hcmsobGluay5mcm9tLCBsaW5rLnRvLCBvcHRpb25zLnR5cGUuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGxpbmsuaHJlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCF0ci5zdGVwcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHI7XHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIGNsaWNrSGFuZGxlcihvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IFBsdWdpbih7XHJcbiAgICAgICAga2V5OiBuZXcgUGx1Z2luS2V5KCdoYW5kbGVDbGlja0xpbmsnKSxcclxuICAgICAgICBwcm9wczoge1xyXG4gICAgICAgICAgICBoYW5kbGVDbGljazogKHZpZXcsIHBvcywgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGEgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChhLm5vZGVOYW1lICE9PSAnRElWJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVscy5wdXNoKGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGEgPSBhLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVscy5maW5kKHZhbHVlID0+IHZhbHVlLm5vZGVOYW1lID09PSAnQScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBnZXRBdHRyaWJ1dGVzKHZpZXcuc3RhdGUsIG9wdGlvbnMudHlwZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBocmVmID0gKF9hID0gbGluayA9PT0gbnVsbCB8fCBsaW5rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaW5rLmhyZWYpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGF0dHJzLmhyZWY7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAoX2IgPSBsaW5rID09PSBudWxsIHx8IGxpbmsgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpbmsudGFyZ2V0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBhdHRycy50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobGluayAmJiBocmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cblxuZnVuY3Rpb24gcGFzdGVIYW5kbGVyKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBuZXcgUGx1Z2luKHtcclxuICAgICAgICBrZXk6IG5ldyBQbHVnaW5LZXkoJ2hhbmRsZVBhc3RlTGluaycpLFxyXG4gICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgIGhhbmRsZVBhc3RlOiAodmlldywgZXZlbnQsIHNsaWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSB2aWV3O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHN0YXRlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbXB0eSB9ID0gc2VsZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICBzbGljZS5jb250ZW50LmZvckVhY2gobm9kZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbnRlbnQgKz0gbm9kZS50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGZpbmQodGV4dENvbnRlbnQpLmZpbmQoaXRlbSA9PiBpdGVtLmlzTGluayAmJiBpdGVtLnZhbHVlID09PSB0ZXh0Q29udGVudCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRleHRDb250ZW50IHx8ICFsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5lZGl0b3IuY29tbWFuZHMuc2V0TWFyayhvcHRpb25zLnR5cGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBocmVmOiBsaW5rLmhyZWYsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxuXG5jb25zdCBwYXN0ZVJlZ2V4ID0gL2h0dHBzPzpcXC9cXC8oPzp3d3dcXC4pP1stYS16QS1aMC05QDolLl8rfiM9XXsxLDI1Nn1cXC5bYS16QS1aXXsyLH1cXGIoPzpbLWEtekEtWjAtOUA6JS5fK34jPT8hJi9dKikoPzpbLWEtekEtWjAtOUA6JS5fK34jPT8hJi9dKikvZ2k7XHJcbmNvbnN0IExpbmsgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnbGluaycsXHJcbiAgICBwcmlvcml0eTogMTAwMCxcclxuICAgIGtlZXBPblNwbGl0OiBmYWxzZSxcclxuICAgIG9uQ3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5wcm90b2NvbHMuZm9yRWFjaChwcm90b2NvbCA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvdG9jb2wgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICByZWdpc3RlckN1c3RvbVByb3RvY29sKHByb3RvY29sKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZWdpc3RlckN1c3RvbVByb3RvY29sKHByb3RvY29sLnNjaGVtZSwgcHJvdG9jb2wub3B0aW9uYWxTbGFzaGVzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBvbkRlc3Ryb3koKSB7XHJcbiAgICAgICAgcmVzZXQoKTtcclxuICAgIH0sXHJcbiAgICBpbmNsdXNpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hdXRvbGluaztcclxuICAgIH0sXHJcbiAgICBhZGRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG9wZW5PbkNsaWNrOiB0cnVlLFxyXG4gICAgICAgICAgICBsaW5rT25QYXN0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b2xpbms6IHRydWUsXHJcbiAgICAgICAgICAgIHByb3RvY29sczogW10sXHJcbiAgICAgICAgICAgIEhUTUxBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdfYmxhbmsnLFxyXG4gICAgICAgICAgICAgICAgcmVsOiAnbm9vcGVuZXIgbm9yZWZlcnJlciBub2ZvbGxvdycsXHJcbiAgICAgICAgICAgICAgICBjbGFzczogbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdmFsaWRhdGU6IHVuZGVmaW5lZCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaHJlZjoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMudGFyZ2V0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWw6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcy5yZWwsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsYXNzOiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMuY2xhc3MsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt7IHRhZzogJ2FbaHJlZl06bm90KFtocmVmICo9IFwiamF2YXNjcmlwdDpcIiBpXSknIH1dO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIEZhbHNlIHBvc2l0aXZlOyB3ZSdyZSBleHBsaWNpdGx5IGNoZWNraW5nIGZvciBqYXZhc2NyaXB0OiBsaW5rcyB0byBpZ25vcmUgdGhlbVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zY3JpcHQtdXJsXHJcbiAgICAgICAgaWYgKChfYSA9IEhUTUxBdHRyaWJ1dGVzLmhyZWYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydHNXaXRoKCdqYXZhc2NyaXB0OicpKSB7XHJcbiAgICAgICAgICAgIC8vIHN0cmlwIG91dCB0aGUgaHJlZlxyXG4gICAgICAgICAgICByZXR1cm4gWydhJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgeyAuLi5IVE1MQXR0cmlidXRlcywgaHJlZjogJycgfSksIDBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gWydhJywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRMaW5rOiBhdHRyaWJ1dGVzID0+ICh7IGNoYWluIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFpbigpLnNldE1hcmsodGhpcy5uYW1lLCBhdHRyaWJ1dGVzKS5zZXRNZXRhKCdwcmV2ZW50QXV0b2xpbmsnLCB0cnVlKS5ydW4oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdG9nZ2xlTGluazogYXR0cmlidXRlcyA9PiAoeyBjaGFpbiB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhaW4oKVxyXG4gICAgICAgICAgICAgICAgICAgIC50b2dnbGVNYXJrKHRoaXMubmFtZSwgYXR0cmlidXRlcywgeyBleHRlbmRFbXB0eU1hcmtSYW5nZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRNZXRhKCdwcmV2ZW50QXV0b2xpbmsnLCB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIC5ydW4oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5zZXRMaW5rOiAoKSA9PiAoeyBjaGFpbiB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhaW4oKVxyXG4gICAgICAgICAgICAgICAgICAgIC51bnNldE1hcmsodGhpcy5uYW1lLCB7IGV4dGVuZEVtcHR5TWFya1JhbmdlOiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE1ldGEoJ3ByZXZlbnRBdXRvbGluaycsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJ1bigpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYWRkUGFzdGVSdWxlcygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBtYXJrUGFzdGVSdWxlKHtcclxuICAgICAgICAgICAgICAgIGZpbmQ6IHRleHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kTGlua3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5rcyA9IGZpbmQodGV4dCkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pc0xpbmspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlua3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4gKGZvdW5kTGlua3MucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbGluay52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IGxpbmsuaHJlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBsaW5rLnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRMaW5rcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyaWJ1dGVzOiBtYXRjaCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IChfYSA9IG1hdGNoLmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ocmVmLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcclxuICAgICAgICBjb25zdCBwbHVnaW5zID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvbGluaykge1xyXG4gICAgICAgICAgICBwbHVnaW5zLnB1c2goYXV0b2xpbmsoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IHRoaXMub3B0aW9ucy52YWxpZGF0ZSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9wZW5PbkNsaWNrKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbnMucHVzaChjbGlja0hhbmRsZXIoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGlua09uUGFzdGUpIHtcclxuICAgICAgICAgICAgcGx1Z2lucy5wdXNoKHBhc3RlSGFuZGxlcih7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMuZWRpdG9yLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwbHVnaW5zO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IExpbmssIExpbmsgYXMgZGVmYXVsdCwgcGFzdGVSZWdleCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiY29tYmluZVRyYW5zYWN0aW9uU3RlcHMiLCJnZXRDaGFuZ2VkUmFuZ2VzIiwiZmluZENoaWxkcmVuSW5SYW5nZSIsImdldE1hcmtzQmV0d2VlbiIsImdldEF0dHJpYnV0ZXMiLCJNYXJrIiwibWVyZ2VBdHRyaWJ1dGVzIiwibWFya1Bhc3RlUnVsZSIsImZpbmQiLCJyZWdpc3RlckN1c3RvbVByb3RvY29sIiwicmVzZXQiLCJQbHVnaW4iLCJQbHVnaW5LZXkiLCJhdXRvbGluayIsIm9wdGlvbnMiLCJrZXkiLCJhcHBlbmRUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9ucyIsIm9sZFN0YXRlIiwibmV3U3RhdGUiLCJkb2NDaGFuZ2VzIiwic29tZSIsInRyYW5zYWN0aW9uIiwiZG9jQ2hhbmdlZCIsImRvYyIsImVxIiwicHJldmVudEF1dG9saW5rIiwiZ2V0TWV0YSIsInRyIiwidHJhbnNmb3JtIiwiY2hhbmdlcyIsImZvckVhY2giLCJuZXdSYW5nZSIsIm5vZGVzSW5DaGFuZ2VkUmFuZ2VzIiwibm9kZSIsImlzVGV4dGJsb2NrIiwidGV4dEJsb2NrIiwidGV4dEJlZm9yZVdoaXRlc3BhY2UiLCJsZW5ndGgiLCJ0ZXh0QmV0d2VlbiIsInBvcyIsIm5vZGVTaXplIiwidW5kZWZpbmVkIiwiZnJvbSIsInRvIiwiZW5kc1dpdGgiLCJ3b3Jkc0JlZm9yZVdoaXRlc3BhY2UiLCJzcGxpdCIsImZpbHRlciIsInMiLCJsYXN0V29yZEJlZm9yZVNwYWNlIiwibGFzdFdvcmRBbmRCbG9ja09mZnNldCIsImxhc3RJbmRleE9mIiwibGluayIsImlzTGluayIsIm1hcCIsInN0YXJ0IiwiZW5kIiwic2NoZW1hIiwibWFya3MiLCJjb2RlIiwicmFuZ2VIYXNNYXJrIiwidmFsaWRhdGUiLCJ2YWx1ZSIsIml0ZW0iLCJtYXJrIiwidHlwZSIsImFkZE1hcmsiLCJjcmVhdGUiLCJocmVmIiwic3RlcHMiLCJjbGlja0hhbmRsZXIiLCJwcm9wcyIsImhhbmRsZUNsaWNrIiwidmlldyIsImV2ZW50IiwiX2EiLCJfYiIsImJ1dHRvbiIsImEiLCJ0YXJnZXQiLCJlbHMiLCJub2RlTmFtZSIsInB1c2giLCJwYXJlbnROb2RlIiwiYXR0cnMiLCJzdGF0ZSIsIm5hbWUiLCJ3aW5kb3ciLCJvcGVuIiwicGFzdGVIYW5kbGVyIiwiaGFuZGxlUGFzdGUiLCJzbGljZSIsInNlbGVjdGlvbiIsImVtcHR5IiwidGV4dENvbnRlbnQiLCJjb250ZW50IiwiZWRpdG9yIiwiY29tbWFuZHMiLCJzZXRNYXJrIiwicGFzdGVSZWdleCIsIkxpbmsiLCJwcmlvcml0eSIsImtlZXBPblNwbGl0Iiwib25DcmVhdGUiLCJwcm90b2NvbHMiLCJwcm90b2NvbCIsInNjaGVtZSIsIm9wdGlvbmFsU2xhc2hlcyIsIm9uRGVzdHJveSIsImluY2x1c2l2ZSIsImFkZE9wdGlvbnMiLCJvcGVuT25DbGljayIsImxpbmtPblBhc3RlIiwiSFRNTEF0dHJpYnV0ZXMiLCJyZWwiLCJjbGFzcyIsImFkZEF0dHJpYnV0ZXMiLCJkZWZhdWx0IiwicGFyc2VIVE1MIiwidGFnIiwicmVuZGVySFRNTCIsInN0YXJ0c1dpdGgiLCJhZGRDb21tYW5kcyIsInNldExpbmsiLCJhdHRyaWJ1dGVzIiwiY2hhaW4iLCJzZXRNZXRhIiwicnVuIiwidG9nZ2xlTGluayIsInRvZ2dsZU1hcmsiLCJleHRlbmRFbXB0eU1hcmtSYW5nZSIsInVuc2V0TGluayIsInVuc2V0TWFyayIsImFkZFBhc3RlUnVsZXMiLCJ0ZXh0IiwiZm91bmRMaW5rcyIsImxpbmtzIiwiZGF0YSIsImluZGV4IiwibWF0Y2giLCJhZGRQcm9zZU1pcnJvclBsdWdpbnMiLCJwbHVnaW5zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-link/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-strike/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@tiptap/extension-strike/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Strike: () => (/* binding */ Strike),\n/* harmony export */   \"default\": () => (/* binding */ Strike),\n/* harmony export */   inputRegex: () => (/* binding */ inputRegex),\n/* harmony export */   pasteRegex: () => (/* binding */ pasteRegex)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst inputRegex = /(?:^|\\s)((?:~~)((?:[^~]+))(?:~~))$/;\nconst pasteRegex = /(?:^|\\s)((?:~~)((?:[^~]+))(?:~~))/g;\nconst Strike = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"strike\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"s\"\n            },\n            {\n                tag: \"del\"\n            },\n            {\n                tag: \"strike\"\n            },\n            {\n                style: \"text-decoration\",\n                consuming: false,\n                getAttrs: (style)=>style.includes(\"line-through\") ? {} : false\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"s\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setStrike: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleStrike: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetStrike: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        const shortcuts = {};\n        if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.isMacOS)()) {\n            shortcuts[\"Mod-Shift-s\"] = ()=>this.editor.commands.toggleStrike();\n        } else {\n            shortcuts[\"Ctrl-Shift-s\"] = ()=>this.editor.commands.toggleStrike();\n        }\n        return shortcuts;\n    },\n    addInputRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markInputRule)({\n                find: inputRegex,\n                type: this.type\n            })\n        ];\n    },\n    addPasteRules () {\n        return [\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.markPasteRule)({\n                find: pasteRegex,\n                type: this.type\n            })\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tc3RyaWtlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEY7QUFFNUYsTUFBTUssYUFBYTtBQUNuQixNQUFNQyxhQUFhO0FBQ25CLE1BQU1DLFNBQVNQLDhDQUFJQSxDQUFDUSxNQUFNLENBQUM7SUFDdkJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7WUFDVDtZQUNBO2dCQUNJQSxLQUFLO1lBQ1Q7WUFDQTtnQkFDSUEsS0FBSztZQUNUO1lBQ0E7Z0JBQ0lDLE9BQU87Z0JBQ1BDLFdBQVc7Z0JBQ1hDLFVBQVVGLENBQUFBLFFBQVVBLE1BQU1HLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJO1lBQzlEO1NBQ0g7SUFDTDtJQUNBQyxZQUFXLEVBQUVQLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBS1YsNkRBQWVBLENBQUMsSUFBSSxDQUFDa0IsT0FBTyxDQUFDUixjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDakY7SUFDQVM7UUFDSSxPQUFPO1lBQ0hDLFdBQVcsSUFBTSxDQUFDLEVBQUVDLFFBQVEsRUFBRTtvQkFDMUIsT0FBT0EsU0FBU0MsT0FBTyxDQUFDLElBQUksQ0FBQ2QsSUFBSTtnQkFDckM7WUFDQWUsY0FBYyxJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUM3QixPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDeEM7WUFDQWlCLGFBQWEsSUFBTSxDQUFDLEVBQUVKLFFBQVEsRUFBRTtvQkFDNUIsT0FBT0EsU0FBU0ssU0FBUyxDQUFDLElBQUksQ0FBQ2xCLElBQUk7Z0JBQ3ZDO1FBQ0o7SUFDSjtJQUNBbUI7UUFDSSxNQUFNQyxZQUFZLENBQUM7UUFDbkIsSUFBSTNCLHFEQUFPQSxJQUFJO1lBQ1gyQixTQUFTLENBQUMsY0FBYyxHQUFHLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNSLFFBQVEsQ0FBQ0UsWUFBWTtRQUN0RSxPQUNLO1lBQ0RLLFNBQVMsQ0FBQyxlQUFlLEdBQUcsSUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ1IsUUFBUSxDQUFDRSxZQUFZO1FBQ3ZFO1FBQ0EsT0FBT0s7SUFDWDtJQUNBRTtRQUNJLE9BQU87WUFDSDVCLDJEQUFhQSxDQUFDO2dCQUNWNkIsTUFBTTNCO2dCQUNONEIsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDbkI7U0FDSDtJQUNMO0lBQ0FDO1FBQ0ksT0FBTztZQUNIOUIsMkRBQWFBLENBQUM7Z0JBQ1Y0QixNQUFNMUI7Z0JBQ04yQixNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNuQjtTQUNIO0lBQ0w7QUFDSjtBQUU2RCxDQUM3RCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLXN0cmlrZS9kaXN0L2luZGV4LmpzPzhlNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWFyaywgbWVyZ2VBdHRyaWJ1dGVzLCBpc01hY09TLCBtYXJrSW5wdXRSdWxlLCBtYXJrUGFzdGVSdWxlIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgaW5wdXRSZWdleCA9IC8oPzpefFxccykoKD86fn4pKCg/Oltefl0rKSkoPzp+fikpJC87XHJcbmNvbnN0IHBhc3RlUmVnZXggPSAvKD86XnxcXHMpKCg/On5+KSgoPzpbXn5dKykpKD86fn4pKS9nO1xyXG5jb25zdCBTdHJpa2UgPSBNYXJrLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAnc3RyaWtlJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcGFyc2VIVE1MKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhZzogJ3MnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdkZWwnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YWc6ICdzdHJpa2UnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZTogJ3RleHQtZGVjb3JhdGlvbicsXHJcbiAgICAgICAgICAgICAgICBjb25zdW1pbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZ2V0QXR0cnM6IHN0eWxlID0+IChzdHlsZS5pbmNsdWRlcygnbGluZS10aHJvdWdoJykgPyB7fSA6IGZhbHNlKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsncycsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG4gICAgYWRkQ29tbWFuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2V0U3RyaWtlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuc2V0TWFyayh0aGlzLm5hbWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b2dnbGVTdHJpa2U6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy50b2dnbGVNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVuc2V0U3RyaWtlOiAoKSA9PiAoeyBjb21tYW5kcyB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMudW5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcclxuICAgICAgICBjb25zdCBzaG9ydGN1dHMgPSB7fTtcclxuICAgICAgICBpZiAoaXNNYWNPUygpKSB7XHJcbiAgICAgICAgICAgIHNob3J0Y3V0c1snTW9kLVNoaWZ0LXMnXSA9ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZVN0cmlrZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2hvcnRjdXRzWydDdHJsLVNoaWZ0LXMnXSA9ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZVN0cmlrZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hvcnRjdXRzO1xyXG4gICAgfSxcclxuICAgIGFkZElucHV0UnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya0lucHV0UnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBpbnB1dFJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIGFkZFBhc3RlUnVsZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbWFya1Bhc3RlUnVsZSh7XHJcbiAgICAgICAgICAgICAgICBmaW5kOiBwYXN0ZVJlZ2V4LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IFN0cmlrZSwgU3RyaWtlIGFzIGRlZmF1bHQsIGlucHV0UmVnZXgsIHBhc3RlUmVnZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk1hcmsiLCJtZXJnZUF0dHJpYnV0ZXMiLCJpc01hY09TIiwibWFya0lucHV0UnVsZSIsIm1hcmtQYXN0ZVJ1bGUiLCJpbnB1dFJlZ2V4IiwicGFzdGVSZWdleCIsIlN0cmlrZSIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiSFRNTEF0dHJpYnV0ZXMiLCJwYXJzZUhUTUwiLCJ0YWciLCJzdHlsZSIsImNvbnN1bWluZyIsImdldEF0dHJzIiwiaW5jbHVkZXMiLCJyZW5kZXJIVE1MIiwib3B0aW9ucyIsImFkZENvbW1hbmRzIiwic2V0U3RyaWtlIiwiY29tbWFuZHMiLCJzZXRNYXJrIiwidG9nZ2xlU3RyaWtlIiwidG9nZ2xlTWFyayIsInVuc2V0U3RyaWtlIiwidW5zZXRNYXJrIiwiYWRkS2V5Ym9hcmRTaG9ydGN1dHMiLCJzaG9ydGN1dHMiLCJlZGl0b3IiLCJhZGRJbnB1dFJ1bGVzIiwiZmluZCIsInR5cGUiLCJhZGRQYXN0ZVJ1bGVzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-strike/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-table-cell/dist/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-table-cell/dist/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TableCell: () => (/* binding */ TableCell),\n/* harmony export */   \"default\": () => (/* binding */ TableCell)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst TableCell = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"tableCell\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    content: \"block+\",\n    addAttributes () {\n        return {\n            colspan: {\n                default: 1\n            },\n            rowspan: {\n                default: 1\n            },\n            colwidth: {\n                default: null,\n                parseHTML: (element)=>{\n                    const colwidth = element.getAttribute(\"colwidth\");\n                    const value = colwidth ? [\n                        parseInt(colwidth, 10)\n                    ] : null;\n                    return value;\n                }\n            }\n        };\n    },\n    tableRole: \"cell\",\n    isolating: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"td\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"td\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tdGFibGUtY2VsbC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUVyRCxNQUFNRSxZQUFZRiw4Q0FBSUEsQ0FBQ0csTUFBTSxDQUFDO0lBQzFCQyxNQUFNO0lBQ05DO1FBQ0ksT0FBTztZQUNIQyxnQkFBZ0IsQ0FBQztRQUNyQjtJQUNKO0lBQ0FDLFNBQVM7SUFDVEM7UUFDSSxPQUFPO1lBQ0hDLFNBQVM7Z0JBQ0xDLFNBQVM7WUFDYjtZQUNBQyxTQUFTO2dCQUNMRCxTQUFTO1lBQ2I7WUFDQUUsVUFBVTtnQkFDTkYsU0FBUztnQkFDVEcsV0FBV0MsQ0FBQUE7b0JBQ1AsTUFBTUYsV0FBV0UsUUFBUUMsWUFBWSxDQUFDO29CQUN0QyxNQUFNQyxRQUFRSixXQUNSO3dCQUFDSyxTQUFTTCxVQUFVO3FCQUFJLEdBQ3hCO29CQUNOLE9BQU9JO2dCQUNYO1lBQ0o7UUFDSjtJQUNKO0lBQ0FFLFdBQVc7SUFDWEMsV0FBVztJQUNYTjtRQUNJLE9BQU87WUFDSDtnQkFBRU8sS0FBSztZQUFLO1NBQ2Y7SUFDTDtJQUNBQyxZQUFXLEVBQUVmLGNBQWMsRUFBRTtRQUN6QixPQUFPO1lBQUM7WUFBTUwsNkRBQWVBLENBQUMsSUFBSSxDQUFDcUIsT0FBTyxDQUFDaEIsY0FBYyxFQUFFQTtZQUFpQjtTQUFFO0lBQ2xGO0FBQ0o7QUFFMkMsQ0FDM0MsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Utam91cm5hbC8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi10YWJsZS1jZWxsL2Rpc3QvaW5kZXguanM/NjRlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOb2RlLCBtZXJnZUF0dHJpYnV0ZXMgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBUYWJsZUNlbGwgPSBOb2RlLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAndGFibGVDZWxsJyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY29udGVudDogJ2Jsb2NrKycsXHJcbiAgICBhZGRBdHRyaWJ1dGVzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbHNwYW46IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJvd3NwYW46IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbHdpZHRoOiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgcGFyc2VIVE1MOiBlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2x3aWR0aCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjb2x3aWR0aCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY29sd2lkdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbcGFyc2VJbnQoY29sd2lkdGgsIDEwKV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICB0YWJsZVJvbGU6ICdjZWxsJyxcclxuICAgIGlzb2xhdGluZzogdHJ1ZSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7IHRhZzogJ3RkJyB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWyd0ZCcsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgVGFibGVDZWxsLCBUYWJsZUNlbGwgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiTm9kZSIsIm1lcmdlQXR0cmlidXRlcyIsIlRhYmxlQ2VsbCIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiSFRNTEF0dHJpYnV0ZXMiLCJjb250ZW50IiwiYWRkQXR0cmlidXRlcyIsImNvbHNwYW4iLCJkZWZhdWx0Iiwicm93c3BhbiIsImNvbHdpZHRoIiwicGFyc2VIVE1MIiwiZWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInZhbHVlIiwicGFyc2VJbnQiLCJ0YWJsZVJvbGUiLCJpc29sYXRpbmciLCJ0YWciLCJyZW5kZXJIVE1MIiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-table-cell/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-table-header/dist/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@tiptap/extension-table-header/dist/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TableHeader: () => (/* binding */ TableHeader),\n/* harmony export */   \"default\": () => (/* binding */ TableHeader)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst TableHeader = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"tableHeader\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    content: \"block+\",\n    addAttributes () {\n        return {\n            colspan: {\n                default: 1\n            },\n            rowspan: {\n                default: 1\n            },\n            colwidth: {\n                default: null,\n                parseHTML: (element)=>{\n                    const colwidth = element.getAttribute(\"colwidth\");\n                    const value = colwidth ? [\n                        parseInt(colwidth, 10)\n                    ] : null;\n                    return value;\n                }\n            }\n        };\n    },\n    tableRole: \"header_cell\",\n    isolating: true,\n    parseHTML () {\n        return [\n            {\n                tag: \"th\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"th\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tdGFibGUtaGVhZGVyL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELE1BQU1FLGNBQWNGLDhDQUFJQSxDQUFDRyxNQUFNLENBQUM7SUFDNUJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUMsU0FBUztJQUNUQztRQUNJLE9BQU87WUFDSEMsU0FBUztnQkFDTEMsU0FBUztZQUNiO1lBQ0FDLFNBQVM7Z0JBQ0xELFNBQVM7WUFDYjtZQUNBRSxVQUFVO2dCQUNORixTQUFTO2dCQUNURyxXQUFXQyxDQUFBQTtvQkFDUCxNQUFNRixXQUFXRSxRQUFRQyxZQUFZLENBQUM7b0JBQ3RDLE1BQU1DLFFBQVFKLFdBQ1I7d0JBQUNLLFNBQVNMLFVBQVU7cUJBQUksR0FDeEI7b0JBQ04sT0FBT0k7Z0JBQ1g7WUFDSjtRQUNKO0lBQ0o7SUFDQUUsV0FBVztJQUNYQyxXQUFXO0lBQ1hOO1FBQ0ksT0FBTztZQUNIO2dCQUFFTyxLQUFLO1lBQUs7U0FDZjtJQUNMO0lBQ0FDLFlBQVcsRUFBRWYsY0FBYyxFQUFFO1FBQ3pCLE9BQU87WUFBQztZQUFNTCw2REFBZUEsQ0FBQyxJQUFJLENBQUNxQixPQUFPLENBQUNoQixjQUFjLEVBQUVBO1lBQWlCO1NBQUU7SUFDbEY7QUFDSjtBQUUrQyxDQUMvQyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLXRhYmxlLWhlYWRlci9kaXN0L2luZGV4LmpzP2M4OWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTm9kZSwgbWVyZ2VBdHRyaWJ1dGVzIH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcblxuY29uc3QgVGFibGVIZWFkZXIgPSBOb2RlLmNyZWF0ZSh7XHJcbiAgICBuYW1lOiAndGFibGVIZWFkZXInLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjb250ZW50OiAnYmxvY2srJyxcclxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29sc3Bhbjoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcm93c3Bhbjoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29sd2lkdGg6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBwYXJzZUhUTUw6IGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHdpZHRoID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbHdpZHRoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjb2x3aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtwYXJzZUludChjb2x3aWR0aCwgMTApXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHRhYmxlUm9sZTogJ2hlYWRlcl9jZWxsJyxcclxuICAgIGlzb2xhdGluZzogdHJ1ZSxcclxuICAgIHBhcnNlSFRNTCgpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7IHRhZzogJ3RoJyB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWyd0aCcsIG1lcmdlQXR0cmlidXRlcyh0aGlzLm9wdGlvbnMuSFRNTEF0dHJpYnV0ZXMsIEhUTUxBdHRyaWJ1dGVzKSwgMF07XHJcbiAgICB9LFxyXG59KTtcblxuZXhwb3J0IHsgVGFibGVIZWFkZXIsIFRhYmxlSGVhZGVyIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk5vZGUiLCJtZXJnZUF0dHJpYnV0ZXMiLCJUYWJsZUhlYWRlciIsImNyZWF0ZSIsIm5hbWUiLCJhZGRPcHRpb25zIiwiSFRNTEF0dHJpYnV0ZXMiLCJjb250ZW50IiwiYWRkQXR0cmlidXRlcyIsImNvbHNwYW4iLCJkZWZhdWx0Iiwicm93c3BhbiIsImNvbHdpZHRoIiwicGFyc2VIVE1MIiwiZWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInZhbHVlIiwicGFyc2VJbnQiLCJ0YWJsZVJvbGUiLCJpc29sYXRpbmciLCJ0YWciLCJyZW5kZXJIVE1MIiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-table-header/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-table-row/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-table-row/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TableRow: () => (/* binding */ TableRow),\n/* harmony export */   \"default\": () => (/* binding */ TableRow)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst TableRow = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"tableRow\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    content: \"(tableCell | tableHeader)*\",\n    tableRole: \"row\",\n    parseHTML () {\n        return [\n            {\n                tag: \"tr\"\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"tr\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tdGFibGUtcm93L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELE1BQU1FLFdBQVdGLDhDQUFJQSxDQUFDRyxNQUFNLENBQUM7SUFDekJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUMsU0FBUztJQUNUQyxXQUFXO0lBQ1hDO1FBQ0ksT0FBTztZQUNIO2dCQUFFQyxLQUFLO1lBQUs7U0FDZjtJQUNMO0lBQ0FDLFlBQVcsRUFBRUwsY0FBYyxFQUFFO1FBQ3pCLE9BQU87WUFBQztZQUFNTCw2REFBZUEsQ0FBQyxJQUFJLENBQUNXLE9BQU8sQ0FBQ04sY0FBYyxFQUFFQTtZQUFpQjtTQUFFO0lBQ2xGO0FBQ0o7QUFFeUMsQ0FDekMsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Utam91cm5hbC8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi10YWJsZS1yb3cvZGlzdC9pbmRleC5qcz8wMTBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGUsIG1lcmdlQXR0cmlidXRlcyB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5cbmNvbnN0IFRhYmxlUm93ID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ3RhYmxlUm93JyxcclxuICAgIGFkZE9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSFRNTEF0dHJpYnV0ZXM6IHt9LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY29udGVudDogJyh0YWJsZUNlbGwgfCB0YWJsZUhlYWRlcikqJyxcclxuICAgIHRhYmxlUm9sZTogJ3JvdycsXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgeyB0YWc6ICd0cicgfSxcclxuICAgICAgICBdO1xyXG4gICAgfSxcclxuICAgIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlcyB9KSB7XHJcbiAgICAgICAgcmV0dXJuIFsndHInLCBtZXJnZUF0dHJpYnV0ZXModGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCBIVE1MQXR0cmlidXRlcyksIDBdO1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IFRhYmxlUm93LCBUYWJsZVJvdyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwibWVyZ2VBdHRyaWJ1dGVzIiwiVGFibGVSb3ciLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsIkhUTUxBdHRyaWJ1dGVzIiwiY29udGVudCIsInRhYmxlUm9sZSIsInBhcnNlSFRNTCIsInRhZyIsInJlbmRlckhUTUwiLCJvcHRpb25zIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-table-row/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-text/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/extension-text/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   \"default\": () => (/* binding */ Text)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst Text = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Node.create({\n    name: \"text\",\n    group: \"inline\"\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tdGV4dC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQztBQUVwQyxNQUFNQyxPQUFPRCw4Q0FBSUEsQ0FBQ0UsTUFBTSxDQUFDO0lBQ3JCQyxNQUFNO0lBQ05DLE9BQU87QUFDWDtBQUVpQyxDQUNqQyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvZXh0ZW5zaW9uLXRleHQvZGlzdC9pbmRleC5qcz85ZTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGUgfSBmcm9tICdAdGlwdGFwL2NvcmUnO1xuXG5jb25zdCBUZXh0ID0gTm9kZS5jcmVhdGUoe1xyXG4gICAgbmFtZTogJ3RleHQnLFxyXG4gICAgZ3JvdXA6ICdpbmxpbmUnLFxyXG59KTtcblxuZXhwb3J0IHsgVGV4dCwgVGV4dCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJOb2RlIiwiVGV4dCIsImNyZWF0ZSIsIm5hbWUiLCJncm91cCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-text/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/extension-underline/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@tiptap/extension-underline/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Underline: () => (/* binding */ Underline),\n/* harmony export */   \"default\": () => (/* binding */ Underline)\n/* harmony export */ });\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\nconst Underline = _tiptap_core__WEBPACK_IMPORTED_MODULE_0__.Mark.create({\n    name: \"underline\",\n    addOptions () {\n        return {\n            HTMLAttributes: {}\n        };\n    },\n    parseHTML () {\n        return [\n            {\n                tag: \"u\"\n            },\n            {\n                style: \"text-decoration\",\n                consuming: false,\n                getAttrs: (style)=>style.includes(\"underline\") ? {} : false\n            }\n        ];\n    },\n    renderHTML ({ HTMLAttributes }) {\n        return [\n            \"u\",\n            (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_0__.mergeAttributes)(this.options.HTMLAttributes, HTMLAttributes),\n            0\n        ];\n    },\n    addCommands () {\n        return {\n            setUnderline: ()=>({ commands })=>{\n                    return commands.setMark(this.name);\n                },\n            toggleUnderline: ()=>({ commands })=>{\n                    return commands.toggleMark(this.name);\n                },\n            unsetUnderline: ()=>({ commands })=>{\n                    return commands.unsetMark(this.name);\n                }\n        };\n    },\n    addKeyboardShortcuts () {\n        return {\n            \"Mod-u\": ()=>this.editor.commands.toggleUnderline(),\n            \"Mod-U\": ()=>this.editor.commands.toggleUnderline()\n        };\n    }\n});\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9leHRlbnNpb24tdW5kZXJsaW5lL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRXJELE1BQU1FLFlBQVlGLDhDQUFJQSxDQUFDRyxNQUFNLENBQUM7SUFDMUJDLE1BQU07SUFDTkM7UUFDSSxPQUFPO1lBQ0hDLGdCQUFnQixDQUFDO1FBQ3JCO0lBQ0o7SUFDQUM7UUFDSSxPQUFPO1lBQ0g7Z0JBQ0lDLEtBQUs7WUFDVDtZQUNBO2dCQUNJQyxPQUFPO2dCQUNQQyxXQUFXO2dCQUNYQyxVQUFVRixDQUFBQSxRQUFVQSxNQUFNRyxRQUFRLENBQUMsZUFBZSxDQUFDLElBQUk7WUFDM0Q7U0FDSDtJQUNMO0lBQ0FDLFlBQVcsRUFBRVAsY0FBYyxFQUFFO1FBQ3pCLE9BQU87WUFBQztZQUFLTCw2REFBZUEsQ0FBQyxJQUFJLENBQUNhLE9BQU8sQ0FBQ1IsY0FBYyxFQUFFQTtZQUFpQjtTQUFFO0lBQ2pGO0lBQ0FTO1FBQ0ksT0FBTztZQUNIQyxjQUFjLElBQU0sQ0FBQyxFQUFFQyxRQUFRLEVBQUU7b0JBQzdCLE9BQU9BLFNBQVNDLE9BQU8sQ0FBQyxJQUFJLENBQUNkLElBQUk7Z0JBQ3JDO1lBQ0FlLGlCQUFpQixJQUFNLENBQUMsRUFBRUYsUUFBUSxFQUFFO29CQUNoQyxPQUFPQSxTQUFTRyxVQUFVLENBQUMsSUFBSSxDQUFDaEIsSUFBSTtnQkFDeEM7WUFDQWlCLGdCQUFnQixJQUFNLENBQUMsRUFBRUosUUFBUSxFQUFFO29CQUMvQixPQUFPQSxTQUFTSyxTQUFTLENBQUMsSUFBSSxDQUFDbEIsSUFBSTtnQkFDdkM7UUFDSjtJQUNKO0lBQ0FtQjtRQUNJLE9BQU87WUFDSCxTQUFTLElBQU0sSUFBSSxDQUFDQyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsZUFBZTtZQUNuRCxTQUFTLElBQU0sSUFBSSxDQUFDSyxNQUFNLENBQUNQLFFBQVEsQ0FBQ0UsZUFBZTtRQUN2RDtJQUNKO0FBQ0o7QUFFMkMsQ0FDM0MsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Utam91cm5hbC8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL2V4dGVuc2lvbi11bmRlcmxpbmUvZGlzdC9pbmRleC5qcz8zNjUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hcmssIG1lcmdlQXR0cmlidXRlcyB9IGZyb20gJ0B0aXB0YXAvY29yZSc7XG5cbmNvbnN0IFVuZGVybGluZSA9IE1hcmsuY3JlYXRlKHtcclxuICAgIG5hbWU6ICd1bmRlcmxpbmUnLFxyXG4gICAgYWRkT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBIVE1MQXR0cmlidXRlczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBwYXJzZUhUTUwoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFnOiAndScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlOiAndGV4dC1kZWNvcmF0aW9uJyxcclxuICAgICAgICAgICAgICAgIGNvbnN1bWluZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBnZXRBdHRyczogc3R5bGUgPT4gKHN0eWxlLmluY2x1ZGVzKCd1bmRlcmxpbmUnKSA/IHt9IDogZmFsc2UpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzIH0pIHtcclxuICAgICAgICByZXR1cm4gWyd1JywgbWVyZ2VBdHRyaWJ1dGVzKHRoaXMub3B0aW9ucy5IVE1MQXR0cmlidXRlcywgSFRNTEF0dHJpYnV0ZXMpLCAwXTtcclxuICAgIH0sXHJcbiAgICBhZGRDb21tYW5kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZXRVbmRlcmxpbmU6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5zZXRNYXJrKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvZ2dsZVVuZGVybGluZTogKCkgPT4gKHsgY29tbWFuZHMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLnRvZ2dsZU1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdW5zZXRVbmRlcmxpbmU6ICgpID0+ICh7IGNvbW1hbmRzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy51bnNldE1hcmsodGhpcy5uYW1lKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdNb2QtdSc6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZVVuZGVybGluZSgpLFxyXG4gICAgICAgICAgICAnTW9kLVUnOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy50b2dnbGVVbmRlcmxpbmUoKSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxufSk7XG5cbmV4cG9ydCB7IFVuZGVybGluZSwgVW5kZXJsaW5lIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk1hcmsiLCJtZXJnZUF0dHJpYnV0ZXMiLCJVbmRlcmxpbmUiLCJjcmVhdGUiLCJuYW1lIiwiYWRkT3B0aW9ucyIsIkhUTUxBdHRyaWJ1dGVzIiwicGFyc2VIVE1MIiwidGFnIiwic3R5bGUiLCJjb25zdW1pbmciLCJnZXRBdHRycyIsImluY2x1ZGVzIiwicmVuZGVySFRNTCIsIm9wdGlvbnMiLCJhZGRDb21tYW5kcyIsInNldFVuZGVybGluZSIsImNvbW1hbmRzIiwic2V0TWFyayIsInRvZ2dsZVVuZGVybGluZSIsInRvZ2dsZU1hcmsiLCJ1bnNldFVuZGVybGluZSIsInVuc2V0TWFyayIsImFkZEtleWJvYXJkU2hvcnRjdXRzIiwiZWRpdG9yIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/extension-underline/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/commands/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@tiptap/pm/commands/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   autoJoin: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.autoJoin),\n/* harmony export */   baseKeymap: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.baseKeymap),\n/* harmony export */   chainCommands: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.chainCommands),\n/* harmony export */   createParagraphNear: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.createParagraphNear),\n/* harmony export */   deleteSelection: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.deleteSelection),\n/* harmony export */   exitCode: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.exitCode),\n/* harmony export */   joinBackward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinBackward),\n/* harmony export */   joinDown: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinDown),\n/* harmony export */   joinForward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinForward),\n/* harmony export */   joinTextblockBackward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinTextblockBackward),\n/* harmony export */   joinTextblockForward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinTextblockForward),\n/* harmony export */   joinUp: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.joinUp),\n/* harmony export */   lift: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.lift),\n/* harmony export */   liftEmptyBlock: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.liftEmptyBlock),\n/* harmony export */   macBaseKeymap: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.macBaseKeymap),\n/* harmony export */   newlineInCode: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.newlineInCode),\n/* harmony export */   pcBaseKeymap: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.pcBaseKeymap),\n/* harmony export */   selectAll: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectAll),\n/* harmony export */   selectNodeBackward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectNodeBackward),\n/* harmony export */   selectNodeForward: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectNodeForward),\n/* harmony export */   selectParentNode: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectParentNode),\n/* harmony export */   selectTextblockEnd: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectTextblockEnd),\n/* harmony export */   selectTextblockStart: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.selectTextblockStart),\n/* harmony export */   setBlockType: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.setBlockType),\n/* harmony export */   splitBlock: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.splitBlock),\n/* harmony export */   splitBlockAs: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.splitBlockAs),\n/* harmony export */   splitBlockKeepMarks: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.splitBlockKeepMarks),\n/* harmony export */   toggleMark: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.toggleMark),\n/* harmony export */   wrapIn: () => (/* reexport safe */ prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__.wrapIn)\n/* harmony export */ });\n/* harmony import */ var prosemirror_commands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-commands */ \"(ssr)/./node_modules/prosemirror-commands/dist/index.js\");\n// commands/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9jb21tYW5kcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9CQUFvQjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9jb21tYW5kcy9kaXN0L2luZGV4LmpzPzkxMmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29tbWFuZHMvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1jb21tYW5kc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/commands/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/dropcursor/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@tiptap/pm/dropcursor/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dropCursor: () => (/* reexport safe */ prosemirror_dropcursor__WEBPACK_IMPORTED_MODULE_0__.dropCursor)\n/* harmony export */ });\n/* harmony import */ var prosemirror_dropcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-dropcursor */ \"(ssr)/./node_modules/prosemirror-dropcursor/dist/index.js\");\n// dropcursor/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9kcm9wY3Vyc29yL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzQkFBc0I7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vZHJvcGN1cnNvci9kaXN0L2luZGV4LmpzP2JkMzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZHJvcGN1cnNvci9pbmRleC50c1xuZXhwb3J0ICogZnJvbSBcInByb3NlbWlycm9yLWRyb3BjdXJzb3JcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/dropcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/gapcursor/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@tiptap/pm/gapcursor/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GapCursor: () => (/* reexport safe */ prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_0__.GapCursor),\n/* harmony export */   gapCursor: () => (/* reexport safe */ prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_0__.gapCursor)\n/* harmony export */ });\n/* harmony import */ var prosemirror_gapcursor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-gapcursor */ \"(ssr)/./node_modules/prosemirror-gapcursor/dist/index.js\");\n// gapcursor/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9nYXBjdXJzb3IvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxxQkFBcUI7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vZ2FwY3Vyc29yL2Rpc3QvaW5kZXguanM/YzBiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBnYXBjdXJzb3IvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1nYXBjdXJzb3JcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/gapcursor/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/history/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@tiptap/pm/history/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeHistory: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.closeHistory),\n/* harmony export */   history: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.history),\n/* harmony export */   redo: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.redo),\n/* harmony export */   redoDepth: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.redoDepth),\n/* harmony export */   undo: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.undo),\n/* harmony export */   undoDepth: () => (/* reexport safe */ prosemirror_history__WEBPACK_IMPORTED_MODULE_0__.undoDepth)\n/* harmony export */ });\n/* harmony import */ var prosemirror_history__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-history */ \"(ssr)/./node_modules/prosemirror-history/dist/index.js\");\n// history/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9oaXN0b3J5L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLG1CQUFtQjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9oaXN0b3J5L2Rpc3QvaW5kZXguanM/MTY2NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBoaXN0b3J5L2luZGV4LnRzXG5leHBvcnQgKiBmcm9tIFwicHJvc2VtaXJyb3ItaGlzdG9yeVwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/history/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/keymap/dist/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@tiptap/pm/keymap/dist/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keydownHandler: () => (/* reexport safe */ prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__.keydownHandler),\n/* harmony export */   keymap: () => (/* reexport safe */ prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__.keymap)\n/* harmony export */ });\n/* harmony import */ var prosemirror_keymap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-keymap */ \"(ssr)/./node_modules/prosemirror-keymap/dist/index.js\");\n// keymap/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9rZXltYXAvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxrQkFBa0I7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0va2V5bWFwL2Rpc3QvaW5kZXguanM/NGJlYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBrZXltYXAvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1rZXltYXBcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/keymap/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/model/dist/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@tiptap/pm/model/dist/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContentMatch: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.ContentMatch),\n/* harmony export */   DOMParser: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.DOMParser),\n/* harmony export */   DOMSerializer: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.DOMSerializer),\n/* harmony export */   Fragment: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Fragment),\n/* harmony export */   Mark: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Mark),\n/* harmony export */   MarkType: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.MarkType),\n/* harmony export */   Node: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Node),\n/* harmony export */   NodeRange: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.NodeRange),\n/* harmony export */   NodeType: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.NodeType),\n/* harmony export */   ReplaceError: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.ReplaceError),\n/* harmony export */   ResolvedPos: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.ResolvedPos),\n/* harmony export */   Schema: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Schema),\n/* harmony export */   Slice: () => (/* reexport safe */ prosemirror_model__WEBPACK_IMPORTED_MODULE_0__.Slice)\n/* harmony export */ });\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-model */ \"(ssr)/./node_modules/prosemirror-model/dist/index.js\");\n// model/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9tb2RlbC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaUJBQWlCO0FBQ2lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Utam91cm5hbC8uL25vZGVfbW9kdWxlcy9AdGlwdGFwL3BtL21vZGVsL2Rpc3QvaW5kZXguanM/YTVhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtb2RlbC9pbmRleC50c1xuZXhwb3J0ICogZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/model/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/schema-list/dist/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@tiptap/pm/schema-list/dist/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addListNodes: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.addListNodes),\n/* harmony export */   bulletList: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.bulletList),\n/* harmony export */   liftListItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.liftListItem),\n/* harmony export */   listItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.listItem),\n/* harmony export */   orderedList: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.orderedList),\n/* harmony export */   sinkListItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.sinkListItem),\n/* harmony export */   splitListItem: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.splitListItem),\n/* harmony export */   wrapInList: () => (/* reexport safe */ prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__.wrapInList)\n/* harmony export */ });\n/* harmony import */ var prosemirror_schema_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-schema-list */ \"(ssr)/./node_modules/prosemirror-schema-list/dist/index.js\");\n// schema-list/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9zY2hlbWEtbGlzdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLHVCQUF1QjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9zY2hlbWEtbGlzdC9kaXN0L2luZGV4LmpzPzU0ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2NoZW1hLWxpc3QvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci1zY2hlbWEtbGlzdFwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/schema-list/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/state/dist/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@tiptap/pm/state/dist/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AllSelection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.AllSelection),\n/* harmony export */   EditorState: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.EditorState),\n/* harmony export */   NodeSelection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.NodeSelection),\n/* harmony export */   Plugin: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.Plugin),\n/* harmony export */   PluginKey: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.PluginKey),\n/* harmony export */   Selection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.Selection),\n/* harmony export */   SelectionRange: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.SelectionRange),\n/* harmony export */   TextSelection: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.TextSelection),\n/* harmony export */   Transaction: () => (/* reexport safe */ prosemirror_state__WEBPACK_IMPORTED_MODULE_0__.Transaction)\n/* harmony export */ });\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-state */ \"(ssr)/./node_modules/prosemirror-state/dist/index.js\");\n// state/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS9zdGF0ZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxpQkFBaUI7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vc3RhdGUvZGlzdC9pbmRleC5qcz83MmVmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0YXRlL2luZGV4LnRzXG5leHBvcnQgKiBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/state/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/transform/dist/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@tiptap/pm/transform/dist/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.AddMarkStep),\n/* harmony export */   AddNodeMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.AddNodeMarkStep),\n/* harmony export */   AttrStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.AttrStep),\n/* harmony export */   DocAttrStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.DocAttrStep),\n/* harmony export */   MapResult: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.MapResult),\n/* harmony export */   Mapping: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Mapping),\n/* harmony export */   RemoveMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.RemoveMarkStep),\n/* harmony export */   RemoveNodeMarkStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.RemoveNodeMarkStep),\n/* harmony export */   ReplaceAroundStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.ReplaceAroundStep),\n/* harmony export */   ReplaceStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.ReplaceStep),\n/* harmony export */   Step: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Step),\n/* harmony export */   StepMap: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.StepMap),\n/* harmony export */   StepResult: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.StepResult),\n/* harmony export */   Transform: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.Transform),\n/* harmony export */   TransformError: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.TransformError),\n/* harmony export */   canJoin: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.canJoin),\n/* harmony export */   canSplit: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.canSplit),\n/* harmony export */   dropPoint: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.dropPoint),\n/* harmony export */   findWrapping: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.findWrapping),\n/* harmony export */   insertPoint: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.insertPoint),\n/* harmony export */   joinPoint: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.joinPoint),\n/* harmony export */   liftTarget: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.liftTarget),\n/* harmony export */   replaceStep: () => (/* reexport safe */ prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__.replaceStep)\n/* harmony export */ });\n/* harmony import */ var prosemirror_transform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-transform */ \"(ssr)/./node_modules/prosemirror-transform/dist/index.js\");\n// transform/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS90cmFuc2Zvcm0vZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxQkFBcUI7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcG0vdHJhbnNmb3JtL2Rpc3QvaW5kZXguanM/OGE0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0cmFuc2Zvcm0vaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJwcm9zZW1pcnJvci10cmFuc2Zvcm1cIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/transform/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/pm/view/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@tiptap/pm/view/dist/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Decoration: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.Decoration),\n/* harmony export */   DecorationSet: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.DecorationSet),\n/* harmony export */   EditorView: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.EditorView),\n/* harmony export */   __endComposition: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.__endComposition),\n/* harmony export */   __parseFromClipboard: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.__parseFromClipboard),\n/* harmony export */   __serializeForClipboard: () => (/* reexport safe */ prosemirror_view__WEBPACK_IMPORTED_MODULE_0__.__serializeForClipboard)\n/* harmony export */ });\n/* harmony import */ var prosemirror_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! prosemirror-view */ \"(ssr)/./node_modules/prosemirror-view/dist/index.js\");\n// view/index.ts\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS92aWV3L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLGdCQUFnQjtBQUNpQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlLWpvdXJuYWwvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9wbS92aWV3L2Rpc3QvaW5kZXguanM/NzU5MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB2aWV3L2luZGV4LnRzXG5leHBvcnQgKiBmcm9tIFwicHJvc2VtaXJyb3Itdmlld1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/pm/view/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@tiptap/react/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@tiptap/react/dist/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BubbleMenu: () => (/* binding */ BubbleMenu),\n/* harmony export */   CommandManager: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.CommandManager),\n/* harmony export */   Editor: () => (/* binding */ Editor),\n/* harmony export */   EditorConsumer: () => (/* binding */ EditorConsumer),\n/* harmony export */   EditorContent: () => (/* binding */ EditorContent),\n/* harmony export */   EditorContext: () => (/* binding */ EditorContext),\n/* harmony export */   EditorProvider: () => (/* binding */ EditorProvider),\n/* harmony export */   Extension: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Extension),\n/* harmony export */   FloatingMenu: () => (/* binding */ FloatingMenu),\n/* harmony export */   InputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.InputRule),\n/* harmony export */   Mark: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Mark),\n/* harmony export */   Node: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Node),\n/* harmony export */   NodePos: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.NodePos),\n/* harmony export */   NodeView: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.NodeView),\n/* harmony export */   NodeViewContent: () => (/* binding */ NodeViewContent),\n/* harmony export */   NodeViewWrapper: () => (/* binding */ NodeViewWrapper),\n/* harmony export */   PasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.PasteRule),\n/* harmony export */   PureEditorContent: () => (/* binding */ PureEditorContent),\n/* harmony export */   ReactNodeViewRenderer: () => (/* binding */ ReactNodeViewRenderer),\n/* harmony export */   ReactRenderer: () => (/* binding */ ReactRenderer),\n/* harmony export */   Tracker: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Tracker),\n/* harmony export */   callOrReturn: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.callOrReturn),\n/* harmony export */   combineTransactionSteps: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.combineTransactionSteps),\n/* harmony export */   createChainableState: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createChainableState),\n/* harmony export */   createDocument: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createDocument),\n/* harmony export */   createNodeFromContent: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createNodeFromContent),\n/* harmony export */   createStyleTag: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.createStyleTag),\n/* harmony export */   defaultBlockAt: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.defaultBlockAt),\n/* harmony export */   deleteProps: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.deleteProps),\n/* harmony export */   elementFromString: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.elementFromString),\n/* harmony export */   escapeForRegEx: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.escapeForRegEx),\n/* harmony export */   extensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.extensions),\n/* harmony export */   findChildren: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findChildren),\n/* harmony export */   findChildrenInRange: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findChildrenInRange),\n/* harmony export */   findDuplicates: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findDuplicates),\n/* harmony export */   findParentNode: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findParentNode),\n/* harmony export */   findParentNodeClosestToPos: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.findParentNodeClosestToPos),\n/* harmony export */   fromString: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.fromString),\n/* harmony export */   generateHTML: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.generateHTML),\n/* harmony export */   generateJSON: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.generateJSON),\n/* harmony export */   generateText: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.generateText),\n/* harmony export */   getAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getAttributes),\n/* harmony export */   getAttributesFromExtensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getAttributesFromExtensions),\n/* harmony export */   getChangedRanges: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getChangedRanges),\n/* harmony export */   getDebugJSON: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getDebugJSON),\n/* harmony export */   getExtensionField: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getExtensionField),\n/* harmony export */   getHTMLFromFragment: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getHTMLFromFragment),\n/* harmony export */   getMarkAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarkAttributes),\n/* harmony export */   getMarkRange: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarkRange),\n/* harmony export */   getMarkType: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarkType),\n/* harmony export */   getMarksBetween: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getMarksBetween),\n/* harmony export */   getNodeAtPosition: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getNodeAtPosition),\n/* harmony export */   getNodeAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getNodeAttributes),\n/* harmony export */   getNodeType: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getNodeType),\n/* harmony export */   getRenderedAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getRenderedAttributes),\n/* harmony export */   getSchema: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchema),\n/* harmony export */   getSchemaByResolvedExtensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchemaByResolvedExtensions),\n/* harmony export */   getSchemaTypeByName: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchemaTypeByName),\n/* harmony export */   getSchemaTypeNameByName: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSchemaTypeNameByName),\n/* harmony export */   getSplittedAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getSplittedAttributes),\n/* harmony export */   getText: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getText),\n/* harmony export */   getTextBetween: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getTextBetween),\n/* harmony export */   getTextContentFromNodes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getTextContentFromNodes),\n/* harmony export */   getTextSerializersFromSchema: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.getTextSerializersFromSchema),\n/* harmony export */   injectExtensionAttributesToParseRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.injectExtensionAttributesToParseRule),\n/* harmony export */   inputRulesPlugin: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.inputRulesPlugin),\n/* harmony export */   isActive: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isActive),\n/* harmony export */   isAtEndOfNode: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isAtEndOfNode),\n/* harmony export */   isAtStartOfNode: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isAtStartOfNode),\n/* harmony export */   isEmptyObject: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isEmptyObject),\n/* harmony export */   isExtensionRulesEnabled: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isExtensionRulesEnabled),\n/* harmony export */   isFunction: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isFunction),\n/* harmony export */   isList: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isList),\n/* harmony export */   isMacOS: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isMacOS),\n/* harmony export */   isMarkActive: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isMarkActive),\n/* harmony export */   isNodeActive: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNodeActive),\n/* harmony export */   isNodeEmpty: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNodeEmpty),\n/* harmony export */   isNodeSelection: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNodeSelection),\n/* harmony export */   isNumber: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isNumber),\n/* harmony export */   isPlainObject: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isPlainObject),\n/* harmony export */   isRegExp: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isRegExp),\n/* harmony export */   isString: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isString),\n/* harmony export */   isTextSelection: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isTextSelection),\n/* harmony export */   isiOS: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.isiOS),\n/* harmony export */   markInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.markInputRule),\n/* harmony export */   markPasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.markPasteRule),\n/* harmony export */   mergeAttributes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeAttributes),\n/* harmony export */   mergeDeep: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.mergeDeep),\n/* harmony export */   minMax: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.minMax),\n/* harmony export */   nodeInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.nodeInputRule),\n/* harmony export */   nodePasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.nodePasteRule),\n/* harmony export */   objectIncludes: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.objectIncludes),\n/* harmony export */   pasteRulesPlugin: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.pasteRulesPlugin),\n/* harmony export */   posToDOMRect: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.posToDOMRect),\n/* harmony export */   removeDuplicates: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.removeDuplicates),\n/* harmony export */   resolveFocusPosition: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.resolveFocusPosition),\n/* harmony export */   selectionToInsertionEnd: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.selectionToInsertionEnd),\n/* harmony export */   splitExtensions: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.splitExtensions),\n/* harmony export */   textInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.textInputRule),\n/* harmony export */   textPasteRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.textPasteRule),\n/* harmony export */   textblockTypeInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.textblockTypeInputRule),\n/* harmony export */   useCurrentEditor: () => (/* binding */ useCurrentEditor),\n/* harmony export */   useEditor: () => (/* binding */ useEditor),\n/* harmony export */   wrappingInputRule: () => (/* reexport safe */ _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.wrappingInputRule)\n/* harmony export */ });\n/* harmony import */ var _tiptap_extension_bubble_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/extension-bubble-menu */ \"(ssr)/./node_modules/@tiptap/extension-bubble-menu/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var _tiptap_extension_floating_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/extension-floating-menu */ \"(ssr)/./node_modules/@tiptap/extension-floating-menu/dist/index.js\");\n\n\n\n\n\n\nconst mergeRefs = (...refs)=>{\n    return (node)=>{\n        refs.forEach((ref)=>{\n            if (typeof ref === \"function\") {\n                ref(node);\n            } else if (ref) {\n                ref.current = node;\n            }\n        });\n    };\n};\nconst Portals = ({ renderers })=>{\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, Object.entries(renderers).map(([key, renderer])=>{\n        return /*#__PURE__*/ react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(renderer.reactElement, renderer.element, key);\n    }));\n};\nclass PureEditorContent extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n    constructor(props){\n        super(props);\n        this.editorContentRef = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n        this.initialized = false;\n        this.state = {\n            renderers: {}\n        };\n    }\n    componentDidMount() {\n        this.init();\n    }\n    componentDidUpdate() {\n        this.init();\n    }\n    init() {\n        const { editor } = this.props;\n        if (editor && editor.options.element) {\n            if (editor.contentComponent) {\n                return;\n            }\n            const element = this.editorContentRef.current;\n            element.append(...editor.options.element.childNodes);\n            editor.setOptions({\n                element\n            });\n            editor.contentComponent = this;\n            editor.createNodeViews();\n            this.initialized = true;\n        }\n    }\n    maybeFlushSync(fn) {\n        // Avoid calling flushSync until the editor is initialized.\n        // Initialization happens during the componentDidMount or componentDidUpdate\n        // lifecycle methods, and React doesn't allow calling flushSync from inside\n        // a lifecycle method.\n        if (this.initialized) {\n            (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(fn);\n        } else {\n            fn();\n        }\n    }\n    setRenderer(id, renderer) {\n        this.maybeFlushSync(()=>{\n            this.setState(({ renderers })=>({\n                    renderers: {\n                        ...renderers,\n                        [id]: renderer\n                    }\n                }));\n        });\n    }\n    removeRenderer(id) {\n        this.maybeFlushSync(()=>{\n            this.setState(({ renderers })=>{\n                const nextRenderers = {\n                    ...renderers\n                };\n                delete nextRenderers[id];\n                return {\n                    renderers: nextRenderers\n                };\n            });\n        });\n    }\n    componentWillUnmount() {\n        const { editor } = this.props;\n        if (!editor) {\n            return;\n        }\n        this.initialized = false;\n        if (!editor.isDestroyed) {\n            editor.view.setProps({\n                nodeViews: {}\n            });\n        }\n        editor.contentComponent = null;\n        if (!editor.options.element.firstChild) {\n            return;\n        }\n        const newElement = document.createElement(\"div\");\n        newElement.append(...editor.options.element.childNodes);\n        editor.setOptions({\n            element: newElement\n        });\n    }\n    render() {\n        const { editor, innerRef, ...rest } = this.props;\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ref: mergeRefs(innerRef, this.editorContentRef),\n            ...rest\n        }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Portals, {\n            renderers: this.state.renderers\n        }));\n    }\n}\n// EditorContent should be re-created whenever the Editor instance changes\nconst EditorContentWithKey = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((props, ref)=>{\n    const key = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        return Math.floor(Math.random() * 0xFFFFFFFF).toString();\n    }, [\n        props.editor\n    ]);\n    // Can't use JSX here because it conflicts with the type definition of Vue's JSX, so use createElement\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PureEditorContent, {\n        key,\n        innerRef: ref,\n        ...props\n    });\n});\nconst EditorContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.memo(EditorContentWithKey);\nclass Editor extends _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.Editor {\n    constructor(){\n        super(...arguments);\n        this.contentComponent = null;\n    }\n}\nconst useEditor = (options = {}, deps = [])=>{\n    const editorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [, forceUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const { onBeforeCreate, onBlur, onCreate, onDestroy, onFocus, onSelectionUpdate, onTransaction, onUpdate } = options;\n    const onBeforeCreateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onBeforeCreate);\n    const onBlurRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onBlur);\n    const onCreateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onCreate);\n    const onDestroyRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onDestroy);\n    const onFocusRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onFocus);\n    const onSelectionUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onSelectionUpdate);\n    const onTransactionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onTransaction);\n    const onUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(onUpdate);\n    // This effect will handle updating the editor instance\n    // when the event handlers change.\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!editorRef.current) {\n            return;\n        }\n        if (onBeforeCreate) {\n            editorRef.current.off(\"beforeCreate\", onBeforeCreateRef.current);\n            editorRef.current.on(\"beforeCreate\", onBeforeCreate);\n            onBeforeCreateRef.current = onBeforeCreate;\n        }\n        if (onBlur) {\n            editorRef.current.off(\"blur\", onBlurRef.current);\n            editorRef.current.on(\"blur\", onBlur);\n            onBlurRef.current = onBlur;\n        }\n        if (onCreate) {\n            editorRef.current.off(\"create\", onCreateRef.current);\n            editorRef.current.on(\"create\", onCreate);\n            onCreateRef.current = onCreate;\n        }\n        if (onDestroy) {\n            editorRef.current.off(\"destroy\", onDestroyRef.current);\n            editorRef.current.on(\"destroy\", onDestroy);\n            onDestroyRef.current = onDestroy;\n        }\n        if (onFocus) {\n            editorRef.current.off(\"focus\", onFocusRef.current);\n            editorRef.current.on(\"focus\", onFocus);\n            onFocusRef.current = onFocus;\n        }\n        if (onSelectionUpdate) {\n            editorRef.current.off(\"selectionUpdate\", onSelectionUpdateRef.current);\n            editorRef.current.on(\"selectionUpdate\", onSelectionUpdate);\n            onSelectionUpdateRef.current = onSelectionUpdate;\n        }\n        if (onTransaction) {\n            editorRef.current.off(\"transaction\", onTransactionRef.current);\n            editorRef.current.on(\"transaction\", onTransaction);\n            onTransactionRef.current = onTransaction;\n        }\n        if (onUpdate) {\n            editorRef.current.off(\"update\", onUpdateRef.current);\n            editorRef.current.on(\"update\", onUpdate);\n            onUpdateRef.current = onUpdate;\n        }\n    }, [\n        onBeforeCreate,\n        onBlur,\n        onCreate,\n        onDestroy,\n        onFocus,\n        onSelectionUpdate,\n        onTransaction,\n        onUpdate,\n        editorRef.current\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isMounted = true;\n        editorRef.current = new Editor(options);\n        editorRef.current.on(\"transaction\", ()=>{\n            requestAnimationFrame(()=>{\n                requestAnimationFrame(()=>{\n                    if (isMounted) {\n                        forceUpdate({});\n                    }\n                });\n            });\n        });\n        return ()=>{\n            isMounted = false;\n        };\n    }, deps);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            var _a;\n            return (_a = editorRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        };\n    }, []);\n    return editorRef.current;\n};\nconst EditorContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    editor: null\n});\nconst EditorConsumer = EditorContext.Consumer;\nconst useCurrentEditor = ()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(EditorContext);\nconst EditorProvider = ({ children, slotAfter, slotBefore, ...editorOptions })=>{\n    const editor = useEditor(editorOptions);\n    if (!editor) {\n        return null;\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorContext.Provider, {\n        value: {\n            editor\n        }\n    }, slotBefore, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorConsumer, null, ({ editor: currentEditor })=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorContent, {\n            editor: currentEditor\n        })), children, slotAfter);\n};\nconst BubbleMenu = (props)=>{\n    const [element, setElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { editor: currentEditor } = useCurrentEditor();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _a;\n        if (!element) {\n            return;\n        }\n        if (((_a = props.editor) === null || _a === void 0 ? void 0 : _a.isDestroyed) || (currentEditor === null || currentEditor === void 0 ? void 0 : currentEditor.isDestroyed)) {\n            return;\n        }\n        const { pluginKey = \"bubbleMenu\", editor, tippyOptions = {}, updateDelay, shouldShow = null } = props;\n        const menuEditor = editor || currentEditor;\n        if (!menuEditor) {\n            console.warn(\"BubbleMenu component is not rendered inside of an editor component or does not have editor prop.\");\n            return;\n        }\n        const plugin = (0,_tiptap_extension_bubble_menu__WEBPACK_IMPORTED_MODULE_3__.BubbleMenuPlugin)({\n            updateDelay,\n            editor: menuEditor,\n            element,\n            pluginKey,\n            shouldShow,\n            tippyOptions\n        });\n        menuEditor.registerPlugin(plugin);\n        return ()=>menuEditor.unregisterPlugin(pluginKey);\n    }, [\n        props.editor,\n        currentEditor,\n        element\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setElement,\n        className: props.className,\n        style: {\n            visibility: \"hidden\"\n        }\n    }, props.children);\n};\nconst FloatingMenu = (props)=>{\n    const [element, setElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { editor: currentEditor } = useCurrentEditor();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _a;\n        if (!element) {\n            return;\n        }\n        if (((_a = props.editor) === null || _a === void 0 ? void 0 : _a.isDestroyed) || (currentEditor === null || currentEditor === void 0 ? void 0 : currentEditor.isDestroyed)) {\n            return;\n        }\n        const { pluginKey = \"floatingMenu\", editor, tippyOptions = {}, shouldShow = null } = props;\n        const menuEditor = editor || currentEditor;\n        if (!menuEditor) {\n            console.warn(\"FloatingMenu component is not rendered inside of an editor component or does not have editor prop.\");\n            return;\n        }\n        const plugin = (0,_tiptap_extension_floating_menu__WEBPACK_IMPORTED_MODULE_4__.FloatingMenuPlugin)({\n            pluginKey,\n            editor: menuEditor,\n            element,\n            tippyOptions,\n            shouldShow\n        });\n        menuEditor.registerPlugin(plugin);\n        return ()=>menuEditor.unregisterPlugin(pluginKey);\n    }, [\n        props.editor,\n        currentEditor,\n        element\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setElement,\n        className: props.className,\n        style: {\n            visibility: \"hidden\"\n        }\n    }, props.children);\n};\nconst ReactNodeViewContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    onDragStart: undefined\n});\nconst useReactNodeView = ()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ReactNodeViewContext);\nconst NodeViewContent = (props)=>{\n    const Tag = props.as || \"div\";\n    const { nodeViewContentRef } = useReactNodeView();\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Tag, {\n        ...props,\n        ref: nodeViewContentRef,\n        \"data-node-view-content\": \"\",\n        style: {\n            whiteSpace: \"pre-wrap\",\n            ...props.style\n        }\n    });\n};\nconst NodeViewWrapper = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props, ref)=>{\n    const { onDragStart } = useReactNodeView();\n    const Tag = props.as || \"div\";\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Tag, {\n        ...props,\n        ref: ref,\n        \"data-node-view-wrapper\": \"\",\n        onDragStart: onDragStart,\n        style: {\n            whiteSpace: \"normal\",\n            ...props.style\n        }\n    });\n});\nfunction isClassComponent(Component) {\n    return !!(typeof Component === \"function\" && Component.prototype && Component.prototype.isReactComponent);\n}\nfunction isForwardRefComponent(Component) {\n    var _a;\n    return !!(typeof Component === \"object\" && ((_a = Component.$$typeof) === null || _a === void 0 ? void 0 : _a.toString()) === \"Symbol(react.forward_ref)\");\n}\nclass ReactRenderer {\n    constructor(component, { editor, props = {}, as = \"div\", className = \"\", attrs }){\n        this.ref = null;\n        this.id = Math.floor(Math.random() * 0xFFFFFFFF).toString();\n        this.component = component;\n        this.editor = editor;\n        this.props = props;\n        this.element = document.createElement(as);\n        this.element.classList.add(\"react-renderer\");\n        if (className) {\n            this.element.classList.add(...className.split(\" \"));\n        }\n        if (attrs) {\n            Object.keys(attrs).forEach((key)=>{\n                this.element.setAttribute(key, attrs[key]);\n            });\n        }\n        this.render();\n    }\n    render() {\n        var _a, _b;\n        const Component = this.component;\n        const props = this.props;\n        if (isClassComponent(Component) || isForwardRefComponent(Component)) {\n            props.ref = (ref)=>{\n                this.ref = ref;\n            };\n        }\n        this.reactElement = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n            ...props\n        });\n        (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.setRenderer(this.id, this);\n    }\n    updateProps(props = {}) {\n        this.props = {\n            ...this.props,\n            ...props\n        };\n        this.render();\n    }\n    destroy() {\n        var _a, _b;\n        (_b = (_a = this.editor) === null || _a === void 0 ? void 0 : _a.contentComponent) === null || _b === void 0 ? void 0 : _b.removeRenderer(this.id);\n    }\n}\nclass ReactNodeView extends _tiptap_core__WEBPACK_IMPORTED_MODULE_2__.NodeView {\n    mount() {\n        const props = {\n            editor: this.editor,\n            node: this.node,\n            decorations: this.decorations,\n            selected: false,\n            extension: this.extension,\n            getPos: ()=>this.getPos(),\n            updateAttributes: (attributes = {})=>this.updateAttributes(attributes),\n            deleteNode: ()=>this.deleteNode()\n        };\n        if (!this.component.displayName) {\n            const capitalizeFirstChar = (string)=>{\n                return string.charAt(0).toUpperCase() + string.substring(1);\n            };\n            this.component.displayName = capitalizeFirstChar(this.extension.name);\n        }\n        const ReactNodeViewProvider = (componentProps)=>{\n            const Component = this.component;\n            const onDragStart = this.onDragStart.bind(this);\n            const nodeViewContentRef = (element)=>{\n                if (element && this.contentDOMElement && element.firstChild !== this.contentDOMElement) {\n                    element.appendChild(this.contentDOMElement);\n                }\n            };\n            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ReactNodeViewContext.Provider, {\n                value: {\n                    onDragStart,\n                    nodeViewContentRef\n                }\n            }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n                ...componentProps\n            })));\n        };\n        ReactNodeViewProvider.displayName = \"ReactNodeView\";\n        if (this.node.isLeaf) {\n            this.contentDOMElement = null;\n        } else if (this.options.contentDOMElementTag) {\n            this.contentDOMElement = document.createElement(this.options.contentDOMElementTag);\n        } else {\n            this.contentDOMElement = document.createElement(this.node.isInline ? \"span\" : \"div\");\n        }\n        if (this.contentDOMElement) {\n            // For some reason the whiteSpace prop is not inherited properly in Chrome and Safari\n            // With this fix it seems to work fine\n            // See: https://github.com/ueberdosis/tiptap/issues/1197\n            this.contentDOMElement.style.whiteSpace = \"inherit\";\n        }\n        let as = this.node.isInline ? \"span\" : \"div\";\n        if (this.options.as) {\n            as = this.options.as;\n        }\n        const { className = \"\" } = this.options;\n        this.handleSelectionUpdate = this.handleSelectionUpdate.bind(this);\n        this.editor.on(\"selectionUpdate\", this.handleSelectionUpdate);\n        this.renderer = new ReactRenderer(ReactNodeViewProvider, {\n            editor: this.editor,\n            props,\n            as,\n            className: `node-${this.node.type.name} ${className}`.trim(),\n            attrs: this.options.attrs\n        });\n    }\n    get dom() {\n        var _a;\n        if (this.renderer.element.firstElementChild && !((_a = this.renderer.element.firstElementChild) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"data-node-view-wrapper\"))) {\n            throw Error(\"Please use the NodeViewWrapper component for your node view.\");\n        }\n        return this.renderer.element;\n    }\n    get contentDOM() {\n        if (this.node.isLeaf) {\n            return null;\n        }\n        return this.contentDOMElement;\n    }\n    handleSelectionUpdate() {\n        const { from, to } = this.editor.state.selection;\n        if (from <= this.getPos() && to >= this.getPos() + this.node.nodeSize) {\n            if (this.renderer.props.selected) {\n                return;\n            }\n            this.selectNode();\n        } else {\n            if (!this.renderer.props.selected) {\n                return;\n            }\n            this.deselectNode();\n        }\n    }\n    update(node, decorations) {\n        const updateProps = (props)=>{\n            this.renderer.updateProps(props);\n        };\n        if (node.type !== this.node.type) {\n            return false;\n        }\n        if (typeof this.options.update === \"function\") {\n            const oldNode = this.node;\n            const oldDecorations = this.decorations;\n            this.node = node;\n            this.decorations = decorations;\n            return this.options.update({\n                oldNode,\n                oldDecorations,\n                newNode: node,\n                newDecorations: decorations,\n                updateProps: ()=>updateProps({\n                        node,\n                        decorations\n                    })\n            });\n        }\n        if (node === this.node && this.decorations === decorations) {\n            return true;\n        }\n        this.node = node;\n        this.decorations = decorations;\n        updateProps({\n            node,\n            decorations\n        });\n        return true;\n    }\n    selectNode() {\n        this.renderer.updateProps({\n            selected: true\n        });\n        this.renderer.element.classList.add(\"ProseMirror-selectednode\");\n    }\n    deselectNode() {\n        this.renderer.updateProps({\n            selected: false\n        });\n        this.renderer.element.classList.remove(\"ProseMirror-selectednode\");\n    }\n    destroy() {\n        this.renderer.destroy();\n        this.editor.off(\"selectionUpdate\", this.handleSelectionUpdate);\n        this.contentDOMElement = null;\n    }\n}\nfunction ReactNodeViewRenderer(component, options) {\n    return (props)=>{\n        // try to get the parent component\n        // this is important for vue devtools to show the component hierarchy correctly\n        // maybe it’s `undefined` because <editor-content> isn’t rendered yet\n        if (!props.editor.contentComponent) {\n            return {};\n        }\n        return new ReactNodeView(component, props, options);\n    };\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHRhcC9yZWFjdC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDaUM7QUFDbEQ7QUFDWTtBQUMvQjtBQUN3QztBQUVyRSxNQUFNYyxZQUFZLENBQUMsR0FBR0M7SUFDbEIsT0FBTyxDQUFDQztRQUNKRCxLQUFLRSxPQUFPLENBQUNDLENBQUFBO1lBQ1QsSUFBSSxPQUFPQSxRQUFRLFlBQVk7Z0JBQzNCQSxJQUFJRjtZQUNSLE9BQ0ssSUFBSUUsS0FBSztnQkFDVkEsSUFBSUMsT0FBTyxHQUFHSDtZQUNsQjtRQUNKO0lBQ0o7QUFDSjtBQUNBLE1BQU1JLFVBQVUsQ0FBQyxFQUFFQyxTQUFTLEVBQUU7SUFDMUIscUJBQVFwQixnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNdUIsT0FBT0MsT0FBTyxDQUFDSixXQUFXSyxHQUFHLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxTQUFTO1FBQzVGLHFCQUFPcEIsbURBQXFCLENBQUNvQixTQUFTRSxZQUFZLEVBQUVGLFNBQVNHLE9BQU8sRUFBRUo7SUFDMUU7QUFDSjtBQUNBLE1BQU1LLDBCQUEwQi9CLDRDQUFlO0lBQzNDaUMsWUFBWUMsS0FBSyxDQUFFO1FBQ2YsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsZ0JBQWdCLGlCQUFHbkMsNENBQWU7UUFDdkMsSUFBSSxDQUFDcUMsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsS0FBSyxHQUFHO1lBQ1RsQixXQUFXLENBQUM7UUFDaEI7SUFDSjtJQUNBbUIsb0JBQW9CO1FBQ2hCLElBQUksQ0FBQ0MsSUFBSTtJQUNiO0lBQ0FDLHFCQUFxQjtRQUNqQixJQUFJLENBQUNELElBQUk7SUFDYjtJQUNBQSxPQUFPO1FB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LFdBQVcsQ0FBQztZQUN0QkksVUFBVTtRQUNkO1FBQ0EsSUFBSSxDQUFDbkksUUFBUSxDQUFDRyxPQUFPLENBQUNzSCxTQUFTLENBQUNrRCxNQUFNLENBQUM7SUFDM0M7SUFDQWpHLFVBQVU7UUFDTixJQUFJLENBQUMxRSxRQUFRLENBQUMwRSxPQUFPO1FBQ3JCLElBQUksQ0FBQzNELE1BQU0sQ0FBQ3NELEdBQUcsQ0FBQyxtQkFBbUIsSUFBSSxDQUFDbUYscUJBQXFCO1FBQzdELElBQUksQ0FBQ0wsaUJBQWlCLEdBQUc7SUFDN0I7QUFDSjtBQUNBLFNBQVN5QixzQkFBc0JyRCxTQUFTLEVBQUV2RyxPQUFPO0lBQzdDLE9BQU8sQ0FBQ1Q7UUFDSixrQ0FBa0M7UUFDbEMsK0VBQStFO1FBQy9FLHFFQUFxRTtRQUNyRSxJQUFJLENBQUNBLE1BQU1RLE1BQU0sQ0FBQ0UsZ0JBQWdCLEVBQUU7WUFDaEMsT0FBTyxDQUFDO1FBQ1o7UUFDQSxPQUFPLElBQUkrRyxjQUFjVCxXQUFXaEgsT0FBT1M7SUFDL0M7QUFDSjtBQUVrTyxDQUNsTyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZS1qb3VybmFsLy4vbm9kZV9tb2R1bGVzL0B0aXB0YXAvcmVhY3QvZGlzdC9pbmRleC5qcz9hYmJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1YmJsZU1lbnVQbHVnaW4gfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1idWJibGUtbWVudSc7XG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NLCB7IGZsdXNoU3luYyB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBFZGl0b3IgYXMgRWRpdG9yJDEsIE5vZGVWaWV3IH0gZnJvbSAnQHRpcHRhcC9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0B0aXB0YXAvY29yZSc7XG5pbXBvcnQgeyBGbG9hdGluZ01lbnVQbHVnaW4gfSBmcm9tICdAdGlwdGFwL2V4dGVuc2lvbi1mbG9hdGluZy1tZW51JztcblxuY29uc3QgbWVyZ2VSZWZzID0gKC4uLnJlZnMpID0+IHtcclxuICAgIHJldHVybiAobm9kZSkgPT4ge1xyXG4gICAgICAgIHJlZnMuZm9yRWFjaChyZWYgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgcmVmKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlZikge1xyXG4gICAgICAgICAgICAgICAgcmVmLmN1cnJlbnQgPSBub2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59O1xyXG5jb25zdCBQb3J0YWxzID0gKHsgcmVuZGVyZXJzIH0pID0+IHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgT2JqZWN0LmVudHJpZXMocmVuZGVyZXJzKS5tYXAoKFtrZXksIHJlbmRlcmVyXSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBSZWFjdERPTS5jcmVhdGVQb3J0YWwocmVuZGVyZXIucmVhY3RFbGVtZW50LCByZW5kZXJlci5lbGVtZW50LCBrZXkpO1xyXG4gICAgfSkpKTtcclxufTtcclxuY2xhc3MgUHVyZUVkaXRvckNvbnRlbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3JDb250ZW50UmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmVyczoge30sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCB7IGVkaXRvciB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBpZiAoZWRpdG9yICYmIGVkaXRvci5vcHRpb25zLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVkaXRvci5jb250ZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWRpdG9yQ29udGVudFJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZCguLi5lZGl0b3Iub3B0aW9ucy5lbGVtZW50LmNoaWxkTm9kZXMpO1xyXG4gICAgICAgICAgICBlZGl0b3Iuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWRpdG9yLmNvbnRlbnRDb21wb25lbnQgPSB0aGlzO1xyXG4gICAgICAgICAgICBlZGl0b3IuY3JlYXRlTm9kZVZpZXdzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1heWJlRmx1c2hTeW5jKGZuKSB7XHJcbiAgICAgICAgLy8gQXZvaWQgY2FsbGluZyBmbHVzaFN5bmMgdW50aWwgdGhlIGVkaXRvciBpcyBpbml0aWFsaXplZC5cclxuICAgICAgICAvLyBJbml0aWFsaXphdGlvbiBoYXBwZW5zIGR1cmluZyB0aGUgY29tcG9uZW50RGlkTW91bnQgb3IgY29tcG9uZW50RGlkVXBkYXRlXHJcbiAgICAgICAgLy8gbGlmZWN5Y2xlIG1ldGhvZHMsIGFuZCBSZWFjdCBkb2Vzbid0IGFsbG93IGNhbGxpbmcgZmx1c2hTeW5jIGZyb20gaW5zaWRlXHJcbiAgICAgICAgLy8gYSBsaWZlY3ljbGUgbWV0aG9kLlxyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIGZsdXNoU3luYyhmbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFJlbmRlcmVyKGlkLCByZW5kZXJlcikge1xyXG4gICAgICAgIHRoaXMubWF5YmVGbHVzaFN5bmMoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKCh7IHJlbmRlcmVycyB9KSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVuZGVyZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIFtpZF06IHJlbmRlcmVyLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlUmVuZGVyZXIoaWQpIHtcclxuICAgICAgICB0aGlzLm1heWJlRmx1c2hTeW5jKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoeyByZW5kZXJlcnMgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFJlbmRlcmVycyA9IHsgLi4ucmVuZGVyZXJzIH07XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV4dFJlbmRlcmVyc1tpZF07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZW5kZXJlcnM6IG5leHRSZW5kZXJlcnMgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcclxuICAgICAgICBjb25zdCB7IGVkaXRvciB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBpZiAoIWVkaXRvcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoIWVkaXRvci5pc0Rlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICBlZGl0b3Iudmlldy5zZXRQcm9wcyh7XHJcbiAgICAgICAgICAgICAgICBub2RlVmlld3M6IHt9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWRpdG9yLmNvbnRlbnRDb21wb25lbnQgPSBudWxsO1xyXG4gICAgICAgIGlmICghZWRpdG9yLm9wdGlvbnMuZWxlbWVudC5maXJzdENoaWxkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG5ld0VsZW1lbnQuYXBwZW5kKC4uLmVkaXRvci5vcHRpb25zLmVsZW1lbnQuY2hpbGROb2Rlcyk7XHJcbiAgICAgICAgZWRpdG9yLnNldE9wdGlvbnMoe1xyXG4gICAgICAgICAgICBlbGVtZW50OiBuZXdFbGVtZW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZWRpdG9yLCBpbm5lclJlZiwgLi4ucmVzdCB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IG1lcmdlUmVmcyhpbm5lclJlZiwgdGhpcy5lZGl0b3JDb250ZW50UmVmKSwgLi4ucmVzdCB9KSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChQb3J0YWxzLCB7IHJlbmRlcmVyczogdGhpcy5zdGF0ZS5yZW5kZXJlcnMgfSkpKTtcclxuICAgIH1cclxufVxyXG4vLyBFZGl0b3JDb250ZW50IHNob3VsZCBiZSByZS1jcmVhdGVkIHdoZW5ldmVyIHRoZSBFZGl0b3IgaW5zdGFuY2UgY2hhbmdlc1xyXG5jb25zdCBFZGl0b3JDb250ZW50V2l0aEtleSA9IGZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcclxuICAgIGNvbnN0IGtleSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweEZGRkZGRkZGKS50b1N0cmluZygpO1xyXG4gICAgfSwgW3Byb3BzLmVkaXRvcl0pO1xyXG4gICAgLy8gQ2FuJ3QgdXNlIEpTWCBoZXJlIGJlY2F1c2UgaXQgY29uZmxpY3RzIHdpdGggdGhlIHR5cGUgZGVmaW5pdGlvbiBvZiBWdWUncyBKU1gsIHNvIHVzZSBjcmVhdGVFbGVtZW50XHJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQdXJlRWRpdG9yQ29udGVudCwge1xyXG4gICAgICAgIGtleSxcclxuICAgICAgICBpbm5lclJlZjogcmVmLFxyXG4gICAgICAgIC4uLnByb3BzLFxyXG4gICAgfSk7XHJcbn0pO1xyXG5jb25zdCBFZGl0b3JDb250ZW50ID0gUmVhY3QubWVtbyhFZGl0b3JDb250ZW50V2l0aEtleSk7XG5cbmNsYXNzIEVkaXRvciBleHRlbmRzIEVkaXRvciQxIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5jb250ZW50Q29tcG9uZW50ID0gbnVsbDtcclxuICAgIH1cclxufVxuXG5jb25zdCB1c2VFZGl0b3IgPSAob3B0aW9ucyA9IHt9LCBkZXBzID0gW10pID0+IHtcclxuICAgIGNvbnN0IGVkaXRvclJlZiA9IHVzZVJlZihudWxsKTtcclxuICAgIGNvbnN0IFssIGZvcmNlVXBkYXRlXSA9IHVzZVN0YXRlKHt9KTtcclxuICAgIGNvbnN0IHsgb25CZWZvcmVDcmVhdGUsIG9uQmx1ciwgb25DcmVhdGUsIG9uRGVzdHJveSwgb25Gb2N1cywgb25TZWxlY3Rpb25VcGRhdGUsIG9uVHJhbnNhY3Rpb24sIG9uVXBkYXRlLCB9ID0gb3B0aW9ucztcclxuICAgIGNvbnN0IG9uQmVmb3JlQ3JlYXRlUmVmID0gdXNlUmVmKG9uQmVmb3JlQ3JlYXRlKTtcclxuICAgIGNvbnN0IG9uQmx1clJlZiA9IHVzZVJlZihvbkJsdXIpO1xyXG4gICAgY29uc3Qgb25DcmVhdGVSZWYgPSB1c2VSZWYob25DcmVhdGUpO1xyXG4gICAgY29uc3Qgb25EZXN0cm95UmVmID0gdXNlUmVmKG9uRGVzdHJveSk7XHJcbiAgICBjb25zdCBvbkZvY3VzUmVmID0gdXNlUmVmKG9uRm9jdXMpO1xyXG4gICAgY29uc3Qgb25TZWxlY3Rpb25VcGRhdGVSZWYgPSB1c2VSZWYob25TZWxlY3Rpb25VcGRhdGUpO1xyXG4gICAgY29uc3Qgb25UcmFuc2FjdGlvblJlZiA9IHVzZVJlZihvblRyYW5zYWN0aW9uKTtcclxuICAgIGNvbnN0IG9uVXBkYXRlUmVmID0gdXNlUmVmKG9uVXBkYXRlKTtcclxuICAgIC8vIFRoaXMgZWZmZWN0IHdpbGwgaGFuZGxlIHVwZGF0aW5nIHRoZSBlZGl0b3IgaW5zdGFuY2VcclxuICAgIC8vIHdoZW4gdGhlIGV2ZW50IGhhbmRsZXJzIGNoYW5nZS5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFlZGl0b3JSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbkJlZm9yZUNyZWF0ZSkge1xyXG4gICAgICAgICAgICBlZGl0b3JSZWYuY3VycmVudC5vZmYoJ2JlZm9yZUNyZWF0ZScsIG9uQmVmb3JlQ3JlYXRlUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICBlZGl0b3JSZWYuY3VycmVudC5vbignYmVmb3JlQ3JlYXRlJywgb25CZWZvcmVDcmVhdGUpO1xyXG4gICAgICAgICAgICBvbkJlZm9yZUNyZWF0ZVJlZi5jdXJyZW50ID0gb25CZWZvcmVDcmVhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbkJsdXIpIHtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub2ZmKCdibHVyJywgb25CbHVyUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICBlZGl0b3JSZWYuY3VycmVudC5vbignYmx1cicsIG9uQmx1cik7XHJcbiAgICAgICAgICAgIG9uQmx1clJlZi5jdXJyZW50ID0gb25CbHVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob25DcmVhdGUpIHtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub2ZmKCdjcmVhdGUnLCBvbkNyZWF0ZVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub24oJ2NyZWF0ZScsIG9uQ3JlYXRlKTtcclxuICAgICAgICAgICAgb25DcmVhdGVSZWYuY3VycmVudCA9IG9uQ3JlYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob25EZXN0cm95KSB7XHJcbiAgICAgICAgICAgIGVkaXRvclJlZi5jdXJyZW50Lm9mZignZGVzdHJveScsIG9uRGVzdHJveVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub24oJ2Rlc3Ryb3knLCBvbkRlc3Ryb3kpO1xyXG4gICAgICAgICAgICBvbkRlc3Ryb3lSZWYuY3VycmVudCA9IG9uRGVzdHJveTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uRm9jdXMpIHtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub2ZmKCdmb2N1cycsIG9uRm9jdXNSZWYuY3VycmVudCk7XHJcbiAgICAgICAgICAgIGVkaXRvclJlZi5jdXJyZW50Lm9uKCdmb2N1cycsIG9uRm9jdXMpO1xyXG4gICAgICAgICAgICBvbkZvY3VzUmVmLmN1cnJlbnQgPSBvbkZvY3VzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob25TZWxlY3Rpb25VcGRhdGUpIHtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub2ZmKCdzZWxlY3Rpb25VcGRhdGUnLCBvblNlbGVjdGlvblVwZGF0ZVJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub24oJ3NlbGVjdGlvblVwZGF0ZScsIG9uU2VsZWN0aW9uVXBkYXRlKTtcclxuICAgICAgICAgICAgb25TZWxlY3Rpb25VcGRhdGVSZWYuY3VycmVudCA9IG9uU2VsZWN0aW9uVXBkYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob25UcmFuc2FjdGlvbikge1xyXG4gICAgICAgICAgICBlZGl0b3JSZWYuY3VycmVudC5vZmYoJ3RyYW5zYWN0aW9uJywgb25UcmFuc2FjdGlvblJlZi5jdXJyZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQub24oJ3RyYW5zYWN0aW9uJywgb25UcmFuc2FjdGlvbik7XHJcbiAgICAgICAgICAgIG9uVHJhbnNhY3Rpb25SZWYuY3VycmVudCA9IG9uVHJhbnNhY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvblVwZGF0ZSkge1xyXG4gICAgICAgICAgICBlZGl0b3JSZWYuY3VycmVudC5vZmYoJ3VwZGF0ZScsIG9uVXBkYXRlUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICBlZGl0b3JSZWYuY3VycmVudC5vbigndXBkYXRlJywgb25VcGRhdGUpO1xyXG4gICAgICAgICAgICBvblVwZGF0ZVJlZi5jdXJyZW50ID0gb25VcGRhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW29uQmVmb3JlQ3JlYXRlLCBvbkJsdXIsIG9uQ3JlYXRlLCBvbkRlc3Ryb3ksIG9uRm9jdXMsIG9uU2VsZWN0aW9uVXBkYXRlLCBvblRyYW5zYWN0aW9uLCBvblVwZGF0ZSwgZWRpdG9yUmVmLmN1cnJlbnRdKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgZWRpdG9yUmVmLmN1cnJlbnQgPSBuZXcgRWRpdG9yKG9wdGlvbnMpO1xyXG4gICAgICAgIGVkaXRvclJlZi5jdXJyZW50Lm9uKCd0cmFuc2FjdGlvbicsICgpID0+IHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVVwZGF0ZSh7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICB9LCBkZXBzKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICByZXR1cm4gKF9hID0gZWRpdG9yUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZXN0cm95KCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtdKTtcclxuICAgIHJldHVybiBlZGl0b3JSZWYuY3VycmVudDtcclxufTtcblxuY29uc3QgRWRpdG9yQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xyXG4gICAgZWRpdG9yOiBudWxsLFxyXG59KTtcclxuY29uc3QgRWRpdG9yQ29uc3VtZXIgPSBFZGl0b3JDb250ZXh0LkNvbnN1bWVyO1xyXG5jb25zdCB1c2VDdXJyZW50RWRpdG9yID0gKCkgPT4gdXNlQ29udGV4dChFZGl0b3JDb250ZXh0KTtcclxuY29uc3QgRWRpdG9yUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiwgc2xvdEFmdGVyLCBzbG90QmVmb3JlLCAuLi5lZGl0b3JPcHRpb25zIH0pID0+IHtcclxuICAgIGNvbnN0IGVkaXRvciA9IHVzZUVkaXRvcihlZGl0b3JPcHRpb25zKTtcclxuICAgIGlmICghZWRpdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWRpdG9yQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBlZGl0b3IgfSB9LFxyXG4gICAgICAgIHNsb3RCZWZvcmUsXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0b3JDb25zdW1lciwgbnVsbCwgKHsgZWRpdG9yOiBjdXJyZW50RWRpdG9yIH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRvckNvbnRlbnQsIHsgZWRpdG9yOiBjdXJyZW50RWRpdG9yIH0pKSksXHJcbiAgICAgICAgY2hpbGRyZW4sXHJcbiAgICAgICAgc2xvdEFmdGVyKSk7XHJcbn07XG5cbmNvbnN0IEJ1YmJsZU1lbnUgPSAocHJvcHMpID0+IHtcclxuICAgIGNvbnN0IFtlbGVtZW50LCBzZXRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gICAgY29uc3QgeyBlZGl0b3I6IGN1cnJlbnRFZGl0b3IgfSA9IHVzZUN1cnJlbnRFZGl0b3IoKTtcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIGlmICghZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoKF9hID0gcHJvcHMuZWRpdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNEZXN0cm95ZWQpIHx8IChjdXJyZW50RWRpdG9yID09PSBudWxsIHx8IGN1cnJlbnRFZGl0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRFZGl0b3IuaXNEZXN0cm95ZWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgeyBwbHVnaW5LZXkgPSAnYnViYmxlTWVudScsIGVkaXRvciwgdGlwcHlPcHRpb25zID0ge30sIHVwZGF0ZURlbGF5LCBzaG91bGRTaG93ID0gbnVsbCwgfSA9IHByb3BzO1xyXG4gICAgICAgIGNvbnN0IG1lbnVFZGl0b3IgPSBlZGl0b3IgfHwgY3VycmVudEVkaXRvcjtcclxuICAgICAgICBpZiAoIW1lbnVFZGl0b3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdCdWJibGVNZW51IGNvbXBvbmVudCBpcyBub3QgcmVuZGVyZWQgaW5zaWRlIG9mIGFuIGVkaXRvciBjb21wb25lbnQgb3IgZG9lcyBub3QgaGF2ZSBlZGl0b3IgcHJvcC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwbHVnaW4gPSBCdWJibGVNZW51UGx1Z2luKHtcclxuICAgICAgICAgICAgdXBkYXRlRGVsYXksXHJcbiAgICAgICAgICAgIGVkaXRvcjogbWVudUVkaXRvcixcclxuICAgICAgICAgICAgZWxlbWVudCxcclxuICAgICAgICAgICAgcGx1Z2luS2V5LFxyXG4gICAgICAgICAgICBzaG91bGRTaG93LFxyXG4gICAgICAgICAgICB0aXBweU9wdGlvbnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudUVkaXRvci5yZWdpc3RlclBsdWdpbihwbHVnaW4pO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiBtZW51RWRpdG9yLnVucmVnaXN0ZXJQbHVnaW4ocGx1Z2luS2V5KTtcclxuICAgIH0sIFtwcm9wcy5lZGl0b3IsIGN1cnJlbnRFZGl0b3IsIGVsZW1lbnRdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogc2V0RWxlbWVudCwgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIHN0eWxlOiB7IHZpc2liaWxpdHk6ICdoaWRkZW4nIH0gfSwgcHJvcHMuY2hpbGRyZW4pKTtcclxufTtcblxuY29uc3QgRmxvYXRpbmdNZW51ID0gKHByb3BzKSA9PiB7XHJcbiAgICBjb25zdCBbZWxlbWVudCwgc2V0RWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcclxuICAgIGNvbnN0IHsgZWRpdG9yOiBjdXJyZW50RWRpdG9yIH0gPSB1c2VDdXJyZW50RWRpdG9yKCk7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKChfYSA9IHByb3BzLmVkaXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRGVzdHJveWVkKSB8fCAoY3VycmVudEVkaXRvciA9PT0gbnVsbCB8fCBjdXJyZW50RWRpdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RWRpdG9yLmlzRGVzdHJveWVkKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgcGx1Z2luS2V5ID0gJ2Zsb2F0aW5nTWVudScsIGVkaXRvciwgdGlwcHlPcHRpb25zID0ge30sIHNob3VsZFNob3cgPSBudWxsLCB9ID0gcHJvcHM7XHJcbiAgICAgICAgY29uc3QgbWVudUVkaXRvciA9IGVkaXRvciB8fCBjdXJyZW50RWRpdG9yO1xyXG4gICAgICAgIGlmICghbWVudUVkaXRvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Zsb2F0aW5nTWVudSBjb21wb25lbnQgaXMgbm90IHJlbmRlcmVkIGluc2lkZSBvZiBhbiBlZGl0b3IgY29tcG9uZW50IG9yIGRvZXMgbm90IGhhdmUgZWRpdG9yIHByb3AuJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGx1Z2luID0gRmxvYXRpbmdNZW51UGx1Z2luKHtcclxuICAgICAgICAgICAgcGx1Z2luS2V5LFxyXG4gICAgICAgICAgICBlZGl0b3I6IG1lbnVFZGl0b3IsXHJcbiAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgIHRpcHB5T3B0aW9ucyxcclxuICAgICAgICAgICAgc2hvdWxkU2hvdyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBtZW51RWRpdG9yLnJlZ2lzdGVyUGx1Z2luKHBsdWdpbik7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IG1lbnVFZGl0b3IudW5yZWdpc3RlclBsdWdpbihwbHVnaW5LZXkpO1xyXG4gICAgfSwgW1xyXG4gICAgICAgIHByb3BzLmVkaXRvcixcclxuICAgICAgICBjdXJyZW50RWRpdG9yLFxyXG4gICAgICAgIGVsZW1lbnQsXHJcbiAgICBdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogc2V0RWxlbWVudCwgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIHN0eWxlOiB7IHZpc2liaWxpdHk6ICdoaWRkZW4nIH0gfSwgcHJvcHMuY2hpbGRyZW4pKTtcclxufTtcblxuY29uc3QgUmVhY3ROb2RlVmlld0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcclxuICAgIG9uRHJhZ1N0YXJ0OiB1bmRlZmluZWQsXHJcbn0pO1xyXG5jb25zdCB1c2VSZWFjdE5vZGVWaWV3ID0gKCkgPT4gdXNlQ29udGV4dChSZWFjdE5vZGVWaWV3Q29udGV4dCk7XG5cbmNvbnN0IE5vZGVWaWV3Q29udGVudCA9IHByb3BzID0+IHtcclxuICAgIGNvbnN0IFRhZyA9IHByb3BzLmFzIHx8ICdkaXYnO1xyXG4gICAgY29uc3QgeyBub2RlVmlld0NvbnRlbnRSZWYgfSA9IHVzZVJlYWN0Tm9kZVZpZXcoKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUYWcsIHsgLi4ucHJvcHMsIHJlZjogbm9kZVZpZXdDb250ZW50UmVmLCBcImRhdGEtbm9kZS12aWV3LWNvbnRlbnRcIjogXCJcIiwgc3R5bGU6IHtcclxuICAgICAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyxcclxuICAgICAgICAgICAgLi4ucHJvcHMuc3R5bGUsXHJcbiAgICAgICAgfSB9KSk7XHJcbn07XG5cbmNvbnN0IE5vZGVWaWV3V3JhcHBlciA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcclxuICAgIGNvbnN0IHsgb25EcmFnU3RhcnQgfSA9IHVzZVJlYWN0Tm9kZVZpZXcoKTtcclxuICAgIGNvbnN0IFRhZyA9IHByb3BzLmFzIHx8ICdkaXYnO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRhZywgeyAuLi5wcm9wcywgcmVmOiByZWYsIFwiZGF0YS1ub2RlLXZpZXctd3JhcHBlclwiOiBcIlwiLCBvbkRyYWdTdGFydDogb25EcmFnU3RhcnQsIHN0eWxlOiB7XHJcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3JtYWwnLFxyXG4gICAgICAgICAgICAuLi5wcm9wcy5zdHlsZSxcclxuICAgICAgICB9IH0pKTtcclxufSk7XG5cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQoQ29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gISEodHlwZW9mIENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICYmIENvbXBvbmVudC5wcm90b3R5cGVcclxuICAgICAgICAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xyXG59XHJcbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZkNvbXBvbmVudChDb21wb25lbnQpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHJldHVybiAhISh0eXBlb2YgQ29tcG9uZW50ID09PSAnb2JqZWN0J1xyXG4gICAgICAgICYmICgoX2EgPSBDb21wb25lbnQuJCR0eXBlb2YpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSA9PT0gJ1N5bWJvbChyZWFjdC5mb3J3YXJkX3JlZiknKTtcclxufVxyXG5jbGFzcyBSZWFjdFJlbmRlcmVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgeyBlZGl0b3IsIHByb3BzID0ge30sIGFzID0gJ2RpdicsIGNsYXNzTmFtZSA9ICcnLCBhdHRycywgfSkge1xyXG4gICAgICAgIHRoaXMucmVmID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHhGRkZGRkZGRikudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcclxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhcyk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3JlYWN0LXJlbmRlcmVyJyk7XHJcbiAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWUuc3BsaXQoJyAnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhdHRycykge1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGNvbnN0IENvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50O1xyXG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcztcclxuICAgICAgICBpZiAoaXNDbGFzc0NvbXBvbmVudChDb21wb25lbnQpIHx8IGlzRm9yd2FyZFJlZkNvbXBvbmVudChDb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnJlZiA9IChyZWYpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmID0gcmVmO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlYWN0RWxlbWVudCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7IC4uLnByb3BzIH0pO1xyXG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZWRpdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGVudENvbXBvbmVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNldFJlbmRlcmVyKHRoaXMuaWQsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlUHJvcHMocHJvcHMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMucHJvcHMgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMucHJvcHMsXHJcbiAgICAgICAgICAgIC4uLnByb3BzLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmVkaXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRlbnRDb21wb25lbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZW1vdmVSZW5kZXJlcih0aGlzLmlkKTtcclxuICAgIH1cclxufVxuXG5jbGFzcyBSZWFjdE5vZGVWaWV3IGV4dGVuZHMgTm9kZVZpZXcge1xyXG4gICAgbW91bnQoKSB7XHJcbiAgICAgICAgY29uc3QgcHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGVkaXRvcjogdGhpcy5lZGl0b3IsXHJcbiAgICAgICAgICAgIG5vZGU6IHRoaXMubm9kZSxcclxuICAgICAgICAgICAgZGVjb3JhdGlvbnM6IHRoaXMuZGVjb3JhdGlvbnMsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgZXh0ZW5zaW9uOiB0aGlzLmV4dGVuc2lvbixcclxuICAgICAgICAgICAgZ2V0UG9zOiAoKSA9PiB0aGlzLmdldFBvcygpLFxyXG4gICAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGVzOiAoYXR0cmlidXRlcyA9IHt9KSA9PiB0aGlzLnVwZGF0ZUF0dHJpYnV0ZXMoYXR0cmlidXRlcyksXHJcbiAgICAgICAgICAgIGRlbGV0ZU5vZGU6ICgpID0+IHRoaXMuZGVsZXRlTm9kZSgpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudC5kaXNwbGF5TmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBjYXBpdGFsaXplRmlyc3RDaGFyID0gKHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmRpc3BsYXlOYW1lID0gY2FwaXRhbGl6ZUZpcnN0Q2hhcih0aGlzLmV4dGVuc2lvbi5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgUmVhY3ROb2RlVmlld1Byb3ZpZGVyID0gY29tcG9uZW50UHJvcHMgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBDb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgY29uc3Qgb25EcmFnU3RhcnQgPSB0aGlzLm9uRHJhZ1N0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGVWaWV3Q29udGVudFJlZiA9IGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgdGhpcy5jb250ZW50RE9NRWxlbWVudCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQgIT09IHRoaXMuY29udGVudERPTUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGVudERPTUVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0Tm9kZVZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IG9uRHJhZ1N0YXJ0LCBub2RlVmlld0NvbnRlbnRSZWYgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7IC4uLmNvbXBvbmVudFByb3BzIH0pKSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUmVhY3ROb2RlVmlld1Byb3ZpZGVyLmRpc3BsYXlOYW1lID0gJ1JlYWN0Tm9kZVZpZXcnO1xyXG4gICAgICAgIGlmICh0aGlzLm5vZGUuaXNMZWFmKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudERPTUVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuY29udGVudERPTUVsZW1lbnRUYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50RE9NRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5vcHRpb25zLmNvbnRlbnRET01FbGVtZW50VGFnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudERPTUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMubm9kZS5pc0lubGluZSA/ICdzcGFuJyA6ICdkaXYnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29udGVudERPTUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIHRoZSB3aGl0ZVNwYWNlIHByb3AgaXMgbm90IGluaGVyaXRlZCBwcm9wZXJseSBpbiBDaHJvbWUgYW5kIFNhZmFyaVxyXG4gICAgICAgICAgICAvLyBXaXRoIHRoaXMgZml4IGl0IHNlZW1zIHRvIHdvcmsgZmluZVxyXG4gICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS91ZWJlcmRvc2lzL3RpcHRhcC9pc3N1ZXMvMTE5N1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRET01FbGVtZW50LnN0eWxlLndoaXRlU3BhY2UgPSAnaW5oZXJpdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhcyA9IHRoaXMubm9kZS5pc0lubGluZSA/ICdzcGFuJyA6ICdkaXYnO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXMpIHtcclxuICAgICAgICAgICAgYXMgPSB0aGlzLm9wdGlvbnMuYXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgY2xhc3NOYW1lID0gJycgfSA9IHRoaXMub3B0aW9ucztcclxuICAgICAgICB0aGlzLmhhbmRsZVNlbGVjdGlvblVwZGF0ZSA9IHRoaXMuaGFuZGxlU2VsZWN0aW9uVXBkYXRlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5lZGl0b3Iub24oJ3NlbGVjdGlvblVwZGF0ZScsIHRoaXMuaGFuZGxlU2VsZWN0aW9uVXBkYXRlKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlYWN0UmVuZGVyZXIoUmVhY3ROb2RlVmlld1Byb3ZpZGVyLCB7XHJcbiAgICAgICAgICAgIGVkaXRvcjogdGhpcy5lZGl0b3IsXHJcbiAgICAgICAgICAgIHByb3BzLFxyXG4gICAgICAgICAgICBhcyxcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBgbm9kZS0ke3RoaXMubm9kZS50eXBlLm5hbWV9ICR7Y2xhc3NOYW1lfWAudHJpbSgpLFxyXG4gICAgICAgICAgICBhdHRyczogdGhpcy5vcHRpb25zLmF0dHJzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0IGRvbSgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZFxyXG4gICAgICAgICAgICAmJiAhKChfYSA9IHRoaXMucmVuZGVyZXIuZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhhc0F0dHJpYnV0ZSgnZGF0YS1ub2RlLXZpZXctd3JhcHBlcicpKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignUGxlYXNlIHVzZSB0aGUgTm9kZVZpZXdXcmFwcGVyIGNvbXBvbmVudCBmb3IgeW91ciBub2RlIHZpZXcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBnZXQgY29udGVudERPTSgpIHtcclxuICAgICAgICBpZiAodGhpcy5ub2RlLmlzTGVhZikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudERPTUVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVTZWxlY3Rpb25VcGRhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xyXG4gICAgICAgIGlmIChmcm9tIDw9IHRoaXMuZ2V0UG9zKCkgJiYgdG8gPj0gdGhpcy5nZXRQb3MoKSArIHRoaXMubm9kZS5ub2RlU2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlci5wcm9wcy5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0Tm9kZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnByb3BzLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZXNlbGVjdE5vZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUobm9kZSwgZGVjb3JhdGlvbnMpIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVQcm9wcyA9IChwcm9wcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZVByb3BzKHByb3BzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChub2RlLnR5cGUgIT09IHRoaXMubm9kZS50eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMudXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZE5vZGUgPSB0aGlzLm5vZGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZERlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcclxuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IGRlY29yYXRpb25zO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBvbGROb2RlLFxyXG4gICAgICAgICAgICAgICAgb2xkRGVjb3JhdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlOiBub2RlLFxyXG4gICAgICAgICAgICAgICAgbmV3RGVjb3JhdGlvbnM6IGRlY29yYXRpb25zLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlUHJvcHM6ICgpID0+IHVwZGF0ZVByb3BzKHsgbm9kZSwgZGVjb3JhdGlvbnMgfSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobm9kZSA9PT0gdGhpcy5ub2RlICYmIHRoaXMuZGVjb3JhdGlvbnMgPT09IGRlY29yYXRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xyXG4gICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSBkZWNvcmF0aW9ucztcclxuICAgICAgICB1cGRhdGVQcm9wcyh7IG5vZGUsIGRlY29yYXRpb25zIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgc2VsZWN0Tm9kZSgpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZVByb3BzKHtcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ1Byb3NlTWlycm9yLXNlbGVjdGVkbm9kZScpO1xyXG4gICAgfVxyXG4gICAgZGVzZWxlY3ROb2RlKCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlUHJvcHMoe1xyXG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ1Byb3NlTWlycm9yLXNlbGVjdGVkbm9kZScpO1xyXG4gICAgfVxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmVkaXRvci5vZmYoJ3NlbGVjdGlvblVwZGF0ZScsIHRoaXMuaGFuZGxlU2VsZWN0aW9uVXBkYXRlKTtcclxuICAgICAgICB0aGlzLmNvbnRlbnRET01FbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBSZWFjdE5vZGVWaWV3UmVuZGVyZXIoY29tcG9uZW50LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gKHByb3BzKSA9PiB7XHJcbiAgICAgICAgLy8gdHJ5IHRvIGdldCB0aGUgcGFyZW50IGNvbXBvbmVudFxyXG4gICAgICAgIC8vIHRoaXMgaXMgaW1wb3J0YW50IGZvciB2dWUgZGV2dG9vbHMgdG8gc2hvdyB0aGUgY29tcG9uZW50IGhpZXJhcmNoeSBjb3JyZWN0bHlcclxuICAgICAgICAvLyBtYXliZSBpdOKAmXMgYHVuZGVmaW5lZGAgYmVjYXVzZSA8ZWRpdG9yLWNvbnRlbnQ+IGlzbuKAmXQgcmVuZGVyZWQgeWV0XHJcbiAgICAgICAgaWYgKCFwcm9wcy5lZGl0b3IuY29udGVudENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUmVhY3ROb2RlVmlldyhjb21wb25lbnQsIHByb3BzLCBvcHRpb25zKTtcclxuICAgIH07XHJcbn1cblxuZXhwb3J0IHsgQnViYmxlTWVudSwgRWRpdG9yLCBFZGl0b3JDb25zdW1lciwgRWRpdG9yQ29udGVudCwgRWRpdG9yQ29udGV4dCwgRWRpdG9yUHJvdmlkZXIsIEZsb2F0aW5nTWVudSwgTm9kZVZpZXdDb250ZW50LCBOb2RlVmlld1dyYXBwZXIsIFB1cmVFZGl0b3JDb250ZW50LCBSZWFjdE5vZGVWaWV3UmVuZGVyZXIsIFJlYWN0UmVuZGVyZXIsIHVzZUN1cnJlbnRFZGl0b3IsIHVzZUVkaXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiQnViYmxlTWVudVBsdWdpbiIsIlJlYWN0IiwiZm9yd2FyZFJlZiIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJSZWFjdERPTSIsImZsdXNoU3luYyIsIkVkaXRvciIsIkVkaXRvciQxIiwiTm9kZVZpZXciLCJGbG9hdGluZ01lbnVQbHVnaW4iLCJtZXJnZVJlZnMiLCJyZWZzIiwibm9kZSIsImZvckVhY2giLCJyZWYiLCJjdXJyZW50IiwiUG9ydGFscyIsInJlbmRlcmVycyIsImNyZWF0ZUVsZW1lbnQiLCJGcmFnbWVudCIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJrZXkiLCJyZW5kZXJlciIsImNyZWF0ZVBvcnRhbCIsInJlYWN0RWxlbWVudCIsImVsZW1lbnQiLCJQdXJlRWRpdG9yQ29udGVudCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJlZGl0b3JDb250ZW50UmVmIiwiY3JlYXRlUmVmIiwiaW5pdGlhbGl6ZWQiLCJzdGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwiaW5pdCIsImNvbXBvbmVudERpZFVwZGF0ZSIsImVkaXRvciIsIm9wdGlvbnMiLCJjb250ZW50Q29tcG9uZW50IiwiYXBwZW5kIiwiY2hpbGROb2RlcyIsInNldE9wdGlvbnMiLCJjcmVhdGVOb2RlVmlld3MiLCJtYXliZUZsdXNoU3luYyIsImZuIiwic2V0UmVuZGVyZXIiLCJpZCIsInNldFN0YXRlIiwicmVtb3ZlUmVuZGVyZXIiLCJuZXh0UmVuZGVyZXJzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpc0Rlc3Ryb3llZCIsInZpZXciLCJzZXRQcm9wcyIsIm5vZGVWaWV3cyIsImZpcnN0Q2hpbGQiLCJuZXdFbGVtZW50IiwiZG9jdW1lbnQiLCJyZW5kZXIiLCJpbm5lclJlZiIsInJlc3QiLCJFZGl0b3JDb250ZW50V2l0aEtleSIsInVzZU1lbW8iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsIkVkaXRvckNvbnRlbnQiLCJtZW1vIiwiYXJndW1lbnRzIiwidXNlRWRpdG9yIiwiZGVwcyIsImVkaXRvclJlZiIsImZvcmNlVXBkYXRlIiwib25CZWZvcmVDcmVhdGUiLCJvbkJsdXIiLCJvbkNyZWF0ZSIsIm9uRGVzdHJveSIsIm9uRm9jdXMiLCJvblNlbGVjdGlvblVwZGF0ZSIsIm9uVHJhbnNhY3Rpb24iLCJvblVwZGF0ZSIsIm9uQmVmb3JlQ3JlYXRlUmVmIiwib25CbHVyUmVmIiwib25DcmVhdGVSZWYiLCJvbkRlc3Ryb3lSZWYiLCJvbkZvY3VzUmVmIiwib25TZWxlY3Rpb25VcGRhdGVSZWYiLCJvblRyYW5zYWN0aW9uUmVmIiwib25VcGRhdGVSZWYiLCJvZmYiLCJvbiIsImlzTW91bnRlZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl9hIiwiZGVzdHJveSIsIkVkaXRvckNvbnRleHQiLCJFZGl0b3JDb25zdW1lciIsIkNvbnN1bWVyIiwidXNlQ3VycmVudEVkaXRvciIsIkVkaXRvclByb3ZpZGVyIiwiY2hpbGRyZW4iLCJzbG90QWZ0ZXIiLCJzbG90QmVmb3JlIiwiZWRpdG9yT3B0aW9ucyIsIlByb3ZpZGVyIiwidmFsdWUiLCJjdXJyZW50RWRpdG9yIiwiQnViYmxlTWVudSIsInNldEVsZW1lbnQiLCJwbHVnaW5LZXkiLCJ0aXBweU9wdGlvbnMiLCJ1cGRhdGVEZWxheSIsInNob3VsZFNob3ciLCJtZW51RWRpdG9yIiwiY29uc29sZSIsIndhcm4iLCJwbHVnaW4iLCJyZWdpc3RlclBsdWdpbiIsInVucmVnaXN0ZXJQbHVnaW4iLCJjbGFzc05hbWUiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJGbG9hdGluZ01lbnUiLCJSZWFjdE5vZGVWaWV3Q29udGV4dCIsIm9uRHJhZ1N0YXJ0IiwidW5kZWZpbmVkIiwidXNlUmVhY3ROb2RlVmlldyIsIk5vZGVWaWV3Q29udGVudCIsIlRhZyIsImFzIiwibm9kZVZpZXdDb250ZW50UmVmIiwid2hpdGVTcGFjZSIsIk5vZGVWaWV3V3JhcHBlciIsImlzQ2xhc3NDb21wb25lbnQiLCJwcm90b3R5cGUiLCJpc1JlYWN0Q29tcG9uZW50IiwiaXNGb3J3YXJkUmVmQ29tcG9uZW50IiwiJCR0eXBlb2YiLCJSZWFjdFJlbmRlcmVyIiwiY29tcG9uZW50IiwiYXR0cnMiLCJjbGFzc0xpc3QiLCJhZGQiLCJzcGxpdCIsImtleXMiLCJzZXRBdHRyaWJ1dGUiLCJfYiIsInVwZGF0ZVByb3BzIiwiUmVhY3ROb2RlVmlldyIsIm1vdW50IiwiZGVjb3JhdGlvbnMiLCJzZWxlY3RlZCIsImV4dGVuc2lvbiIsImdldFBvcyIsInVwZGF0ZUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiZGVsZXRlTm9kZSIsImRpc3BsYXlOYW1lIiwiY2FwaXRhbGl6ZUZpcnN0Q2hhciIsInN0cmluZyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3Vic3RyaW5nIiwibmFtZSIsIlJlYWN0Tm9kZVZpZXdQcm92aWRlciIsImNvbXBvbmVudFByb3BzIiwiYmluZCIsImNvbnRlbnRET01FbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpc0xlYWYiLCJjb250ZW50RE9NRWxlbWVudFRhZyIsImlzSW5saW5lIiwiaGFuZGxlU2VsZWN0aW9uVXBkYXRlIiwidHlwZSIsInRyaW0iLCJkb20iLCJmaXJzdEVsZW1lbnRDaGlsZCIsImhhc0F0dHJpYnV0ZSIsIkVycm9yIiwiY29udGVudERPTSIsImZyb20iLCJ0byIsInNlbGVjdGlvbiIsIm5vZGVTaXplIiwic2VsZWN0Tm9kZSIsImRlc2VsZWN0Tm9kZSIsInVwZGF0ZSIsIm9sZE5vZGUiLCJvbGREZWNvcmF0aW9ucyIsIm5ld05vZGUiLCJuZXdEZWNvcmF0aW9ucyIsInJlbW92ZSIsIlJlYWN0Tm9kZVZpZXdSZW5kZXJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tiptap/react/dist/index.js\n");

/***/ })

};
;